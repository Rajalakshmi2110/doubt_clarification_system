[
  {
    "text": "The author and publisher of this book have used their best efforts in preparing this book.These efforts include the\ndevelopment,research,and testing of the theories and programs to determine their effectiveness.The author and\npublisher make no warranty of any kind,expressed or implied,with regard to these programs or the documentation\ncontained in this book.The author and publisher shall not be liable in any event for incidental or consequential\ndamages in connection with,or arising out of,the furnishing,performance,or use of these programs."
  },
  {
    "text": "The site includes links to other relevant sites, transparency masters of figures in the book,\nand sign-up information for the book’s Internet mailing list. The Web page is at\nWilliamStallings.com/DCC/DCC8e.html; see the section, Web Site for Data and Computer\n• Expanded coverage of security: Chapter 21 is more detailed; other chapters\nprovide overview of security for the relevant topic."
  },
  {
    "text": "Among the new topics are\nWi-Fi Protected Access (WPA) and the secure hash algorithm SHA-512. • Domain Name System (DNS): This important scheme is now covered. • New coverage of multimedia: Introductory section in Chapter 2; detailed cov-\nerage in Chapter 24. Topics covered include video compression, SIP, and RTP."
  },
  {
    "text": "• Online appendices: Fourteen online appendices provide additional detail on\nimportant topics in the text, including Sockets programming, queuing models,\nthe Internet checksum, a detailed example of TCP/IP operation, and the BNF\nIn addition, throughout the book, virtually every topic has been updated to reflect the\ndevelopments in standards and technology that have occurred since the publication of the\nseventh edition."
  },
  {
    "text": "Here we give\nthe reader some basic background information. The book is organized into five parts:\nPart One. Overview: Provides an introduction to the range of topics covered in\nthe book.This part includes a general overview of data communications and net-\nworking and a discussion of protocols, OSI, and the TCP/IP protocol suite. Part Two."
  },
  {
    "text": "Data Communications: Concerned primarily with the exchange of\ndata between two directly connected devices.Within this restricted scope,the key\naspects of transmission, interfacing, link control, and multiplexing are examined. Part Three."
  },
  {
    "text": "Wide Area Networks: Examines the internal mechanisms and \nuser-network interfaces that have been developed to support voice, data, and \nmultimedia communications over long-distance networks. The traditional tech-\nnologies of packet switching and circuit switching are examined, as well as the\nmore recent ATM and wireless WANs."
  },
  {
    "text": "Separate chapters are devoted to routing\nand congestion control issues that are relevant both to switched data networks\nand to the Internet. Part Four. Local Area Networks: Explores the technologies and architectures\nthat have been developed for networking over shorter distances."
  },
  {
    "text": "The transmis-\nsion media, topologies, and medium access control protocols that are the key\ningredients of a LAN design are explored and specific standardized LAN sys-\ntems examined. Part Five. Networking Protocols: Explores both the architectural principles and\nthe mechanisms required for the exchange of data among computers, worksta-\ntions, servers, and other data processing devices."
  },
  {
    "text": "Much of the material in this part\nrelates to the TCP/IP protocol suite. Part Six. Internet Applications: Looks at a range of applications that operate\nover the Internet. A more detailed, chapter-by-chapter summary of each part appears at the\nbeginning of that part."
  },
  {
    "text": "0.2 / ROADMAP\nCourse Emphasis\nThe material in this book is organized into four broad categories: data transmission\nand communication; communications networks; network protocols; and applica-\ntions and security. The chapters and parts of the book are sufficiently modular to\nprovide a great deal of flexibility in the design of courses."
  },
  {
    "text": "The following are\nsuggestions for three different course designs:\n• Fundamentals of Data Communications: Parts One (overview) and Two (data\ncommunications) and Chapters 10 and 11 (circuit switching, packet switching,\n• Communications Networks: If the student has a basic background in data\ncommunications, then this course could cover Parts One (overview), Three\n(WAN), and Four (LAN)."
  },
  {
    "text": "• Computer Networks: If the student has a basic background in data communi-\ncations, then this course could cover Part One (overview), Chapters 6 and 7\n(data communication techniques and data link control), Part Five (protocols),\nand part or all of Part Six (applications)."
  },
  {
    "text": "In addition, a more streamlined course that covers the entire book is possible\nby eliminating certain chapters that are not essential on a first reading."
  },
  {
    "text": "Chapters\nthat could be optional are Chapters 3 (data transmission) and 4 (transmission\nmedia), if the student has a basic understanding of these topics; Chapter 8 (multi-\nplexing); Chapter 9 (spread spectrum); Chapters 12 through 14 (routing, congestion\ncontrol, cellular networks); Chapter 18 (internetworking); and Chapter 21 (network\nBottom-Up versus Top-Down\nThe book is organized in a modular fashion.After reading Part One, the other parts\ncan be read in a number of possible sequences."
  },
  {
    "text": "Figure 0.1a shows the bottom-up\napproach provided by reading the book from front to back.With this approach, each\npart builds on the material in the previous part, so that it is always clear how a given\nlayer of functionality is supported from below."
  },
  {
    "text": "After the background material (Part One), the reader continues at the\napplication level and works down through the protocol layers. This has the advan-\ntage of immediately focusing on the most visible part of the material, the applica-\ntions, and then seeing, progressively, how each layer is supported by the next layer\ndown."
  },
  {
    "text": "One course used the sequence Part One\n(Overview); Chapter 3 (Data Transmission); Chapter 6 (Digital Data Communica-\ntions Techniques); Chapter 7 (Data Link Control); Chapter 15 (LAN Overview);\nChapter 16 (High-Speed LANs); Chapter 10 (Circuit and Packet Switching);\nChapter 12 (Routing); Chapter 18 (Internet Protocols); and Chapter 19 (Internet\nOperation)."
  },
  {
    "text": "The other course used the sequence Part One (Overview); Chapter 3\n(Data Transmission); Chapter 4 (Guided and Wireless Transmission); Chapter 5\n(Signal Encoding Techniques); Chapter 8 (Multiplexing); Chapter 15 (LAN\nSuggested Reading Orders\nData Communications\nWide Area Networks\nLocal Area Networks\nInternet and Transport Protocols\nInternet Applications\n(a) A bottom-up approach\nOverview (1, 2)\nData Communications (3, 6, 7, 8)\nWANs (10, 12)\n(b) Another bottom-up approach\nThe Internet Protocol\nInternet Applications\nData Communications\n(c) A top-down approach\nTCP/IP (18, 20)\nThe Internet Protocol\nInternet Applications\nWANs (10, 12)\n(d) Another top-down approach\n0.3 / INTERNET AND WEB RESOURCES\nOverview); Chapter 16 (High-Speed LANs); Chapter 10 (Circuit and Packet\nSwitching); Chapter 20 (Transport Protocols); Chapter 18 (Internet Protocols); and\nChapter 19 (Internet Operation)."
  },
  {
    "text": "The purpose of this site is to provide docu-\nments, information, and links for computer science students and professionals."
  },
  {
    "text": "• ACM Special Interest Group on Communications (SIGCOMM): Good way\nto keep up on conferences, publications, and so on."
  },
  {
    "text": "• International Telecommunications Union: Contains a listing of ITU-T recom-\nmendations, plus information on obtaining ITU-T documents in hard copy or\n• International Organization for Standardization: Contains a listing of ISO\nstandards, plus information on obtaining ISO documents in hard copy or on\n• CommWeb: Links to vendors, tutorials, and other useful information."
  },
  {
    "text": "• CommsDesign: Lot of useful articles, tutorials, and product information.A bit\nhard to navigate, but worthwhile. USENET Newsgroups\nA number of USENET newsgroups are devoted to some aspect of data communi-\ncations, networks, and protocols."
  },
  {
    "text": "As with virtually all USENET groups, there is a\nhigh noise-to-signal ratio, but it is worth experimenting to see if any meet your\nneeds.The most relevant are as follows:\n• comp.dcom.lans, comp.dcom.lans.misc: General discussions of LANs\n• comp.dcom.lans.ethernet: Covers Ethernet, Ethernet-like systems, and the IEEE\n802.3 CSMA/CD standards\n• comp.std.wireless: General discussion of wireless networks, including wireless\n• comp.security.misc: Computer security and encryption\n• comp.dcom.cell-relay: Covers ATM and ATM LANs\n• comp.dcom.frame-relay: Covers frame relay networks\n• comp.dcom.net-management: Discussion of network management applications,\nprotocols, and standards\n• comp.protocols.tcp-ip: The TCP/IP protocol suite\nIt has long been accepted in the telecommunications industry that standards are\nrequired to govern the physical, electrical, and procedural characteristics of com-\nmunication equipment."
  },
  {
    "text": "Whereas communication equipment vendors recognize that their\n0.4 / STANDARDS\nequipment will generally interface to and communicate with other vendors’ equip-\nment, computer vendors have traditionally attempted to monopolize their cus-\ntomers.The proliferation of computers and distributed processing has made that an\nuntenable position."
  },
  {
    "text": "Computers from different vendors must communicate with\neach other and, with the ongoing evolution of protocol standards, customers will no\nlonger accept special-purpose protocol conversion software development. The\nresult is that standards now permeate all of the areas of technology discussed in\nThere are a number of advantages and disadvantages to the standards-making\nprocess."
  },
  {
    "text": "We list here the most striking ones. The principal advantages of standards\nare as follows:\n• A standard assures that there will be a large market for a particular piece of\nequipment or software. This encourages mass production and, in some cases,\nthe use of large-scale-integration (LSI) or very-large-scale-integration (VLSI)\ntechniques, resulting in lower costs."
  },
  {
    "text": "• A standard allows products from multiple vendors to communicate, giving the\npurchaser more flexibility in equipment selection and use. The principal disadvantages are as follows:\n• A standard tends to freeze the technology. By the time a standard is devel-\noped, subjected to review and compromise, and promulgated, more efficient\ntechniques are possible."
  },
  {
    "text": "• There are multiple standards for the same thing. This is not a disadvantage of\nstandards per se, but of the current way things are done. Fortunately, in recent\nyears the various standards-making organizations have begun to cooperate\nmore closely. Nevertheless, there are still areas where multiple conflicting\nstandards exist."
  },
  {
    "text": "Throughout this book, we describe the most important standards in use or\nbeing developed for various aspects of data and computer communications.Various\norganizations have been involved in the development or promotion of these stan-\ndards."
  },
  {
    "text": "The following are the most important (in the current context) of these orga-\n• Internet Society: The Internet SOCiety (ISOC) is a professional member-\nship society with more than 150 organizational and 6000 individual mem-\nbers in over 100 countries."
  },
  {
    "text": "It provides leadership in addressing issues that\nconfront the future of the Internet and is the organization home for the\ngroups responsible for Internet infrastructure standards, including the\nInternet Engineering Task Force (IETF) and the Internet Architecture\nBoard (IAB). All of the RFCs and Internet standards are developed\nthrough these organizations."
  },
  {
    "text": "• IEEE 802: The IEEE (Institute of Electrical and Electronics Engineers) 802\nLAN/MAN Standards Committee develops local area network standards and\nmetropolitan area network standards. The most widely used standards are for\nthe Ethernet family, wireless LAN, bridging, and virtual bridged LANs. An\nindividual working group provides the focus for each area."
  },
  {
    "text": "The ITU\nTelecommunication Standardization Sector (ITU-T) is one of the three sec-\ntors of the ITU. ITU-T’s mission is the production of standards covering all\nfields of telecommunications."
  },
  {
    "text": "• ATM Forum: The ATM Forum is an international nonprofit organization\nformed with the objective of accelerating the use of ATM (asynchronous\ntransfer mode) products and services through a rapid convergence of interop-\nerability specifications. In addition, the Forum promotes industry cooperation\nand awareness."
  },
  {
    "text": "• ISO: The International Organization for Standardization (ISO)1 is a world-\nwide federation of national standards bodies from more than 140 countries,\none from each country."
  },
  {
    "text": "ISO is a nongovernmental organization that promotes\nthe development of standardization and related activities with a view to facili-\ntating the international exchange of goods and services, and to developing\ncooperation in the spheres of intellectual, scientific, technological, and eco-\nnomic activity. ISO’s work results in international agreements that are pub-\nlished as International Standards."
  },
  {
    "text": "Chapter 1 Data Communications, Data Networks, and\nThe Internet\nChapter 1 provides an overview of Parts Two through Four of the book, giving the\n“big picture.” In essence, the book deals with four topics: data communications\nover a transmission link; wide area networks; local area networks; and protocols\nand the TCP/IP protocol architecture."
  },
  {
    "text": "Chapter 1 provides a preview of the first\nthree of these topics. Chapter 2 Protocol Architecture,TCP/IP, and \nInternet-Based Applications\nChapter 2 discusses the concept protocol architectures. This chapter can be read\nimmediately following Chapter 1 or deferred until the beginning of Part Three,\nFour, or Five."
  },
  {
    "text": "After a general introduction, the chapter deals with the two most\nimportant protocol architectures: the Open Systems Interconnection (OSI) model\nand TCP/IP.Although the OSI model is often used as the framework for discourse in\nthis area, it is the TCP/IP protocol suite that is the basis for most commercially avail-\nable interoperable products and that is the focus of Parts Five and Six of this book."
  },
  {
    "text": "DATA COMMUNICATIONS, DATA\nNETWORKS, AND THE INTERNET\nData Communications and Networking for Today’s Enterprise\nA Communications Model\nData Communications\nThe Internet\nAn Example Configuration\nThe 1970s and 1980s saw a merger of the fields of computer science and data\ncommunications that profoundly changed the technology, products, and compa-\nnies of the now combined computer-communications industry."
  },
  {
    "text": "The computer-\ncommunications revolution has produced several remarkable facts:\n• There is no fundamental difference between data processing (computers)\nand data communications (transmission and switching equipment). • There are no fundamental differences among data, voice, and video com-\nmunications."
  },
  {
    "text": "• The distinction among single-processor computer,multiprocessor computer,\nlocal network, metropolitan network, and long-haul network has blurred. One effect of these trends has been a growing overlap of the computer and\ncommunications industries, from component fabrication to system integration."
  },
  {
    "text": "Another result is the development of integrated systems that transmit and process\nall types of data and information.Both the technology and the technical standards\norganizations are driving toward integrated public systems that make virtually all\ndata and information sources around the world easily and uniformly accessible."
  },
  {
    "text": "This book aims to provide a unified view of the broad field of data and\ncomputer communications.The organization of the book reflects an attempt to\nbreak this massive subject into comprehensible parts and to build, piece by\npiece, a survey of the state of the art. This introductory chapter begins with a\ngeneral model of communications."
  },
  {
    "text": "Then a brief discussion introduces each of\nthe Parts Two through Four of this book. Chapter 2 provides an overview to\nParts Five and Six\nThe scope of this book is broad, covering three general areas: data\ncommunications, networking, and protocols; the first two are intro-\nduced in this chapter."
  },
  {
    "text": "Data communications deals with the transmission of signals in a reli-\nable and efficient manner.Topics covered include signal transmission,\ntransmission media, signal encoding, interfacing, data link control, and\nmultiplexing. Networking deals with the technology and architecture of the com-\nmunications networks used to interconnect communicating devices."
  },
  {
    "text": "This field is generally divided into the topics of local area networks\n(LANs) and wide area networks (WANs). The fundamental problem of communication is that of reproducing at one \npoint either exactly or approximately a message selected at another point."
  },
  {
    "text": "—The Mathematical Theory of Communication, Claude Shannon\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nTODAY’S ENTERPRISE\nEffective and efficient data communication and networking facilities are vital to any\nenterprise."
  },
  {
    "text": "In this section, we first look at trends that are increasing the challenge for\nthe business manager in planning and managing such facilities.Then we look specif-\nically at the requirement for ever-greater transmission speeds and network capacity."
  },
  {
    "text": "Three different forces have consistently driven the architecture and evolution of\ndata communications and networking facilities: traffic growth, development of new\nservices, and advances in technology. Communication traffic, both local (within a building or building complex) and\nlong distance, both voice and data, has been growing at a high and steady rate for\ndecades."
  },
  {
    "text": "The increasing emphasis on office automation, remote access, online\ntransactions, and other productivity measures means that this trend is likely to con-\ntinue. Thus, managers are constantly struggling to maximize capacity and minimize\ntransmission costs."
  },
  {
    "text": "As businesses rely more and more on information technology, the range of\nservices expands.This increases the demand for high-capacity networking and trans-\nmission facilities. In turn, the continuing growth in high-speed network offerings\nwith the continuing drop in prices encourages the expansion of services. Thus,\ngrowth in services and growth in traffic capacity go hand in hand."
  },
  {
    "text": "Figure 1.1 gives\nsome examples of information-based services and the data rates needed to support\nthem [ELSA02]. Finally, trends in technology enable the provision of increasing traffic capacity\nand the support of a wide range of services. Four technology trends are particularly\n1. The trend toward faster and cheaper, both in computing and communications,\ncontinues."
  },
  {
    "text": "In terms of computing, this means more powerful computers and\nclusters of computers capable of supporting more demanding applications,\nsuch as multimedia applications. In terms of communications, the increasing\nuse of optical fiber has brought transmission prices down and greatly\nincreased capacity."
  },
  {
    "text": "For example, for long-distance telecommunication and\ndata network links, recent offerings of dense wavelength division multiplexing\n(DWDM) enable capacities of many terabits per second. For local area net-\nworks (LANs) many enterprises now have Gigabit Ethernet backbone net-\nworks and some are beginning to deploy 10-Gbps Ethernet. 2."
  },
  {
    "text": "Both voice-oriented telecommunications networks, such as the public switched\ntelephone network (PSTN), and data networks, including the Internet, are more\n“intelligent” than ever. Two areas of intelligence are noteworthy. First, today’s\nnetworks can offer differing levels of quality of service (QoS), which include\nspecifications for maximum delay, minimum throughput, and so on."
  },
  {
    "text": "Second,\ntoday’s networks provide a variety of customizable services in the areas of net-\nwork management and security."
  },
  {
    "text": "1.1 / DATA COMMUNICATIONS AND NETWORKING FOR TODAY’S ENTERPRISE\nSpeed (kbps)\nTransaction processing\nMessaging/text apps\nLocation services\nStill image transfers\nInternet/VPN access\nDatabase access\nEnhanced Web surfing\nLow-quality video\nLarge file transfer\nModerate video\nInteractive entertainment\nHigh-quality video\nPerformance:\nVPN: virtual private\nServices versus Throughput Rates\n1Briefly, an intranet uses Internet and Web technology in an isolated facility internal to an enterprise; an\nextranet extends a company’s intranet out onto the Internet to allow selected customers, suppliers, and\nmobile workers to access the company’s private data and applications."
  },
  {
    "text": "3. The Internet, the Web, and associated applications have emerged as dominant\nfeatures of both the business and personal world,opening up many opportunities\nand challenges for managers. In addition to exploiting the Internet and the Web\nto reach customers,suppliers,and partners,enterprises have formed intranets and\nextranets1 to isolate their proprietary information free from unwanted access. 4."
  },
  {
    "text": "There has been a trend toward ever-increasing mobility for decades, liberating\nworkers from the confines of the physical enterprise. Innovations include\nvoice mail, remote data access, pagers, fax, e-mail, cordless phones, cell phones\nand cellular networks, and Internet portals.The result is the ability of employ-\nees to take their business context with them as they move about."
  },
  {
    "text": "We are now\nseeing the growth of high-speed wireless access, which further enhances the\nability to use enterprise information resources and services anywhere."
  },
  {
    "text": "CHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nData Transmission and Network Capacity Requirements\nMomentous changes in the way organizations do business and process information\nhave been driven by changes in networking technology and at the same time have\ndriven those changes. It is hard to separate chicken and egg in this field."
  },
  {
    "text": "Similarly,\nthe use of the Internet by both businesses and individuals reflects this cyclic depen-\ndency: the availability of new image-based services on the Internet (i.e., the Web)\nhas resulted in an increase in the total number of users and the traffic volume gen-\nerated by each user. This, in turn, has resulted in a need to increase the speed and\nefficiency of the Internet."
  },
  {
    "text": "On the other hand, it is only such increased speed that\nmakes the use of Web-based applications palatable to the end user. In this section, we survey some of the end-user factors that fit into this equa-\ntion. We begin with the need for high-speed LANs in the business environment,\nbecause this need has appeared first and has forced the pace of networking develop-\nment."
  },
  {
    "text": "Then we look at business WAN requirements. Finally we offer a few words\nabout the effect of changes in commercial electronics on network requirements."
  },
  {
    "text": "The Emergence of High-Speed LANs Personal computers and microcom-\nputer workstations began to achieve widespread acceptance in business computing\nin the early 1980s and have now achieved virtually the status of the telephone: an\nessential tool for office workers."
  },
  {
    "text": "Until relatively recently, office LANs provided\nbasic connectivity services—connecting personal computers and terminals to main-\nframes and midrange systems that ran corporate applications, and providing work-\ngroup connectivity at the departmental or divisional level. In both cases, traffic\npatterns were relatively light, with an emphasis on file transfer and electronic mail."
  },
  {
    "text": "The LANs that were available for this type of workload, primarily Ethernet and\ntoken ring, are well suited to this environment. In the 1990s, two significant trends altered the role of the personal computer\nand therefore the requirements on the LAN:\n1. The speed and computing power of personal computers continued to enjoy explo-\nsive growth."
  },
  {
    "text": "These more powerful platforms support graphics-intensive applica-\ntions and ever more elaborate graphical user interfaces to the operating system. 2. MIS (management information systems) organizations have recognized the LAN\nas a viable and essential computing platform, resulting in the focus on network\ncomputing."
  },
  {
    "text": "This trend began with client/server computing, which has become a\ndominant architecture in the business environment and the more recent Web-\nfocused intranet trend. Both of these approaches involve the frequent transfer of\npotentially large volumes of data in a transaction-oriented environment."
  },
  {
    "text": "The effect of these trends has been to increase the volume of data to be han-\ndled over LANs and, because applications are more interactive, to reduce the\nacceptable delay on data transfers.The earlier generation of 10-Mbps Ethernets and\n16-Mbps token rings was simply not up to the job of supporting these requirements."
  },
  {
    "text": "The following are examples of requirements that call for higher-speed LANs:\n• Centralized server farms: In many applications, there is a need for user, or\nclient, systems to be able to draw huge amounts of data from multiple central-\nized servers, called server farms.An example is a color publishing operation, in\n1.1 / DATA COMMUNICATIONS AND NETWORKING FOR TODAY’S ENTERPRISE\nwhich servers typically contain tens of gigabytes of image data that must be\ndownloaded to imaging workstations.As the performance of the servers them-\nselves has increased, the bottleneck has shifted to the network."
  },
  {
    "text": "• Power workgroups: These groups typically consist of a small number of cooper-\nating users who need to draw massive data files across the network. Examples\nare a software development group that runs tests on a new software version, or\na computer-aided design (CAD) company that regularly runs simulations of\nnew designs."
  },
  {
    "text": "In such cases, large amounts of data are distributed to several\nworkstations, processed, and updated at very high speed for multiple iterations. • High-speed local backbone: As processing demand grows, LANs proliferate at\na site, and high-speed interconnection is necessary."
  },
  {
    "text": "Corporate Wide Area Networking Needs As recently as the early 1990s,there\nwas an emphasis in many organizations on a centralized data processing model."
  },
  {
    "text": "In a\ntypical environment, there might be significant computing facilities at a few regional\noffices, consisting of mainframes or well-equipped midrange systems.These centralized\nfacilities could handle most corporate applications, including basic finance, accounting,\nand personnel programs, as well as many of the business-specific applications."
  },
  {
    "text": "Smaller,\noutlying offices (e.g.,a bank branch) could be equipped with terminals or basic personal\ncomputers linked to one of the regional centers in a transaction-oriented environment. This model began to change in the early 1990s, and the change accelerated\nthrough the mid-1990s. Many organizations have dispersed their employees into multi-\nple smaller offices."
  },
  {
    "text": "There is a growing use of telecommuting. Most significant, the\nnature of the application structure has changed."
  },
  {
    "text": "First client/server computing and,\nmore recently, intranet computing have fundamentally restructured the organizational\ndata processing environment.There is now much more reliance on personal computers,\nworkstations, and servers and much less use of centralized mainframe and midrange\nsystems.Furthermore,the virtually universal deployment of graphical user interfaces to\nthe desktop enables the end user to exploit graphic applications,multimedia,and other\ndata-intensive applications."
  },
  {
    "text": "In addition, most organizations require access to the Inter-\nnet. When a few clicks of the mouse can trigger huge volumes of data, traffic patterns\nhave become more unpredictable while the average load has risen. All of these trends means that more data must be transported off premises and\ninto the wide area."
  },
  {
    "text": "It has long been accepted that in the typical business environ-\nment, about 80% of the traffic remains local and about 20% traverses wide area\nlinks."
  },
  {
    "text": "But this rule no longer applies to most companies, with a greater percentage of\nthe traffic going into the WAN environment [COHE96].This traffic flow shift places\na greater burden on LAN backbones and, of course, on the WAN facilities used by a\ncorporation.Thus, just as in the local area, changes in corporate data traffic patterns\nare driving the creation of high-speed WANs."
  },
  {
    "text": "Digital Electronics The rapid conversion of consumer electronics to digital\ntechnology is having an impact on both the Internet and corporate intranets. As\nthese new gadgets come into view and proliferate, they dramatically increase the\namount of image and video traffic carried by networks. Two noteworthy examples of this trend are digital versatile disks (DVDs) and\ndigital still cameras."
  },
  {
    "text": "With the capacious DVD, the electronics industry has at last\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nfound an acceptable replacement for the analog VHS videotape. The DVD has\nreplaced the videotape used in videocassette recorders (VCRs) and replaced the\nCD-ROM in personal computers and servers. The DVD takes video into the digital\nage."
  },
  {
    "text": "It delivers movies with picture quality that outshines laser disks, and it can be\nrandomly accessed like audio CDs, which DVD machines can also play. Vast vol-\numes of data can be crammed onto the disk, currently seven times as much as a CD-\nROM.With DVD’s huge storage capacity and vivid quality, PC games have become\nmore realistic and educational software incorporates more video."
  },
  {
    "text": "This section introduces a simple model of communications, illustrated by the block\ndiagram in Figure 1.2a. The fundamental purpose of a communications system is the exchange of data\nbetween two parties. Figure 1.2b presents one particular example, which is commu-\nnication between a workstation and a server over a public telephone network."
  },
  {
    "text": "Another example is the exchange of voice signals between two telephones over the\nsame network.The key elements of the model are as follows:\n• Source. This device generates the data to be transmitted; examples are tele-\nphones and personal computers."
  },
  {
    "text": "Public telephone network\nWorkstation\nDestination\nSource system\nDestination system\n(a) General block diagram\n(b) Example\nSimplified Communications Model\n1.2 / A COMMUNICATIONS MODEL\n• Transmitter: Usually, the data generated by a source system are not transmit-\nted directly in the form in which they were generated."
  },
  {
    "text": "Rather, a transmitter\ntransforms and encodes the information in such a way as to produce electro-\nmagnetic signals that can be transmitted across some sort of transmission sys-\ntem. For example, a modem takes a digital bit stream from an attached device\nsuch as a personal computer and transforms that bit stream into an analog sig-\nnal that can be handled by the telephone network."
  },
  {
    "text": "• Transmission system: This can be a single transmission line or a complex net-\nwork connecting source and destination. • Receiver: The receiver accepts the signal from the transmission system and\nconverts it into a form that can be handled by the destination device."
  },
  {
    "text": "For\nexample, a modem will accept an analog signal coming from a network or\ntransmission line and convert it into a digital bit stream. • Destination: Takes the incoming data from the receiver. This simple narrative conceals a wealth of technical complexity."
  },
  {
    "text": "To get some\nidea of the scope of this complexity, Table 1.1 lists some of the key tasks that must be\nperformed in a data communications system. The list is somewhat arbitrary: Ele-\nments could be added; items on the list could be merged; and some items represent\nseveral tasks that are performed at different “levels” of the system."
  },
  {
    "text": "However, the list\nas it stands is suggestive of the scope of this book. The first item, transmission system utilization, refers to the need to make\nefficient use of transmission facilities that are typically shared among a number of\ncommunicating devices.Various techniques (referred to as multiplexing) are used to\nallocate the total capacity of a transmission medium among a number of users."
  },
  {
    "text": "Congestion control techniques may be required to assure that the system is not\noverwhelmed by excessive demand for transmission services. To communicate, a device must interface with the transmission system. All the\nforms of communication discussed in this book depend on the use of electromagnetic\nsignals propagated over a transmission medium."
  },
  {
    "text": "Thus, once an interface is estab-\nlished, signal generation is required for communication.The properties of the signal,\nsuch as form and intensity, must be such that the signal is (1) capable of being propa-\ngated through the transmission system, and (2) interpretable as data at the receiver."
  },
  {
    "text": "Not only must the signals be generated to conform to the requirements of the\ntransmission system and receiver, but also there must be some form of synchronization\nCommunications Tasks\nTransmission system utilization\nInterfacing\nSignal generation\nSynchronization\nMessage formatting\nExchange management\nError detection and correction\nNetwork management\nFlow control\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nbetween transmitter and receiver.The receiver must be able to determine when a signal\nbegins to arrive and when it ends.It must also know the duration of each signal element."
  },
  {
    "text": "Beyond the basic matter of deciding on the nature and timing of signals, there is\na variety of requirements for communication between two parties that might be col-\nlected under the term exchange management. If data are to be exchanged in both\ndirections over a period of time, the two parties must cooperate."
  },
  {
    "text": "For example, for two\nparties to engage in a telephone conversation, one party must dial the number of the\nother,causing signals to be generated that result in the ringing of the called phone.The\ncalled party completes a connection by lifting the receiver. For data processing\ndevices, more will be needed than simply establishing a connection; certain conven-\ntions must be decided on."
  },
  {
    "text": "These conventions may include whether both devices may\ntransmit simultaneously or must take turns, the amount of data to be sent at one time,\nthe format of the data, and what to do if certain contingencies such as an error arise. The next two items might have been included under exchange management,\nbut they seem important enough to list separately."
  },
  {
    "text": "In all communications systems,\nthere is a potential for error; transmitted signals are distorted to some extent before\nreaching their destination. Error detection and correction are required in circum-\nstances where errors cannot be tolerated. This is usually the case with data process-\ning systems."
  },
  {
    "text": "For example, in transferring a file from one computer to another, it is\ntransmission; specific alternatives will be described in Chapter 5. The transmitted signal s(t) presented to the medium is subject to a number\nof impairments, discussed in Chapter 3, before it reaches the receiver. Thus, the\nreceived signal r(t) may differ from s(t)."
  },
  {
    "text": "The receiver will attempt to estimate\nthe original s(t), based on r(t) and its knowledge of the medium, producing a\nsequence of bits \nThese bits are sent to the output personal computer, where\nthey are briefly buffered in memory as a block of bits \nIn many cases, the\ndestination system will attempt to determine if an error has occurred and, if so,\ncooperate with the source system to eventually obtain a complete, error-free block\nof data."
  },
  {
    "text": "These data are then presented to the user via an output device, such as a\ninformation\nTransmitted\n Output data\ninformation\nDestination\nDigital bit\nDigital bit\nSimplified Data Communications Model\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nprinter or screen. The message \nas viewed by the user will usually be an exact\ncopy of the original message (m)."
  },
  {
    "text": "Now consider a telephone conversation. In this case the input to the telephone\nis a message (m) in the form of sound waves.The sound waves are converted by the\ntelephone into electrical signals of the same frequency.These signals are transmitted\nwithout modification over the telephone line. Hence the input signal g(t) and the\ntransmitted signal s(t) are identical."
  },
  {
    "text": "The signals (t) will suffer some distortion over\nthe medium, so that r(t) will not be identical to s(t). Nevertheless, the signal r(t) is\nconverted back into a sound wave with no attempt at correction or improvement of\nsignal quality. Thus,\nis not an exact replica of m. However, the received sound\nmessage is generally comprehensible to the listener."
  },
  {
    "text": "The discussion so far does not touch on other key aspects of data communica-\ntions,including data link control techniques for controlling the flow of data and detect-\ning and correcting errors, and multiplexing techniques for transmission efficiency. The Transmission of Information\nThe basic building block of any communications facility is the transmission line."
  },
  {
    "text": "Much of the technical detail of how information is encoded and transmitted across a\nline is of no real interest to the business manager. The manager is concerned with\nwhether the particular facility provides the required capacity, with acceptable relia-\nbility, at minimum cost."
  },
  {
    "text": "However, there are certain aspects of transmission technol-\nogy that a manager must understand to be able to ask the right questions and make\ninformed decisions. One of the basic choices facing a business user is the transmission medium. For\nuse within the business premises, this choice is generally completely up to the busi-\nness."
  },
  {
    "text": "For long-distance communications, the choice is generally but not always made\nby the long-distance carrier. In either case, changes in technology are rapidly chang-\ning the mix of media used. Of particular note are fiber optic transmission and\nwireless transmission (e.g., satellite and radio).These two media are now driving the\nevolution of data communications transmission."
  },
  {
    "text": "The ever-increasing capacity of fiber optic channels is making channel capac-\nity a virtually free resource. The growth of the market for optical fiber transmission\nsystems since the beginning of the 1980s is without precedent."
  },
  {
    "text": "During the past \n10 years, the cost of fiber optic transmission has dropped by more than an order of\nmagnitude, and the capacity of such systems has grown at almost as rapid a rate. Long-distance telephone communications trunks within the United States will soon\nconsist almost completely of fiber optic cable."
  },
  {
    "text": "Because of its high capacity and\nbecause of its security characteristics—fiber is almost impossible to tap—it is\nbecoming increasingly used within office buildings to carry the growing load of busi-\nness information."
  },
  {
    "text": "However, switching is now becoming the bottleneck.This problem\nis causing radical changes in communications architecture, including asynchronous\ntransfer mode (ATM) switching, highly parallel processing in switches, and inte-\ngrated network management schemes."
  },
  {
    "text": "The second medium—wireless transmission—is a result of the trend toward\nuniversal personal telecommunications and universal access to communications."
  },
  {
    "text": "The first concept refers to the ability of a person to identify himself or herself easily\n1.3 / DATA COMMUNICATIONS\nand to use conveniently any communication system in a large area (e.g., globally,\nover a continent, or in an entire country) in terms of a single account."
  },
  {
    "text": "The second\nrefers to the capability of using one’s terminal in a wide variety of environments to\nconnect to information services (e.g., to have a portable terminal that will work in\nthe office, on the street, and on airplanes equally well). This revolution in personal\ncomputing obviously involves wireless communication in a fundamental way."
  },
  {
    "text": "Despite the growth in the capacity and the drop in cost of transmission facili-\nties, transmission services remain the most costly component of a communications\nbudget for most businesses.Thus, the manager needs to be aware of techniques that\nincrease the efficiency of the use of these facilities. The two major approaches to\ngreater efficiency are multiplexing and compression."
  },
  {
    "text": "Multiplexing refers to the abil-\nity of a number of devices to share a transmission facility. If each device needs the\nfacility only a fraction of the time, then a sharing arrangement allows the cost of the\nfacility to be spread over many users."
  },
  {
    "text": "Compression, as the name indicates, involves\nsqueezing the data down so that a lower-capacity, cheaper transmission facility can\nbe used to meet a given demand. These two techniques show up separately and in\ncombination in a number of types of communications equipment."
  },
  {
    "text": "The manager\nneeds to understand these technologies to be able to assess the appropriateness and\ncost-effectiveness of the various products on the market. Transmission and Transmission Media Information can be communicated\nby converting it into an electromagnetic signal and transmitting that signal over some\nmedium, such as a twisted-pair telephone line."
  },
  {
    "text": "The most commonly used transmis-\nsion media are twisted-pair lines, coaxial cable, optical fiber cable, and terrestrial and\nsatellite microwave.The data rates that can be achieved and the rate at which errors\ncan occur depend on the nature of the signal and the type of medium."
  },
  {
    "text": "Chapters 3 and\n4 examine the significant properties of electromagnetic signals and compare the var-\nious transmission media in terms of cost, performance, and applications. Communication Techniques The transmission of information across a trans-\nmission medium involves more than simply inserting a signal on the medium."
  },
  {
    "text": "The\ntechnique used to encode the information into an electromagnetic signal must be\ndetermined. There are various ways in which the encoding can be done, and the\nchoice affects performance and reliability."
  },
  {
    "text": "Furthermore, the successful transmission\nof information involves a high degree of cooperation between the various compo-\nnents.The interface between a device and the transmission medium must be agreed\non."
  },
  {
    "text": "Some means of controlling the flow of information and recovering from its loss\nor corruption must be used.These latter functions are performed by a data link con-\ntrol protocol.All these issues are examined in Chapters 5 through 7. Transmission Efficiency A major cost in any computer/communications facility\nis transmission cost."
  },
  {
    "text": "Because of this, it is important to maximize the amount of infor-\nmation that can be carried over a given resource or, alternatively, to minimize the\ntransmission capacity needed to satisfy a given information communications require-\nment.Two ways of achieving this objective are multiplexing and compression.The two\ntechniques can be used separately or in combination."
  },
  {
    "text": "Chapter 8 examines the three\nmost common multiplexing techniques—frequency division, synchronous time divi-\nsion, and statistical time division—as well as the important compression techniques. CHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nThe number of computers in use worldwide is in the hundreds of millions."
  },
  {
    "text": "More-\nover, the expanding memory and processing power of these computers means that\nusers can put the machines to work on new kinds of applications and functions. Accordingly, the pressure from the users of these systems for ways to communicate\namong all these machines is irresistible. It is changing the way vendors think and the\nway all automation products and services are sold."
  },
  {
    "text": "This demand for connectivity is\nmanifested in two specific requirements: the need for communications software,\nwhich is previewed in the next section, and the need for networks. One type of network that has become ubiquitous is the local area network\n(LAN). Indeed, the LAN is to be found in virtually all medium- and large-size office\nbuildings."
  },
  {
    "text": "As the number and power of computing devices have grown, so have the\nnumber and capacity of LANs to be found in an office. Although standards have\nbeen developed that reduce somewhat the number of types of LANs, there are still\nhalf a dozen general types of local area networks to choose from."
  },
  {
    "text": "Advances in technology have led to greatly increased capacity and the concept of\nintegration. Integration means that the customer equipment and networks can deal\nsimultaneously with voice, data, image, and even video. Thus, a memo or report can\nbe accompanied by voice commentary, presentation graphics, and perhaps even a\nshort video introduction or summary."
  },
  {
    "text": "Image and video services impose large\ndemands on wide area network transmission. Moreover, as LANs become ubiqui-\ntous and as their transmission rates increase, the demands on the wide area networks\nto support LAN interconnection have increased the demands on wide area network\ncapacity and switching."
  },
  {
    "text": "On the other hand, fortunately, the enormous and ever-\nincreasing capacity of fiber optic transmission provides ample resources to meet\nthese demands. However, developing switching systems with the capacity and rapid\nresponse to support these increased requirements is a challenge not yet conquered."
  },
  {
    "text": "The opportunities for using networks as an aggressive competitive tool and as\na means of enhancing productivity and slashing costs are great. The manager who\nunderstands the technology and can deal effectively with vendors of service and\nequipment is able to enhance a company’s competitive position. In the remainder of this section, we provide a brief overview of various net-\nworks."
  },
  {
    "text": "Wide Area Networks\nWide area networks generally cover a large geographical area, require the crossing\nof public right-of-ways, and rely at least in part on circuits provided by a common\ncarrier.Typically, a WAN consists of a number of interconnected switching nodes.A\ntransmission from any one device is routed through these internal nodes to the\nspecified destination device."
  },
  {
    "text": "These nodes (including the boundary nodes) are not\n1.4 / NETWORKS\nconcerned with the content of the data; rather, their purpose is to provide a\nswitching facility that will move the data from node to node until they reach their\ndestination. Traditionally, WANs have been implemented using one of two technologies:\ncircuit switching and packet switching."
  },
  {
    "text": "More recently, frame relay and ATM net-\nworks have assumed major roles. Circuit Switching In a circuit-switching network, a dedicated communications\npath is established between two stations through the nodes of the network. That\npath is a connected sequence of physical links between nodes. On each link, a logi-\ncal channel is dedicated to the connection."
  },
  {
    "text": "Data generated by the source station are\ntransmitted along the dedicated path as rapidly as possible. At each node, incoming\ndata are routed or switched to the appropriate outgoing channel without delay.The\nmost common example of circuit switching is the telephone network. Packet Switching A quite different approach is used in a packet-switching net-\nwork."
  },
  {
    "text": "In this case, it is not necessary to dedicate transmission capacity along a path\nthrough the network. Rather, data are sent out in a sequence of small chunks,\ncalled packets. Each packet is passed through the network from node to node along\nsome path leading from source to destination. At each node, the entire packet is\nreceived, stored briefly, and then transmitted to the next node."
  },
  {
    "text": "Packet-switching\nnetworks are commonly used for terminal-to-computer and computer-to-computer\ncommunications. Frame Relay Packet switching was developed at a time when digital long-\ndistance transmission facilities exhibited a relatively high error rate compared to\ntoday’s facilities."
  },
  {
    "text": "As a result, there is a considerable amount of overhead built into\npacket-switching schemes to compensate for errors."
  },
  {
    "text": "The overhead includes addi-\ntional bits added to each packet to introduce redundancy and additional processing\nat the end stations and the intermediate switching nodes to detect and recover from\nWith modern high-speed telecommunications systems, this overhead is unnec-\nessary and counterproductive."
  },
  {
    "text": "It is unnecessary because the rate of errors has been\ndramatically lowered and any remaining errors can easily be caught in the end sys-\ntems by logic that operates above the level of the packet-switching logic. It is coun-\nterproductive because the overhead involved soaks up a significant fraction of the\nhigh capacity provided by the network."
  },
  {
    "text": "Frame relay was developed to take advantage of these high data rates and low\nerror rates. Whereas the original packet-switching networks were designed with a\ndata rate to the end user of about 64 kbps, frame relay networks are designed to\noperate efficiently at user data rates of up to 2 Mbps."
  },
  {
    "text": "The key to achieving these\nhigh data rates is to strip out most of the overhead involved with error control. ATM Asynchronous transfer mode (ATM), sometimes referred to as cell relay,\nis a culmination of developments in circuit switching and packet switching. ATM\ncan be viewed as an evolution from frame relay."
  },
  {
    "text": "The most obvious difference\nbetween frame relay and ATM is that frame relay uses variable-length packets,\ncalled frames, and ATM uses fixed-length packets, called cells."
  },
  {
    "text": "As with frame\nrelay, ATM provides little overhead for error control, depending on the inherent\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nreliability of the transmission system and on higher layers of logic in the end sys-\ntems to catch and correct errors. By using a fixed packet length, the processing\noverhead is reduced even further for ATM compared to frame relay."
  },
  {
    "text": "The result is\nthat ATM is designed to work in the range of 10s and 100s of Mbps, and in the\nGbps range. ATM can also be viewed as an evolution from circuit switching. With circuit\nswitching, only fixed-data-rate circuits are available to the end system. ATM\nallows the definition of multiple virtual channels with data rates that are dynami-\ncally defined at the time the virtual channel is created."
  },
  {
    "text": "By using small, fixed-size\ncells, ATM is so efficient that it can offer a constant-data-rate channel even\nthough it is using a packet-switching technique."
  },
  {
    "text": "Thus, ATM extends circuit switch-\ning to allow multiple channels with the data rate on each channel dynamically set\nLocal Area Networks\nAs with WANs, a LAN is a communications network that interconnects a variety of\ndevices and provides a means for information exchange among those devices.There\nare several key distinctions between LANs and WANs:\n1."
  },
  {
    "text": "The scope of the LAN is small, typically a single building or a cluster of build-\nings. This difference in geographic scope leads to different technical solutions,\nas we shall see. 2. It is usually the case that the LAN is owned by the same organization that owns\nthe attached devices."
  },
  {
    "text": "For WANs, this is less often the case, or at least a significant\nfraction of the network assets is not owned.This has two implications. First, care\nmust be taken in the choice of LAN, because there may be a substantial capital\ninvestment (compared to dial-up or leased charges for WANs) for both purchase\nand maintenance."
  },
  {
    "text": "Second, the network management responsibility for a LAN\nfalls solely on the user. 3. The internal data rates of LANs are typically much greater than those of\nLANs come in a number of different configurations. The most common are\nswitched LANs and wireless LANs."
  },
  {
    "text": "The most common switched LAN is a switched\nEthernet LAN, which may consist of a single switch with a number of attached\ndevices, or a number of interconnected switches.Two other prominent examples are\nATM LANs, which simply use an ATM network in a local area, and Fibre Channel. Wireless LANs use a variety of wireless transmission technologies and organiza-\ntions."
  },
  {
    "text": "LANs are examined in depth in Part Four. Wireless Networks\nAs was just mentioned, wireless LANs are common are widely used in business\nenvironments. Wireless technology is also common for both wide area voice and\ndata networks. Wireless networks provide advantages in the areas of mobility and\nease of installation and configuration. Chapters 14 and 17 deal with wireless WANs\nand LANs, respectively."
  },
  {
    "text": "1.5 / THE INTERNET\nOrigins of the Internet\nThe Internet evolved from the ARPANET, which was developed in 1969 by the\nAdvanced Research Projects Agency (ARPA) of the U.S. Department of Defense."
  },
  {
    "text": "It was the first operational packet-switching network.ARPANET began operations\nin four locations.Today the number of hosts is in the hundreds of millions, the num-\nber of users in the billions, and the number of countries participating nearing 200. The number of connections to the Internet continues to grow exponentially."
  },
  {
    "text": "The network was so successful that ARPA applied the same packet-switching\ntechnology to tactical radio communication (packet radio) and to satellite com-\nmunication (SATNET). Because the three networks operated in very different\ncommunication environments, the appropriate values for certain parameters, such\nas maximum packet size, were different in each case."
  },
  {
    "text": "Faced with the dilemma of\nintegrating these networks, Vint Cerf and Bob Kahn of ARPA started to develop\nmethods and protocols for internetworking; that is, communicating across arbi-\ntrary, multiple, packet-switched networks."
  },
  {
    "text": "They published a very influential paper\nin May of 1974 [CERF74] outlining their approach to a Transmission Control Pro-\ntocol.The proposal was refined and details filled in by the ARPANET community,\nwith major contributions from participants from European networks, such as\nCyclades (France), and EIN, eventually leading to the TCP (Transmission Control\nProtocol) and IP (Internet Protocol) protocols, which, in turn, formed the basis for\nwhat eventually became the TCP/IP protocol suite."
  },
  {
    "text": "This provided the foundation\nfor the Internet. Key Elements\nFigure 1.4 illustrates the key elements that comprise the Internet. The purpose of\nthe Internet, of course, is to interconnect end systems, called hosts; these include\nPCs, workstations, servers, mainframes, and so on."
  },
  {
    "text": "Most hosts that use the Internet\nare connected to a network, such as a local area network (LAN) or a wide area net-\nwork (WAN). These networks are in turn connected by routers. Each router\nattaches to two or more networks. Some hosts, such as mainframes or servers, con-\nnect directly to a router rather than through a network. In essence, the Internet operates as follows."
  },
  {
    "text": "A host may send data to another\nhost anywhere on the Internet. The source host breaks the data to be sent into a\nsequence of packets, called IP datagrams or IP packets. Each packet includes a\nunique numeric address of the destination host. This address is referred to as an IP\naddress, because the address is carried in an IP packet."
  },
  {
    "text": "Based on this destination\naddress, each packet travels through a series of routers and networks from source to\ndestination. Each router, as it receives a packet, makes a routing decision and for-\nwards the packet along its way to the destination. Internet Architecture\nThe Internet today is made up of thousands of overlapping hierarchical networks."
  },
  {
    "text": "Because of this, it is not practical to attempt a detailed description of the exact\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nWide area network\n(e.g., ATM)\nWide area network\n(e.g., ATM)\nInformation\nand workstations\nKey Elements of the Internet\narchitecture or topology of the Internet. However, an overview of the common, gen-\neral characteristics can be made."
  },
  {
    "text": "Figure 1.5 illustrates the discussion and Table 1.2\nsummarizes the terminology. A key element of the Internet is the set of hosts attached to it. Simply put, a\nhost is a computer.Today, computers come in many forms, including mobile phones\nand even cars. All of these forms can be hosts on the Internet."
  },
  {
    "text": "Hosts are sometimes\ngrouped together in a LAN.This is the typical configuration in a corporate environ-\nment. Individual hosts and LANs are connected to an Internet service provider\n(ISP) through a point of presence (POP).The connection is made in a series of steps\nstarting with the customer premises equipment (CPE).The CPE is the communica-\ntions equipment located onsite with the host."
  },
  {
    "text": "For many home users, the CPE is a 56-kbps modem.This is perfectly adequate\nfor e-mail and related services but marginal for graphics-intensive Web surfing. Newer CPE offerings provide greater capacity and guaranteed service in some\ncases. A sample of these new access technologies includes DSL, cable modem, and\nsatellite."
  },
  {
    "text": "Users who connect to the Internet through their work often use worksta-\ntions or PCs connected to their employer-owned LANs, which in turn connect\nthrough shared organizational trunks to an ISP. In these cases the shared circuit is\noften a T-1 connection (1.544 Mbps), while for very large organizations T-3 connec-\ntions (44.736 Mbps) are sometimes found."
  },
  {
    "text": "Alternatively, an organization’s LAN\n1.5 / THE INTERNET\nResidential\nsubscribers\nPrivate peering\nOpen circle \u0001 NAP\nFilled circle \u0001 POP\nSimplified View of Portion of Internet\nmay be hooked to a wide area network (WAN), such as a frame relay network,\nwhich in turn connects to an ISP."
  },
  {
    "text": "The CPE is physically attached to the “local loop”or “last mile.”This is the infra-\nstructure between a provider’s installation and the site where the host is located. For\nexample, a home user with a 56K modem attaches the modem to the telephone line."
  },
  {
    "text": "The telephone line is typically a pair of copper wires that runs from the house to a\ncentral office (CO) owned and operated by the telephone company. In this instance\nthe local loop is the pair of copper wires running between the home and the CO."
  },
  {
    "text": "If the\nhome user has a cable modem, the local loop is the coaxial cable that runs from\nthe home to the cable company facilities.The preceding examples are a bit of an over-\nsimplification, but they suffice for this discussion. In many cases the wires that leave a\nhome are aggregated with wires from other homes and then converted to a different\nmedia such as fiber."
  },
  {
    "text": "In these cases the term local loop still refers to the path from the\nhome to the CO or cable facility.The local loop provider is not necessarily the ISP. In\nmany cases the local loop provider is the telephone company and the ISP is a large,\nnational service organization. Often, however, the local loop provider is also the ISP."
  },
  {
    "text": "The ISP provides access to its larger network through a POP.A POP is simply\na facility where customers can connect to the ISP network.The facility is sometimes\nowned by the ISP, but often the ISP leases space from the local loop carrier.A POP\ncan be as simple as a bank of modems and an access server installed in a rack at the\nCO."
  },
  {
    "text": "The POPs are usually spread out over the geographic area where the provider\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nInternet Terminology\nCentral Office (CO)\nThe place where telephone companies terminate customer lines and locate switching equipment to interconnect\nthose lines with other networks."
  },
  {
    "text": "Customer Premises Equipment (CPE)\nTelecommunications equipment that is located on the customer’s premises (physical location) rather than on\nthe provider’s premises or in between.Telephone handsets, modems, cable TV set-top boxes, and digital\nsubscriber line routers are examples."
  },
  {
    "text": "Historically, this term referred to equipment placed at the customer’s end\nof the telephone line and usually owned by the telephone company.Today, almost any end-user equipment can\nbe called customer premises equipment and it can be owned by the customer or by the provider."
  },
  {
    "text": "Internet Service Provider (ISP)\nA company that provides other companies or individuals with access to, or presence on, the Internet.An ISP\nhas the equipment and the telecommunication line access required to have a POP on the Internet for the\ngeographic area served.The larger ISPs have their own high-speed leased lines so that they are less dependent\non the telecommunication providers and can provide better service to their customers."
  },
  {
    "text": "Network Access Point (NAP)\nIn the United States, a network access point (NAP) is one of several major Internet interconnection points that\nserve to tie all the ISPs together. Originally, four NAPs—in New York,Washington, D.C., Chicago, and San\nFrancisco—were created and supported by the National Science Foundation as part of the transition from the\noriginal U.S."
  },
  {
    "text": "government—financed Internet to a commercially operated Internet. Since that time, several new\nNAPs have arrived, including WorldCom’s “MAE West” site in San Jose, California and ICS Network Systems’\n“Big East.”\nThe NAPs provide major switching facilities that serve the public in general. Companies apply to use the\nNAP facilities."
  },
  {
    "text": "Much Internet traffic is handled without involving NAPs, using peering arrangements and\ninterconnections within geographic regions. Network Service Provider (NSP)\nA company that provides backbone services to an Internet service provider (ISP).Typically, an ISP connects at\na point called an Internet exchange (IX) to a regional ISP that in turn connects to an NSP backbone."
  },
  {
    "text": "Point of Presence (POP)\nA site that has a collection of telecommunications equipment, usually refers to ISP or telephone company\nsites.An ISP POP is the edge of the ISP’s network; connections from users are accepted and authenticated\nhere.An Internet access provider may operate several POPs distributed throughout its area of operation to\nincrease the chance that their subscribers will be able to reach one with a local telephone call.The largest\nnational ISPs have POPs all over the country."
  },
  {
    "text": "offers service. The ISP acts as a gateway to the Internet, providing many important\nservices. For most home users, the ISP provides the unique numeric IP address\nneeded to communicate with other Internet hosts."
  },
  {
    "text": "Most ISPs also provide name res-\nolution and other essential network services.The most important service an ISP pro-\nvides, though, is access to other ISP networks.Access is facilitated by formal peering\nagreements between providers. Physical access can be implemented by connecting\nPOPs from different ISPs."
  },
  {
    "text": "This can be done directly with a local connection if the\nPOPs are collocated or with leased lines when the POPs are not collocated.A more\ncommonly used mechanism is the network access point (NAP). A NAP is a physical facility that provides the infrastructure to move data\nbetween connected networks."
  },
  {
    "text": "In the United States, the National Science Foundation\n(NSF) privatization plan called for the creation of four NAPs.The NAPs were built\nand are operated by the private sector.The number of NAPs has grown significantly\n1.6 / AN EXAMPLE CONFIGURATION\nover the years, and the technology employed has shifted from Fiber Distributed\nData Interface (FDDI) and Ethernet to ATM and Gigabit Ethernet."
  },
  {
    "text": "Most NAPs\ntoday have an ATM core. The networks connected at a NAP are owned and oper-\nated by network service providers (NSPs). A NSP can also be an ISP but this is not\nalways the case. Peering agreements are between NSPs and do not include the NAP\noperator."
  },
  {
    "text": "The NSPs install routers at the NAP and connect them to the NAP infra-\nstructure.The NSP equipment is responsible for routing, and the NAP infrastructure\nprovides the physical access paths between routers. A small hypothetical example can help make the picture clearer. In this exam-\nple there are two companies, one named A, Inc. and the other B, Inc. and they are\nboth NSPs.A, Inc. and B, Inc."
  },
  {
    "text": "have a peering agreement and they both install routers\nin two NAPs, one located on the east coast of the United States and the other on the\nwest coast.There are also two other companies known as Y, Inc. and Z, Inc. and they\nare both ISPs. Finally, there is a home user named Bob and a small company named\nSmall, Inc. Small, Inc. has four hosts connected together into a LAN."
  },
  {
    "text": "Each of the four\nhosts can communicate and share resources with the other three. Small, Inc. would\nlike access to a broader set of services so they contract with ISP Y, Inc. for a connec-\ntion. Small, Inc. installs a CPE to drive a leased T-1 line into a Y, Inc. POP. Once the\nCPE is connected, software automatically assigns a numeric address to each Small,\nInc. host. The Small, Inc."
  },
  {
    "text": "hosts can now communicate and share resources with any\nother host connected to the larger ISP network. On the other side of the country,\nBob decides to contract with ISP Z, Inc. He installs a modem on his phone line to\ndial into a Z, Inc. POP. Once the modem connects, a numeric address is automati-\ncally assigned to his home computer."
  },
  {
    "text": "His computer can now communicate and share\nresources with any other computer connected to the larger ISP network. Bob’s home machine and the hosts owned by Small, Inc. cannot yet communi-\ncate.This becomes possible when their respective ISPs contract with NSPs that have\na peering agreement. In this example, the ISP Y, Inc."
  },
  {
    "text": "decides to expand its service\ncoverage to the opposite coast and contracts with the NSP A, Inc. A, Inc. sells band-\nwidth on its high-speed coast-to-coast network.The ISP Z, Inc. also wishes to expand\nits service coverage and contracts with the NSP B, Inc. Like A, Inc., B, Inc. also sells\nbandwidth on a high-speed coast-to-coast network. Because A, Inc. and B, Inc."
  },
  {
    "text": "have a\npeering agreement and have implemented the agreement at two NAPs, Bob’s home\nmachine and the hosts of Small, Inc. can now communicate and share resources. Although this example is contrived, in principle this is what the Internet is."
  },
  {
    "text": "The dif-\nferences are that the Internet has millions of hosts and many thousands of networks\nusing dozens of access technologies, including satellite, radio, leased T-1, and DSL. To give some feel for the scope of concerns of Parts Two through Four, Figure 1.6\nillustrates some of the typical communications and network elements in use today."
  },
  {
    "text": "In the upper-left-hand portion of the figure, we see an individual residential user\nconnected to an Internet service provider (ISP) through some sort of subscriber\nconnection."
  },
  {
    "text": "Common examples of such a connection are the public telephone\nCHAPTER 1 / DATA COMMUNICATIONS, DATA NETWORKS, AND THE INTERNET\nInformation\nHigh-speed link\n(e.g., SONET)\nand workstations\nATM network\nResidential\nInternet service\nprovider (ISP)\nA Networking Configuration\nnetwork, for which the user requires a dial-up modem (e.g."
  },
  {
    "text": "a 56-kbps modem); a dig-\nital subscriber line (DSL), which provides a high-speed link over telephone lines\nand requires a special DSL modem; and a cable TV facility, which requires a cable\nmodem. In each case, there are separate issues concerning signal encoding, error\ncontrol, and the internal structure of the subscribe network."
  },
  {
    "text": "Typically, an ISP will consist of a number of interconnected servers (only a\nsingle server is shown) connected to the Internet through a high-speed link. One\nexample of such a link is a SONET (synchronous optical network) line, described in\nChapter 8. The Internet consists of a number of interconnected routers that span\nthe globe."
  },
  {
    "text": "The routers forward packets of data from source to destination through\nthe Internet. 1.6 / AN EXAMPLE CONFIGURATION\nThe lower portion of Figure 1.6 shows a LAN implemented using a single\nEthernet switch. This is a common configuration at a small business or other small\norganization.The LAN is connected to the Internet through a firewall host that pro-\nvides security services."
  },
  {
    "text": "In this example the firewall connects to the Internet through\nan ATM network.There is also a router off of the LAN hooked into a private WAN,\nwhich might be a private ATM or frame relay network."
  },
  {
    "text": "A variety of design issues, such as signal encoding and error control, relate to\nthe links between adjacent elements, such as between routers on the Internet or\nbetween switches in the ATM network, or between a subscriber and an ISP."
  },
  {
    "text": "The\ninternal structure of the various networks (telephone, ATM, Ethernet) raises addi-\ntional issues.We will be occupied in Parts Two through Four with the design features\nsuggested by Figure 1.6."
  },
  {
    "text": "To destroy communication completely, there must be no rules in common \nbetween transmitter and receiver—neither of alphabet nor of syntax. —On Human Communication, Colin Cherry\nA protocol architecture is the layered structure of hardware and soft-\nware that supports the exchange of data between systems and supports\ndistributed applications, such as electronic mail and file transfer."
  },
  {
    "text": "At each layer of a protocol architecture, one or more common\nprotocols are implemented in communicating systems. Each protocol\nprovides a set of rules for the exchange of data between systems. The most widely used protocol architecture is the TCP/IP protocol\nsuite, which consists of the following layers: physical, network access,\ninternet, transport, and application."
  },
  {
    "text": "Another important protocol architecture is the seven-layer OSI model. This chapter provides a context for the detailed material that follows."
  },
  {
    "text": "It shows\nhow the concepts of Parts Two through Five fit into the broader area of computer\nnetworks and computer communications.This chapter may be read in its proper\nsequence or it may be deferred until the beginning of Part Three, Four, or Five.1\nWe begin this chapter by introducing the concept of a layered protocol\narchitecture.We then examine the most important such architecture, the TCP/IP\nprotocol suite."
  },
  {
    "text": "TCP/IP is an Internet-based concept and is the framework for\ndeveloping a complete range of computer communications standards. Virtually\nall computer vendors now provide support for this architecture. Another well-\nknown architecture is the Open Systems Interconnection (OSI) reference model."
  },
  {
    "text": "OSI is a standardized architecture that is often used to describe communications\nfunctions but that is now rarely implemented. OSI is briefly introduced in this\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\neither directly or via a communication network. But more is needed.Typical tasks to\nbe performed are as follow:\n1."
  },
  {
    "text": "The source system must either activate the direct data communication path or\ninform the communication network of the identity of the desired destination\n2. The source system must ascertain that the destination system is prepared to\nreceive data. 3."
  },
  {
    "text": "The file transfer application on the source system must ascertain that the file\nmanagement program on the destination system is prepared to accept and store\nthe file for this particular user. 4. If the file formats used on the two systems are different, one or the other sys-\ntem must perform a format translation function."
  },
  {
    "text": "It is clear that there must be a high degree of cooperation between the two com-\nputer systems. Instead of implementing the logic for this as a single module, the task is\nbroken up into subtasks, each of which is implemented separately. In a protocol archi-\ntecture, the modules are arranged in a vertical stack."
  },
  {
    "text": "Each layer in the stack performs\na related subset of the functions required to communicate with another system. It\nrelies on the next lower layer to perform more primitive functions and to conceal the\ndetails of those functions. It provides services to the next higher layer. Ideally, layers\nshould be defined so that changes in one layer do not require changes in other layers."
  },
  {
    "text": "Of course, it takes two to communicate, so the same set of layered functions\nmust exist in two systems. Communication is achieved by having the corresponding,\nor peer, layers in two systems communicate.The peer layers communicate by means\nof formatted blocks of data that obey a set of rules or conventions known as a\nprotocol."
  },
  {
    "text": "The key features of a protocol are as follows:\n• Syntax: Concerns the format of the data blocks\n• Semantics: Includes control information for coordination and error handling\n• Timing: Includes speed matching and sequencing\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nfor providing reliability are essentially independent of the nature of the applica-\ntions.Thus, it makes sense to collect those mechanisms in a common layer shared by\nall applications; this is referred to as the host-to-host layer, or transport layer."
  },
  {
    "text": "The\nTransmission Control Protocol (TCP) is the most commonly used protocol to pro-\nvide this functionality. Finally, the application layer contains the logic needed to support the various\nuser applications. For each different type of application, such as file transfer, a sepa-\nrate module is needed that is peculiar to that application."
  },
  {
    "text": "Operation of TCP and IP\nFigure 2.1 indicates how these protocols are configured for communications. To\nmake clear that the total communications facility may consist of multiple networks,\nthe constituent networks are usually referred to as subnetworks. Some sort of net-\nwork access protocol, such as the Ethernet logic, is used to connect a computer to a\nsubnetwork."
  },
  {
    "text": "This protocol enables the host to send data across the subnetwork to\nanother host or, if the target host is on another subnetwork, to a router that will for-\nward the data. IP is implemented in all of the end systems and the routers. It acts as\na relay to move a block of data from one host, through one or more routers, to\nanother host."
  },
  {
    "text": "TCP is implemented only in the end systems; it keeps track of the\nblocks of data to assure that all are delivered reliably to the appropriate application."
  },
  {
    "text": "Physical Physical\nNetwork access\nprotocol #1\nNetwork access\nprotocol #2\nGlobal internet\nSubnetwork attachment\npoint address\nLogical connection\n(e.g., virtual circuit)\nLogical connection\n(TCP connection)\n(service access point) \nTCP/IP Concepts\n2.2 / THE TCP/IP PROTOCOL ARCHITECTURE\nFor successful communication, every entity in the overall system must have a\nunique address."
  },
  {
    "text": "Actually, two levels of addressing are needed. Each host on a\nsubnetwork must have a unique global internet address; this allows the data to be\ndelivered to the proper host. Each process with a host must have an address that is\nunique within the host; this allows the host-to-host protocol (TCP) to deliver data to\nthe proper process.These latter addresses are known as ports."
  },
  {
    "text": "Let us trace a simple operation. Suppose that a process, associated with port 3\nat host A, wishes to send a message to another process, associated with port 2 at host\nB. The process at A hands the message down to TCP with instructions to send it to\nhost B, port 2.TCP hands the message down to IP with instructions to send it to host\nB."
  },
  {
    "text": "Note that IP need not be told the identity of the destination port. All it needs\nto know is that the data are intended for host B. Next, IP hands the message down to\nthe network access layer (e.g., Ethernet logic) with instructions to send it to router J\n(the first hop on the way to B)."
  },
  {
    "text": "To control this operation, control information as well as user data must be\ntransmitted, as suggested in Figure 2.2. Let us say that the sending process generates\na block of data and passes this to TCP.TCP may break this block into smaller pieces\nto make it more manageable.To each of these pieces,TCP appends control informa-\ntion known as the TCP header, forming a TCP segment."
  },
  {
    "text": "The control information is\nto be used by the peer TCP protocol entity at host B. Examples of items in this\nheader include:\n• Destination port: When the TCP entity at B receives the segment, it must\nknow to whom the data are to be delivered."
  },
  {
    "text": "• Sequence number: TCP numbers the segments that it sends to a particular\ndestination port sequentially, so that if they arrive out of order, the TCP entity\nat B can reorder them. Application\nbyte stream\nNetwork-level\nProtocol Data Units (PDUs) in the TCP/IP Architecture\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nin the TCP segment. Chapter 20 provides more details."
  },
  {
    "text": "In addition to TCP, there is one other transport-level protocol that is in com-\nmon use as part of the TCP/IP protocol suite: the User Datagram Protocol (UDP). UDP does not guarantee delivery, preservation of sequence, or protection against\n2.2 / THE TCP/IP PROTOCOL ARCHITECTURE\nduplication. UDP enables a procedure to send messages to other procedures with a\nminimum of protocol mechanism."
  },
  {
    "text": "Some transaction-oriented applications make use\nof UDP; one example is SNMP (Simple Network Management Protocol), the stan-\ndard network management protocol for TCP/IP networks. Because it is connection-\nless, UDP has very little to do. Essentially, it adds a port addressing capability to IP. This is best seen by examining the UDP header, shown in Figure 2.3b."
  },
  {
    "text": "UDP also\nincludes a checksum to verify that no error occurs in the data; the use of the check-\nsum is optional. IP and IPv6\nFor decades, the keystone of the TCP/IP protocol architecture has been IP. Figure 2.4a\nshows the IP header format, which is a minimum of 20 octets, or 160 bits."
  },
  {
    "text": "The\nheader, together with the segment from the transport layer, forms an IP-level PDU\nreferred to as an IP datagram or an IP packet.The header includes 32-bit source and\ndestination addresses. The Header Checksum field is used to detect errors in the\nheader to avoid misdelivery. The Protocol field indicates which higher-layer proto-\ncol is using IP."
  },
  {
    "text": "The ID, Flags, and Fragment Offset fields are used in the fragmenta-\ntion and reassembly process. Chapter 18 provides more detail. In 1995, the Internet Engineering Task Force (IETF), which develops protocol\nstandards for the Internet, issued a specification for a next-generation IP, known\nthen as IPng. This specification was turned into a standard in 1996 known as IPv6."
  },
  {
    "text": "IPv6 provides a number of functional enhancements over the existing IP, designed\nSource port\nDestination port\nUrgent pointer\nSequence number\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nto accommodate the higher speeds of today’s networks and the mix of data streams,\nincluding graphic and video, that are becoming more prevalent."
  },
  {
    "text": "But the driving\nforce behind the development of the new protocol was the need for more addresses. The current IP uses a 32-bit address to specify a source or destination. With the\nexplosive growth of the Internet and of private networks attached to the Internet,\nthis address length became insufficient to accommodate all systems needing\naddresses."
  },
  {
    "text": "As Figure 2.4b shows, IPv6 includes 128-bit source and destination\naddress fields. Ultimately, all installations using TCP/IP are expected to migrate from the\ncurrent IP to IPv6, but this process will take many years, if not decades."
  },
  {
    "text": "(a) IPv4 header\n(b) IPv6 header\nTotal Length\nIdentification\nFragment offset\nTime to Live\nHeader checksum\nOptions \u0002 padding\nSource address\nDestination address\nDS \u0001 Differentiated services field\nECN \u0001 Explicit congestion notification field\nNote: The 8-bit DS/ECN fields were formerly\nknown as the Type of Service field in the IPv4\nheader and the Traffic Class field in the IPv6\nPayload length\nNext header\nSource address\nDestination address\n2.2 / THE TCP/IP PROTOCOL ARCHITECTURE\nTCP/IP Applications\nA number of applications have been standardized to operate on top of TCP."
  },
  {
    "text": "We\nmention three of the most common here. The Simple Mail Transfer Protocol (SMTP) provides a basic electronic mail\ntransport facility. It provides a mechanism for transferring messages among sepa-\nrate hosts. Features of SMTP include mailing lists, return receipts, and forwarding."
  },
  {
    "text": "The SMTP protocol does not specify the way in which messages are to be created;\nsome local editing or native electronic mail facility is required. Once a message is\ncreated, SMTP accepts the message and makes use of TCP to send it to an SMTP\nmodule on another host. The target SMTP module will make use of a local elec-\ntronic mail package to store the incoming message in a user’s mailbox."
  },
  {
    "text": "The File Transfer Protocol (FTP) is used to send files from one system to\nanother under user command."
  },
  {
    "text": "Both text and binary files are accommodated, and the\nprotocol provides features for controlling user access.When a user wishes to engage\nin file transfer, FTP sets up a TCP connection to the target system for the exchange\nof control messages.This connection allows user ID and password to be transmitted\nand allows the user to specify the file and file actions desired."
  },
  {
    "text": "Once a file transfer is\napproved, a second TCP connection is set up for the data transfer. The file is trans-\nferred over the data connection, without the overhead of any headers or control\ninformation at the application level.When the transfer is complete, the control con-\nnection is used to signal the completion and to accept new file transfer commands."
  },
  {
    "text": "TELNET provides a remote logon capability, which enables a user at a ter-\nminal or personal computer to logon to a remote computer and function as if\ndirectly connected to that computer.The protocol was designed to work with sim-\nple scroll-mode terminals. TELNET is actually implemented in two modules:\nUser TELNET interacts with the terminal I/O module to communicate with a\nlocal terminal."
  },
  {
    "text": "It converts the characteristics of real terminals to the network\nstandard and vice versa. Server TELNET interacts with an application, acting as\na surrogate terminal handler so that remote terminals appear as local to the\napplication. Terminal traffic between User and Server TELNET is carried on a\nTCP connection."
  },
  {
    "text": "Protocol Interfaces Each layer in the TCP/IP protocol suite interacts with its\nimmediate adjacent layers.At the source, the application layer makes use of the ser-\nvices of the end-to-end layer and provides data down to that layer. A similar rela-\ntionship exists at the interface of the end-to-end and internet layers and at the\ninterface of the internet and network access layers."
  },
  {
    "text": "At the destination, each layer\ndelivers data up to the next higher layer. This use of each individual layer is not required by the architecture. As\nFigure 2.5 suggests, it is possible to develop applications that directly invoke the\nservices of any one of the layers. Most applications require a reliable end-to-end\nprotocol and thus make use of TCP."
  },
  {
    "text": "Some special-purpose applications do not\nneed the services of TCP. Some of these applications, such as the Simple Network\nManagement Protocol (SNMP), use an alternative end-to-end protocol known as\nthe User Datagram Protocol (UDP); others may make use of IP directly."
  },
  {
    "text": "Applica-\ntions that do not involve internetworking and that do not need TCP have been\ndeveloped to invoke the network access layer directly."
  },
  {
    "text": "CHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nThe Open Systems Interconnection (OSI) reference model was developed by the\nInternational Organization for Standardization (ISO)2 as a model for a computer\nprotocol architecture and as a framework for developing protocol standards."
  },
  {
    "text": "The\nOSI model consists of seven layers:\n• Application\n• Presentation\n• Transport\n• Data link\nFigure 2.6 illustrates the OSI model and provides a brief definition of the functions\nperformed at each layer.The intent of the OSI model is that protocols be developed\nto perform the functions of each layer."
  },
  {
    "text": "2ISO is not an acronym (in which case it would be IOS), but a word, derived from the Greek isos,\nmeaning equal."
  },
  {
    "text": "\u0001 Border Gateway Protocol\n\u0001 File Transfer Protocol\nHTTP \u0001 Hypertext Transfer Protocol\nICMP \u0001 Internet Control Message Protocol\nIGMP \u0001 Internet Group Management Protocol\n\u0001 Internet Protocol\nMIME \u0001 Multipurpose Internet Mail Extension\nOSPF \u0001 Open Shortest Path First\nRSVP \u0001 Resource ReSerVation Protocol\nSMTP \u0001 Simple Mail Transfer Protocol\nSNMP \u0001 Simple Network Management Protocol\n\u0001 Transmission Control Protocol\n\u0001 User Datagram Protocol\nSome Protocols in the TCP/IP Protocol Suite\n2.3 / THE OSI MODEL\nThe designers of OSI assumed that this model and the protocols developed\nwithin this model would come to dominate computer communications, eventually\nreplacing proprietary protocol implementations and rival multivendor models such as\nTCP/IP.This has not happened.Although many useful protocols have been developed\nin the context of OSI, the overall seven-layer model has not flourished."
  },
  {
    "text": "Instead, the\nTCP/IP architecture has come to dominate.There are a number of reasons for this out-\ncome."
  },
  {
    "text": "Perhaps the most important is that the key TCP/IP protocols were mature and\nwell tested at a time when similar OSI protocols were in the development stage.When\nbusinesses began to recognize the need for interoperability across networks, only\nTCP/IP was available and ready to go.Another reason is that the OSI model is unnec-\nessarily complex, with seven layers to accomplish what TCP/IP does with fewer layers."
  },
  {
    "text": "Figure 2.7 illustrates the layers of the TCP/IP and OSI architectures, showing\nroughly the correspondence in functionality between the two. Concerned with transmission of unstructured bit stream over\nphysical medium; deals with the mechanical, electrical,\nfunctional, and procedural characteristics to access the\nphysical medium."
  },
  {
    "text": "Provides for the reliable transfer of information across the\nphysical link; sends blocks (frames) with the necessary\nsynchronization, error control, and flow control. Provides upper layers with independence from the data\ntransmission and switching technologies used to connect\nsystems; responsible for establishing, maintaining, and\nterminating connections."
  },
  {
    "text": "Provides reliable, transparent transfer of data between end\npoints; provides end-to-end error recovery and flow control. Provides the control structure for communication between\napplications; establishes, manages, and terminates\nconnections (sessions) between cooperating applications. Presentation\nProvides independence to the application processes from\ndifferences in data representation (syntax)."
  },
  {
    "text": "Application\nProvides access to the OSI environment for users and also\nprovides distributed information services. The OSI Layers\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nStandardization within the OSI Framework3\nThe principal motivation for the development of the OSI model was to provide a\nframework for standardization."
  },
  {
    "text": "Within the model, one or more protocol stan-\ndards can be developed at each layer. The model defines in general terms the\nfunctions to be performed at that layer and facilitates the standards-making\nprocess in two ways:\n• Because the functions of each layer are well defined, standards can be devel-\noped independently and simultaneously for each layer. This speeds up the\nstandards-making process."
  },
  {
    "text": "• Because the boundaries between layers are well defined, changes in standards\nin one layer need not affect already existing software in another layer. This\nmakes it easier to introduce new standards. Figure 2.8 illustrates the use of the OSI model as such a framework. The\noverall communications function is decomposed into seven distinct layers."
  },
  {
    "text": "That\nis, the overall function is broken up into a number of modules, making the inter-\nfaces between modules as simple as possible. In addition, the design principle of\ninformation hiding is used: Lower layers are concerned with greater levels of\n3The concepts introduced in this subsection apply as well to the TCP/IP architecture."
  },
  {
    "text": "Application\n(host-to-host)\nApplication\nPresentation\nA Comparison\nof the OSI and TCP/IP\nProtocol Architectures\n2.4 / STANDARDIZATION WITHIN A PROTOCOL ARCHITECURE\n(application)\ncommunication\n(modularity,\ninformation hiding)\nlayer N \u0002 1\nService from\nlayer N \u0003 1\nOSI-wide standards\n(e.g., network management, security)\nThe OSI Architecture as a Framework for Standardization\ndetail; upper layers are independent of these details."
  },
  {
    "text": "Each layer provides services\nto the next higher layer and implements a protocol to the peer layer in other \nFigure 2.9 shows more specifically the nature of the standardization required\nat each layer.Three elements are key:\n• Protocol specification: Two entities at the same layer in different systems\ncooperate and interact by means of a protocol."
  },
  {
    "text": "Because two different open\nsystems are involved, the protocol must be specified precisely. This includes\nthe format of the protocol data units exchanged, the semantics of all fields, and\nthe allowable sequence of PDUs."
  },
  {
    "text": "• Service definition: In addition to the protocol or protocols that operate at a\ngiven layer, standards are needed for the services that each layer provides to\nthe next higher layer. Typically, the definition of services is equivalent to a\nfunctional description that defines what services are provided, but not how the\nservices are to be provided."
  },
  {
    "text": "• Addressing: Each layer provides services to entities at the next higher layer. These entities are referenced by means of a service access point (SAP).Thus, a\nnetwork service access point (NSAP) indicates a transport entity that is a user\nof the network service."
  },
  {
    "text": "CHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nThe need to provide a precise protocol specification for open systems is\nself-evident. The other two items listed warrant further comment. With respect to\nservice definitions, the motivation for providing only a functional definition is as\nfollows."
  },
  {
    "text": "First, the interaction between two adjacent layers takes place within the\nconfines of a single open system and is not the concern of any other open system. Thus, as long as peer layers in different systems provide the same services to their\nnext higher layers, the details of how the services are provided may differ \nfrom one system to another without loss of interoperability."
  },
  {
    "text": "In that case, we would like to leave the system programmer free to exploit \nthe hardware and operating system to provide an interface that is as efficient as\nWith respect to addressing, the use of an address mechanism at each layer,\nimplemented as a service access point, allows each layer to multiplex multiple users\nfrom the next higher layer."
  },
  {
    "text": "Multiplexing may not occur at each layer, but the model\nallows for that possibility. Service Primitives and Parameters\nThe services between adjacent layers in the OSI architecture are expressed in\nterms of primitives and parameters. A primitive specifies the function to be per-\nformed, and the parameters are used to pass data and control information."
  },
  {
    "text": "The\nactual form of a primitive is implementation dependent. An example is a proce-\nFour types of primitives are used in standards to define the interaction\nbetween adjacent layers in the architecture. These are defined in Table 2.1. The lay-\nout of Figure 2.10a suggests the time ordering of these events."
  },
  {
    "text": "For example, consider\n(service access point)\nProtocol specification\n(precise syntax and\nsemantics for\ninteroperability)\nService definition\n(functional description\nfor internal use)\nLayer-Specific Standards\n2.4 / STANDARDIZATION WITHIN A PROTOCOL ARCHITECURE\nService Primitive Types\nA primitive issued by a service user to invoke some service and to pass the parameters needed\nto specify fully the requested service\nA primitive issued by a service provider either to\n1."
  },
  {
    "text": "indicate that a procedure has been invoked by the peer service user on the connection and\nto provide the associated parameters, or\n2."
  },
  {
    "text": "notify the service user of a provider-initiated action\nA primitive issued by a service user to acknowledge or complete some procedure previously\ninvoked by an indication to that user\nA primitive issued by a service provider to acknowledge or complete some procedure previously\ninvoked by a request by the service user\nthe transfer of data from an (N) entity to a peer (N) entity in another system."
  },
  {
    "text": "The\nfollowing steps occur:\n1. The source (N) entity invokes its (N – 1) entity with a request primitive. Associated with the primitive are the parameters needed, such as the data to\nbe transmitted and the destination address. 2. The source (N – 1) entity prepares an (N – 1) PDU to be sent to its peer (N – 1)\n3."
  },
  {
    "text": "The destination (N – 1) entity delivers the data to the appropriate destination (N)\nentity via an indication primitive, which includes the data and source address as\nparameters."
  },
  {
    "text": "CHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nThis sequence of events is referred to as a confirmed service, as the initiator\nreceives confirmation that the requested service has had the desired effect at the\nother end."
  },
  {
    "text": "If only request and indication primitives are involved (corresponding to\nsteps 1 through 3), then the service dialogue is a nonconfirmed service; the initiator\nreceives no confirmation that the requested action has taken place (Figure 2.10b). TRADITIONAL INTERNET-BASED APPLICATIONS\nA number of applications have been standardized to operate on top of TCP. We\nmention three of the most common here."
  },
  {
    "text": "The Simple Mail Transfer Protocol (SMTP) provides a basic electronic mail\ntransport facility. It provides a mechanism for transferring messages among sepa-\nrate hosts. Features of SMTP include mailing lists, return receipts, and forwarding. The SMTP protocol does not specify the way in which messages are to be created;\nsome local editing or native electronic mail facility is required."
  },
  {
    "text": "Once a message is\ncreated, SMTP accepts the message and makes use of TCP to send it to an SMTP\nmodule on another host. The target SMTP module will make use of a local elec-\ntronic mail package to store the incoming message in a user’s mailbox. The File Transfer Protocol (FTP) is used to send files from one system to\nanother under user command."
  },
  {
    "text": "Both text and binary files are accommodated, and the\nprotocol provides features for controlling user access.When a user wishes to engage\nin file transfer,FTP sets up a TCP connection to the target system for the exchange of\ncontrol messages.This connection allows user ID and password to be transmitted and\nallows the user to specify the file and file actions desired."
  },
  {
    "text": "Once a file transfer is\napproved, a second TCP connection is set up for the data transfer. The file is\ntransferred over the data connection, without the overhead of any headers or control\ninformation at the application level. When the transfer is complete, the control con-\nnection is used to signal the completion and to accept new file transfer commands."
  },
  {
    "text": "TELNET provides a remote logon capability, which enables a user at a termi-\nnal or personal computer to logon to a remote computer and function as if directly\nconnected to that computer. The protocol was designed to work with simple scroll-\nmode terminals. TELNET is actually implemented in two modules: User TELNET\ninteracts with the terminal I/O module to communicate with a local terminal."
  },
  {
    "text": "It con-\nverts the characteristics of real terminals to the network standard and vice versa. Server TELNET interacts with an application, acting as a surrogate terminal han-\ndler so that remote terminals appear as local to the application. Terminal traffic\nbetween User and Server TELNET is carried on a TCP connection."
  },
  {
    "text": "With the increasing availability of broadband access to the Internet has come an\nincreased interest in Web-based and Internet-based multimedia applications. The\nterms multimedia and multimedia applications are used rather loosely in the litera-\nture and in commercial publications, and no single definition of the term multimedia\nhas been agreed (e.g., [JAIN94], [GRIM91], [PURC98], [PACK99])."
  },
  {
    "text": "For our pur-\nposes, the definitions in Table 2.2 provide a starting point. 2.6 / MULTIMEDA\nMultimedia Terminology\nRefers to the form of information and includes text, still images, audio, and video. Human-computer interaction involving text, graphics, voice and video. Multimedia also refers to storage\ndevices that are used to store multimedia content."
  },
  {
    "text": "Streaming media\nRefers to multimedia files, such as video clips and audio, that begin playing immediately or within seconds\nafter it is received by a computer from the Internet or Web.Thus, the media content is consumed as it is\ndelivered from the server rather than waiting until an entire file is downloaded."
  },
  {
    "text": "One way to organize the concepts associated with multimedia is to look at a\ntaxonomy that captures a number of dimensions of this field. Figure 2.11 looks at\nmultimedia from the perspective of three different dimensions: type of media,\napplications, and the technology required to support the applications."
  },
  {
    "text": "Media Types\nTypically, the term multimedia refers to four distinct types of media: text, audio,\ngraphics, and video. From a communications perspective,the term text is self-explanatory,referring to\ninformation that can be entered via a keyboard and is directly readable and printable."
  },
  {
    "text": "Text messaging,instant messaging,and text (non-html) e-mail are common examples,as\nApplication\nTechnologies\nComputer architecture\nOperating system\nUser interface\nCompression\nSynchronization\nCommunications/networking\nQuality of service\nCollaborative work systems\nMM conferencing\nStreaming audio/video\nFigure 2.11\nA Multimedia Taxonomy\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\n4A pixel, or picture element, is the smallest element of a digital image that can be assigned a gray level."
  },
  {
    "text": "Equivalently, a pixel is an individual dot in a dot-matrix representation of a picture. are chat rooms and message boards. However, the term often is used in the broader\nsense of data that can be stored in files and databases and that does not fit into the other\nthree categories."
  },
  {
    "text": "For example, an organization’s database my contain files of numerical\ndata, in which the data are stored in a more compact form than printable characters. The term audio generally encompasses two different ranges of sound. Voice, or\nspeech, refers to sounds that are produced by the human speech mechanism. Gener-\nally, a modest bandwidth (under 4 kHz) is required to transmit voice."
  },
  {
    "text": "Telephony and\nrelated applications (e.g., voice mail, audio teleconferencing, telemarketing) are the\nmost common traditional applications of voice communications technology. A\nbroader frequency spectrum is needed to support music applications, including the\ndownload of music files. The image service supports the communication of individual pictures, charts, or\ndrawings."
  },
  {
    "text": "Image-based applications include facsimile, computer-aided design (CAD),\npublishing, and medical imaging. Images can be represented in a vector graphics for-\nmat, such as is used in drawing programs and PDF files. In a raster graphics format,\nan image is represented as a two-dimensional array of spots, called pixels.4 The\ncompressed JPG format is derived from a raster graphics format."
  },
  {
    "text": "The video service carries sequences of pictures in time. In essence, video\nmakes use of a sequence of raster-scan images. Multimedia Applications\nThe Internet, until recently, has been dominated by information retrieval applications,\ne-mail, and file transfer, plus Web interfaces that emphasized text and images."
  },
  {
    "text": "Increas-\ningly, the Internet is being used for multimedia applications that involve massive\namounts of data for visualization and support of real-time interactivity.Streaming audio\nand video are perhaps the best known of such applications.An example of an interac-\ntive application is a virtual training environment involving distributed simulations and\nreal-time user interaction [VIN98]."
  },
  {
    "text": "[GONZ00] lists the following multimedia application domains:\n• Multimedia information systems: Databases, information kiosks, hypertexts,\nelectronic books, and multimedia expert systems\n• Multimedia communication systems: Computer-supported collaborative work,\nvideoconferencing, streaming media, and multimedia teleservices\n• Multimedia entertainment systems: 3D computer games, multiplayer network\ngames, infotainment, and interactive audiovisual productions\n• Multimedia business systems: Immersive electronic commerce, marketing,\nmultimedia presentations, video brochures, virtual shopping, and so on."
  },
  {
    "text": "• Multimedia educational systems: Electronic books, flexible teaching materials,\nsimulation systems, automatic testing, distance learning, and so on. One point worth noting is highlighted in Figure 2.11."
  },
  {
    "text": "Although traditionally\nthe term multimedia has connoted the simultaneous use of multiple media types\n(e.g., video annotation of a text document), the term has also come to refer to\napplications that require real-time processing or communication of video or audio\n2.6 / MULTIMEDA\nDomains of Multimedia Systems and Example Applications\nExample Application\nInformation management\nHypermedia, multimedia-capable databases, content-based retrieval\nEntertainment\nComputer games, digital video, audio (MP3)\nTelecommunication\nVideoconferencing, shared workspaces, virtual communities\nInformation publishing/delivery\nOnline training, electronic books, streaming media\nalone."
  },
  {
    "text": "Thus, voice over IP (VoIP), streaming audio, and streaming video are con-\nsidered multimedia applications even though each involves a single media type. Elastic and Inelastic Traffic\nBefore discussing multimedia technologies, it will be useful to look at a key consider-\nation,namely the type of network traffic generated by various media and applications."
  },
  {
    "text": "Traffic on a network or internet can be divided into two broad categories: elas-\ntic and inelastic. A consideration of their differing requirements clarifies the need\nfor an enhanced internet architecture. Elastic traffic can adjust, over wide ranges, to changes in delay and through-\nput across an internet and still meet the needs of its applications."
  },
  {
    "text": "This is the\ntraditional type of traffic supported on TCP/IP-based internets and is the type of\ntraffic for which internets were designed. With TCP, traffic on individual\nconnections adjusts to congestion by reducing the rate at which data are\npresented to the network."
  },
  {
    "text": "Elastic applications include common Internet-based applications, such as file\ntransfer, electronic mail, remote logon, network management, and Web access. But\nthere are differences among the requirements of these applications. For example,\n• E-mail is generally quite insensitive to changes in delay."
  },
  {
    "text": "• When file transfer is done online, as it frequently is, the user expects the delay\nto be proportional to the file size and so is sensitive to changes in throughput. • With network management, delay is generally not a serious concern."
  },
  {
    "text": "However,\nif failures in an internet are the cause of congestion, then the need for network\nmanagement messages to get through with minimum delay increases with\nincreased congestion. • Interactive applications, such as remote logon and Web access, are quite sensi-\ntive to delay."
  },
  {
    "text": "So, even if we confine our attention to elastic traffic, an Internet service that\ncan allocate resources to traffic streams based on need, rather than just providing\nequal allocation, is useful. Inelastic traffic does not easily adapt, if at all, to changes in delay and through-\nput across an internet."
  },
  {
    "text": "The prime example is real-time traffic, such as voice and\nvideo.The requirements for inelastic traffic may include the following:\n• Throughput: A minimum throughput value may be required. Unlike most\nelastic traffic, which can continue to deliver data with perhaps degraded ser-\nvice, many inelastic applications require a firm minimum throughput."
  },
  {
    "text": "CHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\n• Delay: An example of a delay-sensitive application is stock trading; someone\nwho consistently receives later service will consistently act later, and with\ngreater disadvantage."
  },
  {
    "text": "• Delay variation: The larger the allowable delay, the longer the real delay in\ndelivering the data and the greater the size of the delay buffer required at\nreceivers. Real-time interactive applications, such as teleconferencing, may\nrequire a reasonable upper bound on delay variation. • Packet loss: Real-time applications vary in the amount of packet loss, if any,\nthat they can sustain."
  },
  {
    "text": "These requirements are difficult to meet in an environment with variable\nqueuing delays and congestion losses. Accordingly, inelastic traffic introduces two\nnew requirements into the internet architecture."
  },
  {
    "text": "First, some means is needed to give\npreferential treatment to applications with more demanding requirements.Applica-\ntions need to be able to state their requirements, either ahead of time in some sort of\nservice request function, or on the fly, by means of fields in the IP packet header."
  },
  {
    "text": "A\nsecond requirement in supporting inelastic traffic in an internet architecture is that\nelastic traffic must still be supported. Multimedia Technologies\nFigure 2.11 lists some of the technologies that are relevant to the support of\nmultimedia applications. As can be seen, a wide range of technologies is involved."
  },
  {
    "text": "The lowest four items on the list are beyond the scope of this book.The other items\nrepresent only a partial list of communications and networking technologies for\nmultimedia.These technologies and others are explored throughout the book. Here,\nwe give a brief comment on each area."
  },
  {
    "text": "• Compression: Digitized video, and to a much lesser extent audio, can generate\nan enormous amount of traffic on a network.A streaming application, which is\ndelivered to many users, magnifies the traffic. Accordingly, standards have\nbeen developed for producing significant savings through compression. The\nmost notable such standards are JPG for still images and MPG for video."
  },
  {
    "text": "Compression is examined in Part Six. • Communications/networking: This broad category refers to the transmission\nand networking technologies (e.g., SONET, ATM) that can support high-\nvolume multimedia traffic. • Protocols: A number of protocols are instrumental in supporting multimedia\ntraffic. One example is the Real-time Transport Protocol (RTP), which is\ndesigned to support inelastic traffic."
  },
  {
    "text": "RTP uses buffering and discarding strate-\ngies to assure that real-time traffic is received by the end user in a smooth con-\ntinuous stream. Another example is the Session Initiation Protocol (SIP), an\napplication-level control protocol for setting up, modifying, and terminating\nreal-time sessions between participants over an IP data network."
  },
  {
    "text": "All of these matters are explored subsequently in this text. For the reader interested in greater detail on TCP/IP, there are two three-volume works that\nare more than adequate. The works by Comer and Stevens have become classics and are\nconsidered definitive [COME06, COME99, COME01]."
  },
  {
    "text": "The works by Stevens and Wright\nare equally worthwhile and more detailed with respect to protocol operation [STEV94,\nSTEV96, WRIG95]. A more compact and very useful reference work is [RODR02], which\ncovers the spectrum of TCP/IP-related protocols in a technically concise but thorough fash-\nion, including coverage of some protocols not found in the other two works."
  },
  {
    "text": "[GREE80] is a good tutorial overview of the concept of a layered protocol architec-\nture. Two early papers that provide good discussions of the design philosophy of the TCP/IP\nprotocol suite are [LEIN85] and [CLAR88]. Although somewhat dated, [FURH94] remains a good overview of multimedia topics. [VOGE95] is a good introduction to QoS considerations for multimedia."
  },
  {
    "text": "“An Introduction to Network Architecture and Protocols.” IEEE\nTransactions on Communications, April 1980. Heller, R., et al. “Using a Theoretical Multimedia Taxonomy Framework.”\nACM Journal of Educational Resources in Computing, Spring 2001. Leiner, B.; Cole, R.; Postel, J.; and Mills, D. “The DARPA Internet Protocol\nSuite.” IEEE Communications Magazine, March 1985. Rodriguez, A., et al."
  },
  {
    "text": "• Networking Links: Excellent collection of links related to TCP/IP. • Bongo Project: Running IP over bongo drums.An excellent demonstration of the flex-\nibility of a layered protocol architecture and a source of ideas for projects."
  },
  {
    "text": "What tasks are performed by the transport layer? What is a protocol? What is a protocol data unit (PDU)? What is a protocol architecture? What is TCP/IP? What are some advantages to layering as seen in the TCP/IP architecture? What is a router? Which version of IP is the most prevalent today? Does all traffic running on the Internet use TCP? Compare the address space between IPv4 and IPv6."
  },
  {
    "text": "However,\nboth prime ministers have English translators on their staffs. Draw a diagram\nsimilar to Figure 2.12 to depict the situation, and describe the interaction and\neach level. b."
  },
  {
    "text": "Now suppose that the Chinese prime minister’s translator can translate only into\nJapanese and that the French prime minister has a German translator available.A\ntranslator between German and Japanese is available in Germany. Draw a new\ndiagram that reflects this arrangement and describe the hypothetical phone con-\nList the major disadvantages with the layered approach to protocols."
  },
  {
    "text": "Two blue armies are each poised on opposite hills preparing to attack a single red\narmy in the valley. The red army can defeat either of the blue armies separately but\nwill fail to defeat both blue armies if they attack simultaneously.The blue armies com-\nmunicate via an unreliable communications system (a foot soldier). The commander\nwith one of the blue armies would like to attack at noon."
  },
  {
    "text": "His problem is this: If he\nsends a message to the other blue army, ordering the attack, he cannot be sure it will\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nA TCP segment consisting of 1500 bits of data and 160 bits of header is sent to the IP\nlayer, which appends another 160 bits of header.This is then transmitted through two\nnetworks, each of which uses a 24-bit packet header."
  },
  {
    "text": "The destination network has a\nmaximum packet size of 800 bits. How many bits, including headers, are delivered to\nthe network layer protocol at the destination? Why is UDP needed? Why can’t a user program directly access IP? IP, TCP, and UDP all discard a packet that arrives with a checksum error and do not\nattempt to notify the source.Why?"
  },
  {
    "text": "Why does the TCP header have a header length field while the UDP header does\nThe previous version of the TFTP specification, RFC 783, included the following\nAll packets other than those used for termination are acknowledged\nindividually unless a timeout occurs."
  },
  {
    "text": "The RFC 1350 specification revises this to say:\nAll packets other than duplicate ACK’s and those used for termination\nare acknowledged unless a timeout occurs. The change was made to fix a problem referred to as the “Sorcerer’s Apprentice.”\nDeduce and explain the problem. What is the limiting factor in the time required to transfer a file using TFTP?"
  },
  {
    "text": "A user on a UNIX host wants to transfer a 4000-byte text file to a Microsoft Windows\nhost. In order to do this, he transfers the file by means of TFTP, using the netascii trans-\nfer mode. Even though the transfer was reported as being performed successfully, the\nWindows host reports the resulting file size is 4050 bytes, rather than the original 4000\nbytes."
  },
  {
    "text": "Does this difference in the file sizes imply an error in the data transfer? Why or\nThe TFTP specification (RFC 1350) states that the transfer identifiers (TIDs) chosen\nfor a connection should be randomly chosen, so that the probability that the same\nnumber is chosen twice in immediate succession is very low.What would be the prob-\nlem of using the same TIDs twice in immediate succession?"
  },
  {
    "text": "In order to be able retransmit lost packets, TFTP must keep a copy of the data it\nsends. How many packets of data must TFTP keep at a time to implement this\nretransmission mechanism? TFTP, like most protocols, will never send an error packet in response to an error\npacket it receives.Why?"
  },
  {
    "text": "We have seen that in order to deal with lost packets,TFTP implements a timeout-and-\nretransmit scheme, by setting a retransmission timer when it transmits a packet to the\nremote host. Most TFTP implementations set this timer to a fixed value of about \n5 seconds. Discuss the advantages and the disadvantages of using a fixed value for the\nretransmission timer."
  },
  {
    "text": "TFTP’s timeout-and-retransmission scheme implies that all data packets will eventu-\nally be received by the destination host.Will these data also be received uncorrupted? Why or why not? This chapter mentions the use of Frame Relay as a specific protocol or system used to\nconnect to a wide area network."
  },
  {
    "text": "Each organization will have a certain collection of\nservices available (like Frame Relay) but this is dependent upon provider provision-\ning, cost and customer premises equipment. What are some of the services available\nto you in your area?"
  },
  {
    "text": "CHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\n• RRQ: The read request packet requests permission to transfer a file from the other sys-\ntem.The packet includes a file name, which is a sequence of ASCII6 bytes terminated by\na zero byte. The zero byte is the means by which the receiving TFTP entity knows\nwhen the file name is terminated."
  },
  {
    "text": "The packet also includes a mode field, which\nindicates whether the data file is to be interpreted as a string of ASCII bytes (netascii\nmode) or as raw 8-bit bytes (octet mode) of data. In netascii mode, the file is trans-\nferred as lines of characters, each terminated by a carriage return, line feed. Each sys-\ntem must translate between its own format for character files and the TFTP format."
  },
  {
    "text": "• WRQ: The write request packet requests permission to transfer a file to the other\n• Data: The block numbers on data packets begin with one and increase by one for each\nnew block of data. This convention enables the program to use a single number to dis-\ncriminate between new packets and duplicates.The data field is from zero to 512 bytes\nlong."
  },
  {
    "text": "If it is 512 bytes long, the block is not the last block of data; if it is from zero to \n511 bytes long, it signals the end of the transfer. • ACK: This packet is used to acknowledge receipt of a data packet or a WRQ packet. An ACK of a data packet contains the block number of the data packet being acknowl-\nedged.An ACK of a WRQ contains a block number of zero. National Standards Institute."
  },
  {
    "text": "It designates a unique 7-bit pattern for each letter, with an eighth bit\nused for parity. ASCII is equivalent to the International Reference Alphabet (IRA), defined in ITU-T\nCHAPTER 2 / PROTOCOL ARCHITECTURE,TCP/IP, AND INTERNET-BASED\nErrors and Delays\nIf TFTP operates over a network or internet (as opposed to a direct data link), it is possible\nfor packets to be lost."
  },
  {
    "text": "Because TFTP operates over UDP, which does not provide a reliable\ndelivery service, there needs to be some mechanism in TFTP to deal with lost packets. TFTP\nuses the common technique of a timeout mechanism."
  },
  {
    "text": "Suppose that A sends a packet to B that\nChapter 3 Data Transmission\nThe principles of data transmission underlie all of the concepts and\ntechniques presented in this book.To understand the need for encoding,mul-\ntiplexing, switching, error control, and so on, the reader should understand \nthe behavior of data signals propagated through a transmission medium."
  },
  {
    "text": "Chapter 3 discusses the distinction between digital and analog data and\ndigital and analog transmission. Concepts of attenuation and noise are also\nChapter 4 Transmission Media\nTransmission media can be classified as either guided or wireless. The\nmost commonly used guided transmission media are twisted pair, coaxial\ncable, and optical fiber."
  },
  {
    "text": "Wireless techniques include terrestrial and\nsatellite microwave, broadcast radio, and infrared. Chapter 4 covers all of\nthese topics. Chapter 5 Signal Encoding Techniques\nData come in both analog (continuous) and digital (discrete) form. For\ntransmission, input data must be encoded as an electrical signal that is\ntailored to the characteristics of the transmission medium."
  },
  {
    "text": "Both analog and\ndigital data can be represented by either analog or digital signals; each of\nthe four cases is discussed in Chapter 5. Chapter 6 Digital Data Communication Techniques\nIn Chapter 6, the emphasis shifts from data transmission to data commu-\nnications. For two devices linked by a transmission medium to exchange\ndigital data, a high degree of cooperation is required."
  },
  {
    "text": "Typically, data are\ntransmitted one bit at a time over the medium.The timing (rate, duration,\nspacing) of these bits must be the same for transmitter and receiver. Two\ncommon communication techniques—asynchronous and synchronous—\nare explored. Following this, the chapter examines the topics of transmis-\nsion errors and error detection and correction techniques."
  },
  {
    "text": "Chapter 7 examines the fundamental tech-\nniques common to all data link control protocols, including flow control\nand error control, and then examines the most commonly used protocol,\nChapter 8 Multiplexing\nTransmission facilities are, by and large, expensive. It is often the case that\ntwo communication stations will not utilize the full capacity of a data link."
  },
  {
    "text": "For efficiency, it should be possible to share that capacity. The generic\nterm for such sharing is multiplexing. Chapter 8 concentrates on the three most common types of multiplexing\ntechniques. The first, frequency division multiplexing (FDM), is the most\nwidespread and is familiar to anyone who has ever used a radio or televi-\nsion set."
  },
  {
    "text": "The second is a particular case of time division multiplexing\n(TDM), often known as synchronous TDM. This is commonly used for\nmultiplexing digitized voice streams. The third type is another form of\nTDM that is more complex but potentially more efficient than synchro-\nnous TDM; it is referred to as statistical or asynchronous TDM."
  },
  {
    "text": "Chapter 9 Spread Spectrum\nAn increasingly popular form of wireless communications is known as\nspread spectrum. Two general approaches are used: frequency hopping\nand direct sequence spread spectrum. Chapter 9 provides an overview of\nboth techniques. The chapter also looks at the concept of code division\nmultiple access (CDMA), which is an application of spread spectrum to\nprovide multiple access."
  },
  {
    "text": "Depending on the transmission medium and the communications\nenvironment, either analog or digital signals can be used to convey\ninformation. Any electromagnetic signal, analog or digital, is made up of a number\nof constituent frequencies.A key parameter that characterizes the sig-\nnal is bandwidth, which is the width of the range of frequencies that\ncomprises the signal."
  },
  {
    "text": "In general, the greater the bandwidth of the sig-\nnal, the greater its information-carrying capacity. A major problem in designing a communications facility is transmis-\nsion impairment. The most significant impairments are attenuation,\nattenuation distortion, delay distortion, and the various types of noise."
  },
  {
    "text": "The various forms of noise include thermal noise, intermodulation\nnoise, crosstalk, and impulse noise. For analog signals, transmission\nimpairments introduce random effects that degrade the quality of the\nreceived information and may affect intelligibility. For digital signals,\ntransmission impairments may cause bit errors at the receiver."
  },
  {
    "text": "The designer of a communications facility must deal with four factors:\nthe bandwidth of the signal, the data rate that is used for digital\ninformation, the amount of noise and other impairments, and the level\nof error rate that is acceptable. The bandwidth is limited by the\ntransmission medium and the desire to avoid interference with other\nnearby signals."
  },
  {
    "text": "Because bandwidth is a scarce resource, we would like\nto maximize the data rate that is achieved in a given bandwidth. The\ndata rate is limited by the bandwidth, the presence of impairments,\nand the error rate that is acceptable. Toto, I’ve got a feeling we’re not in Kansas anymore."
  },
  {
    "text": "Judy Garland in The Wizard of Oz\nThe successful transmission of data depends principally on two factors: the qual-\nity of the signal being transmitted and the characteristics of the transmission\nmedium.The objective of this chapter and the next is to provide the reader with\nan intuitive feeling for the nature of these two factors."
  },
  {
    "text": "The first section presents some concepts and terms from the field of electrical\nengineering.This should provide sufficient background to deal with the remainder\nof the chapter. Section 3.2 clarifies the use of the terms analog and digital."
  },
  {
    "text": "Either\nanalog or digital data may be transmitted using either analog or digital signals.Fur-\nthermore, it is common for intermediate processing to be performed between\nsource and destination,and this processing has either an analog or digital character."
  },
  {
    "text": "3.1 / CONCEPTS AND TERMINOLOGY\nSection 3.3 looks at the various impairments that may introduce errors into\nthe data during transmission.The chief impairments are attenuation, attenuation\ndistortion, delay distortion, and the various forms of noise. Finally, we look at the\nimportant concept of channel capacity."
  },
  {
    "text": "In this section we introduce some concepts and terms that will be referred to\nthroughout the rest of the chapter and, indeed, throughout Part Two. Transmission Terminology\nData transmission occurs between transmitter and receiver over some transmission\nmedium.Transmission media may be classified as guided or unguided. In both cases,\ncommunication is in the form of electromagnetic waves."
  },
  {
    "text": "With guided media, the\nwaves are guided along a physical path; examples of guided media are twisted pair,\ncoaxial cable, and optical fiber. Unguided media, also called wireless, provide a\nmeans for transmitting electromagnetic waves but do not guide them; examples are\npropagation through air, vacuum, and seawater."
  },
  {
    "text": "The term direct link is used to refer to the transmission path between two\ndevices in which signals propagate directly from transmitter to receiver with no\nintermediate devices, other than amplifiers or repeaters used to increase signal\nstrength. Note that this term can apply to both guided and unguided media."
  },
  {
    "text": "A guided transmission medium is point to point if it provides a direct link\nbetween two devices and those are the only two devices sharing the medium. In a\nmultipoint guided configuration, more than two devices share the same medium. A transmission may be simplex, half duplex, or full duplex."
  },
  {
    "text": "In simplex trans-\nmission, signals are transmitted in only one direction; one station is transmitter and\nthe other is receiver. In half-duplex operation, both stations may transmit, but only\none at a time. In full-duplex operation, both stations may transmit simultaneously. In\nthe latter case, the medium is carrying signals in both directions at the same time."
  },
  {
    "text": "How this can be is explained in due course. We should note that the definitions just\ngiven are the ones in common use in the United States (ANSI definitions). Else-\nwhere (ITU-T definitions), the term simplex is used to correspond to half duplex as\ndefined previously, and duplex is used to correspond to full duplex as just defined."
  },
  {
    "text": "Frequency, Spectrum, and Bandwidth\nIn this book, we are concerned with electromagnetic signals used as a means to\ntransmit data. At point 3 in Figure 1.3, a signal is generated by the transmitter and\ntransmitted over a medium. The signal is a function of time, but it can also be\nexpressed as a function of frequency; that is, the signal consists of components of dif-\nferent frequencies."
  },
  {
    "text": "It turns out that the frequency domain view of a signal is more\nimportant to an understanding of data transmission than a time domain view. Both\nviews are introduced here. Time Domain Concepts Viewed as a function of time,an electromagnetic signal\ncan be either analog or digital."
  },
  {
    "text": "An analog signal is one in which the signal intensity\nCHAPTER 3 / DATA TRANSMISSION\n(b) Digital\nAnalog and Digital Waveforms\n1A mathematical definition: a signal s(t) is continuous if \n2This is an idealized definition. In fact, the transition from one voltage level to another will not be instan-\ntaneous, but there will be a small transition period."
  },
  {
    "text": "Nevertheless, an actual digital signal approximates\nclosely the ideal model of constant voltage levels with instantaneous transitions. t:a s1t2 = s1a2\nvaries in a smooth fashion over time."
  },
  {
    "text": "In other words, there are no breaks or disconti-\nnuities in the signal.1 A digital signal is one in which the signal intensity maintains a\nconstant level for some period of time and then abruptly changes to another constant\nlevel.2 Figure 3.1 shows an example of each kind of signal.The continuous signal might\nrepresent speech, and the discrete signal might represent binary 1s and 0s."
  },
  {
    "text": "The simplest sort of signal is a periodic signal, in which the same signal pattern\nrepeats over time. Figure 3.2 shows an example of a periodic continuous signal (sine\nwave) and a periodic discrete signal (square wave). Mathematically, a signal s(t) is\ndefined to be periodic if and only if\nwhere the constant T is the period of the signal (T is the smallest value that satisfies\nthe equation)."
  },
  {
    "text": "Otherwise, a signal is aperiodic. The sine wave is the fundamental periodic signal. A general sine wave can be\nrepresented by three parameters: peak amplitude (A), frequency (f), and phase \nThe peak amplitude is the maximum value or strength of the signal over time;\ntypically, this value is measured in volts."
  },
  {
    "text": "The frequency is the rate [in cycles per\ns1t + T2 = s1t2\n- q 6 t 6 + q\n3.1 / CONCEPTS AND TERMINOLOGY\nAmplitude (volts)\nAmplitude (volts)\n(a) Sine wave\nPeriod \u0001 T \u0001 1/f\nPeriod \u0001 T \u0001 1/f\n(b) Square wave\nExamples of Periodic Signals\nsecond, or Hertz (Hz)] at which the signal repeats."
  },
  {
    "text": "An equivalent parameter is the\nperiod (T) of a signal, which is the amount of time it takes for one repetition; there-\nPhase is a measure of the relative position in time within a single\nperiod of a signal, as is illustrated subsequently. More formally, for a periodic signal\nf(t), phase is the fractional part t/T of the period T through which t has advanced rel-\native to an arbitrary origin."
  },
  {
    "text": "The origin is usually taken as the last previous passage\nthrough zero from the negative to the positive direction. The general sine wave can be written\nA function with the form of the preceding equation is known as a sinusoid. Figure 3.3 shows the effect of varying each of the three parameters. In part (a) of the\nfigure, the frequency is 1 Hz; thus the period is \nsecond."
  },
  {
    "text": "Part (b) has the same\nfrequency and phase but a peak amplitude of 0.5. In part (c) we have \nis equivalent to \nFinally, part (d) shows the effect of a phase shift of \nradians, which is 45 degrees 12p radians = 360° = 1 period2."
  },
  {
    "text": "s1t2 = A sin12pft + f2\nCHAPTER 3 / DATA TRANSMISSION\n(c) A \u0001 1, f \u0001 2, F \u0001 0 \n(a) A \u0001 1, f \u0001 1, F \u0001 0\n(d) A \u0001 1, f \u0001 1, F \u0001 P/4\n(b) A \u0001 0.5, f \u0001 1, F \u0001 0\ns1t2 \u0001 A sin12pft + f2\nIn Figure 3.3, the horizontal axis is time; the graphs display the value of a sig-\nnal at a given point in space as a function of time.These same graphs, with a change\nof scale, can apply with horizontal axes in space."
  },
  {
    "text": "In this case, the graphs display the\nvalue of a signal at a given point in time as a function of distance. For example, for a\nsinusoidal transmission (e.g., an electromagnetic radio wave some distance from a\nradio antenna, or sound some distance from a loudspeaker), at a particular instant\nof time, the intensity of the signal varies in a sinusoidal way as a function of distance\nfrom the source."
  },
  {
    "text": "There is a simple relationship between the two sine waves, one in time and one\nin space.The wavelength\nof a signal is the distance occupied by a single cycle, or,\nput another way, the distance between two points of corresponding phase of two\nconsecutive cycles. Assume that the signal is traveling with a velocity v."
  },
  {
    "text": "Then the\nwavelength is related to the period as follows:\nEquivalently,\nparticular relevance to this discussion is the case where \nthe speed of light in\nfree space, which is approximately \nFrequency Domain Concepts In practice, an electromagnetic signal will be\nmade up of many frequencies. For example, the signal\n3 * 108 m/s."
  },
  {
    "text": "3.1 / CONCEPTS AND TERMINOLOGY\n3The scaling factor of \nis used to produce a wave whose peak amplitude is close to 1."
  },
  {
    "text": "is shown in Figure 3.4c.The components of this signal are just sine waves of frequen-\ncies f and 3f; parts (a) and (b) of the figure show these individual components.3 There\nare two interesting points that can be made about this figure:\ns1t2 = [4/p2 * 1sin12pft2 + 11/32sin12p13f2t2]\n(a) sin(2pft)\n(b) (1/3) sin(2p(3f)t)\n(c) (4/p) [sin(2pft) + (1/3)sin(2p(3f)t)]\nAddition of Frequency Components 1T \u0001 1/f2\nCHAPTER 3 / DATA TRANSMISSION\n• The second frequency is an integer multiple of the first frequency.When all of\nthe frequency components of a signal are integer multiples of one frequency,\nthe latter frequency is referred to as the fundamental frequency."
  },
  {
    "text": "• The period of the total signal is equal to the period of the fundamental\nfrequency.The period of the component sin \nand the period\nof s(t) is also T, as can be seen from Figure 3.4c. It can be shown, using a discipline known as Fourier analysis, that any signal is\nmade up of components at various frequencies, in which each component is a sinu-\nsoid."
  },
  {
    "text": "By adding together enough sinusoidal signals, each with the appropriate ampli-\ntude, frequency, and phase, any electromagnetic signal can be constructed. Put\nanother way, any electromagnetic signal can be shown to consist of a collection of\nperiodic analog signals (sine waves) at different amplitudes, frequencies, and phases."
  },
  {
    "text": "The importance of being able to look at a signal from the frequency perspective\n(frequency domain) rather than a time perspective (time domain) should become\nclear as the discussion proceeds. For the interested reader, the subject of Fourier\nquencies. The presence of negative frequencies is a mathematical artifact whose explanation is beyond\nthe scope of this book."
  },
  {
    "text": "3.1 / CONCEPTS AND TERMINOLOGY\n(a) s(t) \u0001 (4/P)[sin(2Pft) \u0002 (1/3)sin(2P(3f)t)]\n(b) s(t) \u0001 1\n\u0003X/2 \u0002 t \u0002 X/2\nFrequency Domain Representations\nhere is that, although a given waveform may contain frequencies over a very broad\nrange, as a practical matter any transmission system (transmitter plus medium plus\nreceiver) will be able to accommodate only a limited band of frequencies.This, in turn,\nlimits the data rate that can be carried on the transmission medium."
  },
  {
    "text": "To try to explain these relationships, consider the square wave of Figure 3.2b. Suppose that we let a positive pulse represent binary 0 and a negative pulse repre-\nsent binary 1. Then the waveform represents the binary stream 0101. . . . The dura-\ntion of each pulse is 1/(2f); thus the data rate is 2f bits per second (bps).What are the\nfrequency components of this signal?"
  },
  {
    "text": "To answer this question, consider again\nCHAPTER 3 / DATA TRANSMISSION\n(a) s(t) \u0001 1 \u0002 (4/P) [sin(2Pft) \u0002 (1/3)sin(2P(3f)t)]\nSignal with dc Component\nFigure 3.4. By adding together sine waves at frequencies f and 3f, we get a waveform\nthat begins to resemble the original square wave."
  },
  {
    "text": "Let us continue this process by\nadding a sine wave of frequency 5f, as shown in Figure 3.7a, and then adding a sine\nwave of frequency 7f, as shown in Figure 3.7b.As we add additional odd multiples of\nf, suitably scaled, the resulting waveform approaches that of a square wave more\nand more closely."
  },
  {
    "text": "Indeed, it can be shown that the frequency components of the square wave\nwith amplitudes A and \ncan be expressed as follows:\nThus, this waveform has an infinite number of frequency components and hence an\ninfinite bandwidth. However, the peak amplitude of the kth frequency component,\nkf, is only 1/k, so most of the energy in this waveform is in the first few frequency\ncomponents."
  },
  {
    "text": "What happens if we limit the bandwidth to just the first three fre-\nquency components? We have already seen the answer, in Figure 3.7a."
  },
  {
    "text": "As we can\ns1t2 = A * 4\n3.1 / CONCEPTS AND TERMINOLOGY\n(a) (4/p) [sin(2pft) \u0004 (1/3)sin(2p(3f)t) \u0004 (1/5)sin(2p(5f)t)]\n(b) (4/p) [sin(2pft) \u0004 (1/3)sin(2p(3f)t) \u0004 (1/5)sin(2p(5f)t) \u0004 (1/7)sin(2p(7f)t)]\n(c) (4/p) \u0005 (1/k)sin(2p(kf)t), for k odd\nFrequency Components of Square Wave 1T = 1/f)\nsee, the shape of the resulting waveform is reasonably close to that of the original\nsquare wave."
  },
  {
    "text": "We can use Figures 3.4 and 3.7 to illustrate the relationship between data rate\nand bandwidth. Suppose that we are using a digital transmission system that is capa-\nble of transmitting signals with a bandwidth of 4 MHz. Let us attempt to transmit a\nsequence of alternating 1s and 0s as the square wave of Figure 3.7c. What data rate\ncan be achieved? We look at three cases. Case I."
  },
  {
    "text": "Let us approximate our square wave with the waveform of Figure 3.7a. Although this waveform is a “distorted” square wave, it is sufficiently close to the\nsquare wave that a receiver should be able to discriminate between a binary 0\nCHAPTER 3 / DATA TRANSMISSION\nand a binary 1."
  },
  {
    "text": "If we let \nthen the bandwidth of\nNote that for \nthe period of the\nfundamental frequency is \nIf we treat this waveform as\na bit string of 1s and 0s, one bit occurs every \nfor a data rate of\nThus, for a bandwidth of 4 MHz, a data rate of 2 Mbps is\nCase II. Now suppose that we have a bandwidth of 8 MHz."
  },
  {
    "text": "Let us look again at\nFigure 3.7a, but now with \nUsing the same line of reasoning as\nbefore, the bandwidth of the signal is \nBut in this case \nAs a result, one bit occurs every \ndata rate of 4 Mbps. Thus, other things being equal, by doubling the bandwidth,\nwe double the potential data rate. Case III."
  },
  {
    "text": "Now suppose that the waveform of Figure 3.4c is considered adequate\nfor approximating a square wave. That is, the difference between a positive and\nnegative pulse in Figure 3.4c is sufficiently distinct that the waveform can be suc-\ncessfully used to represent a sequence of 1s and 0s. Assume as in Case II that\nso that one bit occurs every \ndata rate of 4 Mbps."
  },
  {
    "text": "Using the waveform of Figure 3.4c, the bandwidth of the sig-\nThus, a given bandwidth can sup-\nport various data rates depending on the ability of the receiver to discern the\ndifference between 0 and 1 in the presence of noise and other impairments."
  },
  {
    "text": "To summarize,\n• Case III:\nWe can draw the following conclusions from the preceding discussion.In general,\nany digital waveform will have infinite bandwidth. If we attempt to transmit this wave-\nform as a signal over any medium,the transmission system will limit the bandwidth that\ncan be transmitted."
  },
  {
    "text": "Furthermore, for any given medium, the greater the bandwidth\ntransmitted,the greater the cost.Thus,on the one hand,economic and practical reasons\ndictate that digital information be approximated by a signal of limited bandwidth. On\nthe other hand, limiting the bandwidth creates distortions, which makes the task of\ninterpreting the received signal more difficult."
  },
  {
    "text": "The more limited the bandwidth, the\ngreater the distortion, and the greater the potential for error by the receiver. One more illustration should serve to reinforce these concepts. Figure 3.8\nshows a digital bit stream with a data rate of 2000 bits per second.With a bandwidth\nof 2500 Hz, or even 1700 Hz, the representation is quite good. Furthermore, we can\ngeneralize these results."
  },
  {
    "text": "If the data rate of the digital signal is W bps, then a very\nBandwidth = 4 MHz; data rate = 4 Mbps\nBandwidth = 8 MHz; data rate = 4 Mbps\nBandwidth = 4 MHz; data rate = 2 Mbps\n13 * 2 * 1062 - 12 * 1062 = 4 MHz. T = 1/f = 0.5 ms,\nT = 1/f = 0.5 ms. 15 * 2 * 1062 - 12 * 1062 = 8 MHz. 2 * 106 = 2 Mbps. T = 1/106 = 10-6 = 1 ms. 15 * 1062 - 106 = 4 MHz."
  },
  {
    "text": "csin112p * 1062t2 + 1\n3 sin112p * 3 * 1062t2 + 1\n5 sin112p * 5 * 1062t2d\nf = 106 cycles/second = 1 MHz,\n3.1 / CONCEPTS AND TERMINOLOGY\nPulses before transmission:\nPulses after transmission:\nBit rate."
  },
  {
    "text": "2000 bits per second\nBandwidth 500 Hz\nBandwidth 900 Hz\nBandwidth 1300 Hz\nBandwidth 1700 Hz\nBandwidth 2500 Hz\nBandwidth 4000 Hz\nEffect of Bandwidth on a Digital Signal\ngood representation can be achieved with a bandwidth of 2W Hz. However, unless\nnoise is very severe, the bit pattern can be recovered with less bandwidth than this\n(see the discussion of channel capacity in Section 3.4)."
  },
  {
    "text": "Thus, there is a direct relationship between data rate and bandwidth: The\nhigher the data rate of a signal, the greater is its required effective bandwidth. Looked at the other way, the greater the bandwidth of a transmission system, the\nhigher is the data rate that can be transmitted over that system."
  },
  {
    "text": "Another observation worth making is this: If we think of the bandwidth of a\nsignal as being centered about some frequency, referred to as the center frequency,\nthen the higher the center frequency, the higher the potential bandwidth and there-\nfore the higher the potential data rate. For example, if a signal is centered at 2 MHz,\nits maximum potential bandwidth is 4 MHz."
  },
  {
    "text": "CHAPTER 3 / DATA TRANSMISSION\n(c) Odd and even fields\n(a) Even field only\n(b) Odd field only\nFigure 3.10\nVideo Interlaced Scanning\n7IRA is defined in ITU-T Recommendation T.50 and was formerly known as International Alphabet\nNumber 5 (IA5). The U.S."
  },
  {
    "text": "national version of IRA is referred to as the American Standard Code for\nCHAPTER 3 / DATA TRANSMISSION\nIn the case of acoustic data (voice), the data can be represented directly by an\nelectromagnetic signal occupying the same spectrum."
  },
  {
    "text": "However, there is a need to\ncompromise between the fidelity of the sound as transmitted electrically and the\ncost of transmission, which increases with increasing bandwidth."
  },
  {
    "text": "As mentioned, the\nspectrum of speech is approximately 100 Hz to 7 kHz, although a much narrower\nbandwidth will produce acceptable voice reproduction.The standard spectrum for a\nvoice channel is 300 to 3400 Hz.This is adequate for speech transmission, minimizes\nrequired transmission capacity, and allows the use of rather inexpensive telephone\nsets."
  },
  {
    "text": "The telephone transmitter converts the incoming acoustic voice signal into an\nelectromagnetic signal over the range 300 to 3400 Hz.This signal is then transmitted\nthrough the telephone system to a receiver, which reproduces it as acoustic sound. Now let us look at the video signal. To produce a video signal, a TV camera,\nwhich performs similar functions to the TV receiver, is used."
  },
  {
    "text": "One component of the\ncamera is a photosensitive plate, upon which a scene is optically focused. An elec-\ntron beam sweeps across the plate from left to right and top to bottom, in the same\nfashion as depicted in Figure 3.10 for the receiver."
  },
  {
    "text": "As the beam sweeps, an analog\nelectric signal is developed proportional to the brightness of the scene at a particu-\nlar spot.We mentioned that a total of 483 lines are scanned at a rate of 30 complete\nscans per second. This is an approximate number taking into account the time lost\nduring the vertical retrace interval.The actual U.S."
  },
  {
    "text": "standard is 525 lines, but of these\nabout 42 are lost during vertical retrace. Thus the horizontal scanning frequency\nlines per second, or \nare allowed for horizontal retrace, leaving a total of \nper video line. Now we are in a position to estimate the bandwidth required for the video signal. To do this we must estimate the upper (maximum) and lower (minimum) frequency of\nthe band."
  },
  {
    "text": "We use the following reasoning to arrive at the maximum frequency: The\nmaximum frequency would occur during the horizontal scan if the scene were alternat-\ning between black and white as rapidly as possible. We can estimate this maximum\nvalue by considering the resolution of the video image. In the vertical dimension, there\nare 483 lines, so the maximum vertical resolution would be 483."
  },
  {
    "text": "Experiments have\nshown that the actual subjective resolution is about 70% of that number, or about 338\nlines.In the interest of a balanced picture,the horizontal and vertical resolutions should\nbe about the same. Because the ratio of width to height of a TV screen is 4 : 3, the hori-\nzontal resolution should be about \nlines."
  },
  {
    "text": "As a worst case, a scanning\nline would be made up of 450 elements alternating black and white. The scan would\nresult in a wave, with each cycle of the wave consisting of one higher (black) and one\nlower (white) voltage level. Thus there would be \ncycles of the wave in\nfor a maximum frequency of about 4.2 MHz."
  },
  {
    "text": "This rough reasoning, in fact, is\nfairly accurate.The lower limit is a dc or zero frequency, where the dc component cor-\nresponds to the average illumination of the scene (the average value by which the\nbrightness exceeds the reference black level).Thus the bandwidth of the video signal is\napproximately\nThe foregoing discussion did not consider color or audio components of the\nsignal."
  },
  {
    "text": "It turns out that, with these included, the bandwidth remains about 4 MHz. Finally, the third example described is the general case of binary data. Binary\ndata is generated by terminals, computers, and other data processing equipment\n4 MHz - 0 = 4 MHz. 450/2 = 225\n4/3 * 338 = 450\n63.5 ms/line."
  },
  {
    "text": "1525 lines2 * 130 scan/s2 = 15,750\n3.2 / ANALOG AND DIGITAL DATA TRANSMISSION\nUser input at a PC is converted into a stream of binary\ndigits (1s and 0s). In this graph of a typical digital signal,\nbinary one is represented by \u00035 volts and binary zero is\nrepresented by \u00045 volts. The signal for each bit has a duration\nof 0.02 ms, giving a data rate of 50,000 bits per second (50 kbps)."
  },
  {
    "text": "Figure 3.13\nConversion of PC Input to Digital Signal\nand then converted into digital voltage pulses for transmission, as illustrated in \nFigure 3.13. A commonly used signal for such data uses two constant (dc) voltage\nlevels, one level for binary 1 and one level for binary 0."
  },
  {
    "text": "(In Chapter 5, we shall see\nthat this is but one alternative, referred to as NRZ.) Again, we are interested in\nthe bandwidth of such a signal. This will depend, in any specific case, on the exact\nshape of the waveform and the sequence of 1s and 0s. We can obtain some under-\nstanding by considering Figure 3.8 (compare Figure 3.7)."
  },
  {
    "text": "As can be seen, the\ngreater the bandwidth of the signal, the more faithfully it approximates a digital\npulse stream. Data and Signals In the foregoing discussion, we have looked at analog signals\nused to represent analog data and digital signals used to represent digital data."
  },
  {
    "text": "Gen-\nerally, analog data are a function of time and occupy a limited frequency spectrum;\nsuch data can be represented by an electromagnetic signal occupying the same spec-\ntrum. Digital data can be represented by digital signals, with a different voltage level\nfor each of the two binary digits. As Figure 3.14 illustrates, these are not the only possibilities."
  },
  {
    "text": "Digital data can\nalso be represented by analog signals by use of a modem (modulator/demodulator). The modem converts a series of binary (two-valued) voltage pulses into an analog\nsignal by encoding the digital data onto a carrier frequency. The resulting signal\noccupies a certain spectrum of frequency centered about the carrier and may be\npropagated across a medium suitable for that carrier."
  },
  {
    "text": "The most common modems\nrepresent digital data in the voice spectrum and hence allow those data to be prop-\nagated over ordinary voice-grade telephone lines. At the other end of the line,\nanother modem demodulates the signal to recover the original data. In an operation very similar to that performed by a modem, analog data can\nbe represented by digital signals."
  },
  {
    "text": "The device that performs this function for voice\ndata is a codec (coder-decoder). In essence, the codec takes an analog signal that\ndirectly represents the voice data and approximates that signal by a bit stream. At\nthe receiving end, the bit stream is used to reconstruct the analog data."
  },
  {
    "text": "Thus, Figure 3.14 suggests that data may be encoded into signals in a variety of\nways.We will return to this topic in Chapter 5."
  },
  {
    "text": "CHAPTER 3 / DATA TRANSMISSION\nAnalog signals: Represent data with continuously\nvarying electromagnetic wave\nAnalog data\n(voice sound waves)\nAnalog signal\nDigital data\n(binary voltage pulses)\nAnalog signal\n(modulated on\ncarrier frequency)\nDigital signals: Represent data with sequence\nof voltage pulses\nAnalog signal\nDigital signal\nDigital data\nDigital signal\ntransceiver\nFigure 3.14\nAnalog and Digital Signaling of Analog and Digital Data\nAnalog and Digital Transmission\nBoth analog and digital signals may be transmitted on suitable transmission\nmedia.The way these signals are treated is a function of the transmission system."
  },
  {
    "text": "Table 3.1 summarizes the methods of data transmission. Analog transmission is\na means of transmitting analog signals without regard to their content; the sig-\nnals may represent analog data (e.g., voice) or digital data (e.g., binary data that\npass through a modem). In either case, the analog signal will become weaker\n(attenuate) after a certain distance."
  },
  {
    "text": "To achieve longer distances, the analog\ntransmission system includes amplifiers that boost the energy in the signal. Unfortunately, the amplifier also boosts the noise components. With amplifiers\ncascaded to achieve long distances, the signal becomes more and more distorted."
  },
  {
    "text": "3.2 / ANALOG AND DIGITAL DATA TRANSMISSION\nAnalog and Digital Transmission\n(a) Data and Signals\nAnalog Signal\nDigital Signal\nAnalog Data\nTwo alternatives: (1) signal \nAnalog data are encoded using a codec to produce\noccupies the same spectrum as the \na digital bit stream. analog data; (2) analog data are \nencoded to occupy a different \nportion of spectrum."
  },
  {
    "text": "Digital Data\nDigital data are encoded using a \nTwo alternatives: (1) signal consists of two voltage\nmodem to produce analog signal. levels to represent the two binary values; (2) \ndigital data are encoded to produce a digital signal\nwith desir ed properties."
  },
  {
    "text": "(b) Treatment of Signals\nAnalog Transmission\nDigital Transmission\nAnalog Signal\nIs propagated through amplifiers;\nAssumes that the analog signal represents digital\nsame treatment whether signal is \ndata. Signal is propagated through repeaters;\nused to represent analog data or \nat each repeater, digital data are recovered from\ndigital data."
  },
  {
    "text": "inbound signal and used to generate a new analog \noutbound signal. Digital Signal\nDigital signal represents a stream of 1s and 0s,\nwhich may represent digital data or may be an \nencoding of analog data. Signal is propagated \nthrough repeaters; at each repeater, stream of 1s \nand 0s is recovered from inbound signal and used \nto generate a new digital outbound signal."
  },
  {
    "text": "For analog data, such as voice, quite a bit of distortion can be tolerated and the\ndata remain intelligible. However, for digital data, cascaded amplifiers will intro-\nduce errors. Digital transmission, in contrast, assumes a binary content to the signal. A\ndigital signal can be transmitted only a limited distance before attenuation,\nnoise, and other impairments endanger the integrity of the data."
  },
  {
    "text": "To achieve\ngreater distances, repeaters are used. A repeater receives the digital signal,\nrecovers the pattern of 1s and 0s, and retransmits a new signal. Thus the attenua-\ntion is overcome. The same technique may be used with an analog signal if it is assumed that the\nsignal carries digital data."
  },
  {
    "text": "At appropriately spaced points, the transmission system\nhas repeaters rather than amplifiers.The repeater recovers the digital data from the\nanalog signal and generates a new, clean analog signal.Thus noise is not cumulative. The question naturally arises as to which is the preferred method of transmis-\nsion."
  },
  {
    "text": "Both long-haul telecommunications facilities and intrabuilding\nservices have moved to digital transmission and, where possible, digital signaling\ntechniques.The most important reasons are as follows:\nCHAPTER 3 / DATA TRANSMISSION\n• Digital technology: The advent of large-scale integration (LSI) and very-large-\nscale integration (VLSI) technology has caused a continuing drop in the cost\nand size of digital circuitry."
  },
  {
    "text": "Analog equipment has not shown a similar drop. • Data integrity: With the use of repeaters rather than amplifiers, the effects of\nnoise and other signal impairments are not cumulative. Thus it is possible to\ntransmit data longer distances and over lower quality lines by digital means\nwhile maintaining the integrity of the data."
  },
  {
    "text": "• Capacity utilization: It has become economical to build transmission links of\nvery high bandwidth, including satellite channels and optical fiber. A high\ndegree of multiplexing is needed to utilize such capacity effectively, and this is\nmore easily and cheaply achieved with digital (time division) rather than ana-\nlog (frequency division) techniques.This is explored in Chapter 8."
  },
  {
    "text": "• Security and privacy: Encryption techniques can be readily applied to digital\ndata and to analog data that have been digitized. • Integration: By treating both analog and digital data digitally, all signals have\nthe same form and can be treated similarly. Thus economies of scale and con-\nvenience can be achieved by integrating voice, video, and digital data."
  },
  {
    "text": "With any communications system, the signal that is received may differ from the sig-\nnal that is transmitted due to various transmission impairments. For analog signals,\nthese impairments can degrade the signal quality. For digital signals, bit errors may\nbe introduced, such that a binary 1 is transformed into a binary 0 or vice versa."
  },
  {
    "text": "In this section, we examine the various impairments and how they may affect the\ninformation-carrying capacity of a communication link; Chapter 5 looks at measures\nthat can be taken to compensate for these impairments."
  },
  {
    "text": "The most significant impairments are\n• Attenuation and attenuation distortion\n• Delay distortion\nAttenuation\nThe strength of a signal falls off with distance over any transmission medium. For\nguided media, this reduction in strength, or attenuation, is generally exponential and\nthus is typically expressed as a constant number of decibels per unit distance."
  },
  {
    "text": "For\nunguided media, attenuation is a more complex function of distance and the\nmakeup of the atmosphere. Attenuation introduces three considerations for the\ntransmission engineer. First, a received signal must have sufficient strength so that\nthe electronic circuitry in the receiver can detect the signal."
  },
  {
    "text": "For a point-to-point link, the signal strength of the\n3.3 / TRANSMISSION IMPAIRMENTS\n8In the remainder of this book, unless otherwise indicated, we use log(x) to mean log101x2. transmitter must be strong enough to be received intelligibly, but not so strong as to\noverload the circuitry of the transmitter or receiver, which would cause distortion."
  },
  {
    "text": "Because the\nattenuation varies as a function of frequency, the received signal is distorted, reduc-\ning intelligibility. To overcome this problem, techniques are available for equalizing\nattenuation across a band of frequencies."
  },
  {
    "text": "This is commonly done for voice-grade\ntelephone lines by using loading coils that change the electrical properties of the\nline; the result is to smooth out attenuation effects. Another approach is to use\namplifiers that amplify high frequencies more than lower frequencies. An example is provided in Figure 3.15a, which shows attenuation as a function\nof frequency for a typical leased line."
  },
  {
    "text": "In the figure, attenuation is measured relative\nto the attenuation at 1000 Hz. Positive values on the y-axis represent attenuation\ngreater than that at 1000 Hz.A 1000-Hz tone of a given power level is applied to the\ninput, and the power,\nis measured at the output."
  },
  {
    "text": "For any other frequency f, the\nprocedure is repeated and the relative attenuation in decibels is8\nThe solid line in Figure 3.15a shows attenuation without equalization. As can\nbe seen, frequency components at the upper end of the voice band are attenuated\nmuch more than those at lower frequencies."
  },
  {
    "text": "It should be clear that this will result in\na distortion of the received speech signal.The dashed line shows the effect of equal-\nization. The flattened response curve improves the quality of voice signals. It also\nallows higher data rates to be used for digital data that are passed through a modem. Attenuation distortion can present less of a problem with digital signals."
  },
  {
    "text": "As\nwe have seen, the strength of a digital signal falls off rapidly with frequency \n(Figure 3.5b); most of the content is concentrated near the fundamental frequency\nor bit rate of the signal. Delay Distortion\nDelay distortion occurs because the velocity of propagation of a signal through a\nguided medium varies with frequency."
  },
  {
    "text": "For a bandlimited signal, the velocity tends to\nbe highest near the center frequency and fall off toward the two edges of the band. Thus various frequency components of a signal will arrive at the receiver at different\ntimes, resulting in phase shifts between the different frequencies."
  },
  {
    "text": "This effect is referred to as delay distortion because the received signal is\ndistorted due to varying delays experienced at its constituent frequencies. Delay dis-\ntortion is particularly critical for digital data. Consider that a sequence of bits is\nbeing transmitted, using either analog or digital signals."
  },
  {
    "text": "Because of delay distortion,\nsome of the signal components of one bit position will spill over into other bit posi-\ntions, causing intersymbol interference, which is a major limitation to maximum bit\nrate over a transmission channel."
  },
  {
    "text": "Nf = -10 log10\nCHAPTER 3 / DATA TRANSMISSION\nFrequency (Hertz)\n(b) Delay distortion\nRelative envelope delay (microseconds)\nFrequency (Hertz)\n(a) Attenuation\nAttenuation (decibels) relative\nto attenuation at 1000 Hz\nequalization\nequalization\nequalization\nequalization\nFigure 3.15\nAttenuation and Delay Distortion Curves for \na Voice Channel\n3.3 / TRANSMISSION IMPAIRMENTS\n9A Joule (J) is the International System (SI) unit of electrical, mechanical, and thermal energy.A Watt is the\nSI unit of power,equal to one Joule per second.The kelvin (K) is the SI unit of thermodynamic temperature."
  },
  {
    "text": "For a temperature in kelvins of T, the corresponding temperature in degrees Celsius is equal to T - 273.15. Equalizing techniques can also be used for delay distortion. Again using a\nleased telephone line as an example, Figure 3.15b shows the effect of equalization\non delay as a function of frequency."
  },
  {
    "text": "For any data transmission event, the received signal will consist of the transmitted\nsignal, modified by the various distortions imposed by the transmission system, plus\nadditional unwanted signals that are inserted somewhere between transmission and\nreception. The latter, undesired signals are referred to as noise. Noise is the major\nlimiting factor in communications system performance."
  },
  {
    "text": "Noise may be divided into four categories:\n• Thermal noise\n• Intermodulation noise\n• Crosstalk\n• Impulse noise\nThermal noise is due to thermal agitation of electrons. It is present in all elec-\ntronic devices and transmission media and is a function of temperature."
  },
  {
    "text": "Thermal\nnoise is uniformly distributed across the bandwidths typically used in communica-\ntions systems and hence is often referred to as white noise. Thermal noise cannot be\neliminated and therefore places an upper bound on communications system perfor-\nmance."
  },
  {
    "text": "Because of the weakness of the signal received by satellite earth stations,\nthermal noise is particularly significant for satellite communication."
  },
  {
    "text": "The amount of thermal noise to be found in a bandwidth of 1 Hz in any device\nor conductor is\n, where the \nsymbol K is used to represent 1 kelvin\nT = temperature, in kelvins 1absolute temperature2\n k = Boltzmann’s constant = 1.38 * 10-23 J/K\nN0 = noise power density in watts per 1 Hz of bandwidth\nN0 = kT1W/Hz2\nEXAMPLE 3.1 Room temperature is usually specified as \nAt this temperature, the thermal noise power density is\nCHAPTER 3 / DATA TRANSMISSION\nThe noise is assumed to be independent of frequency."
  },
  {
    "text": "Thus the thermal noise\nin watts present in a bandwidth of B Hertz can be expressed as\nor, in decibel-watts,\n= -228.6 dBW + 10 log T + 10 log B\nN = 10 log k + 10 log T + 10 log B\nEXAMPLE 3.2 Given a receiver with an effective noise temperature of 294 K\nand a 10-MHz bandwidth, the thermal noise level at the receiver’s output is\n= -133.9 dBW\n= -228.6 + 24.7 + 70\nN = -228.6 dBW + 10 log12942 + 10 log 107\nWhen signals at different frequencies share the same transmission medium,\nthe result may be intermodulation noise."
  },
  {
    "text": "The effect of intermodulation noise is to\nproduce signals at a frequency that is the sum or difference of the two original\nfrequencies or multiples of those frequencies."
  },
  {
    "text": "For example, the mixing of signals at\nfrequencies \nmight produce energy at the frequency \nThis derived\nsignal could interfere with an intended signal at the frequency \nIntermodulation noise is produced by nonlinearities in the transmitter, receiver,\nand/or intervening transmission medium."
  },
  {
    "text": "Ideally, these components behave as linear\nsystems; that is, the output is equal to the input times a constant. However, in any real\nsystem, the output is a more complex function of the input. Excessive nonlinearity can\nbe caused by component malfunction or overload from excessive signal strength. It is\nunder these circumstances that the sum and difference frequency terms occur."
  },
  {
    "text": "Crosstalk has been experienced by anyone who, while using the telephone, has\nbeen able to hear another conversation; it is an unwanted coupling between signal\npaths. It can occur by electrical coupling between nearby twisted pairs or, rarely,\ncoax cable lines carrying multiple signals."
  },
  {
    "text": "Crosstalk can also occur when microwave\nantennas pick up unwanted signals; although highly directional antennas are used,\nmicrowave energy does spread during propagation. Typically, crosstalk is of the\nsame order of magnitude as, or less than, thermal noise."
  },
  {
    "text": "All of the types of noise discussed so far have reasonably predictable and rel-\natively constant magnitudes.Thus it is possible to engineer a transmission system to\ncope with them. Impulse noise, however, is noncontinuous, consisting of irregular\npulses or noise spikes of short duration and of relatively high amplitude."
  },
  {
    "text": "It is gener-\nated from a variety of causes, including external electromagnetic disturbances, such\nas lightning, and faults and flaws in the communications system. Impulse noise is generally only a minor annoyance for analog data. For exam-\nple, voice transmission may be corrupted by short clicks and crackles with no loss of\nintelligibility."
  },
  {
    "text": "However, impulse noise is the primary source of error in digital data\n3.4 / CHANNEL CAPACITY\ntransmitted:\nSignal plus\nData received:\nOriginal data:\nBits in error\nFigure 3.16\nEffect of Noise on a Digital Signal\ncommunication. For example, a sharp spike of energy of 0.01 s duration would not\ndestroy any voice data but would wash out about 560 bits of digital data being trans-\nmitted at 56 kbps."
  },
  {
    "text": "Figure 3.16 is an example of the effect of noise on a digital signal. Here the noise consists of a relatively modest level of thermal noise plus occasional\nspikes of impulse noise. The digital data can be recovered from the signal by sam-\npling the received waveform once per bit time.As can be seen, the noise is occasion-\nally sufficient to change a 1 to a 0 or a 0 to a 1."
  },
  {
    "text": "We have seen that there are a variety of impairments that distort or corrupt a signal. For digital data, the question that then arises is to what extent these impairments\nlimit the data rate that can be achieved. The maximum rate at which data can be\ntransmitted over a given communication path, or channel, under given conditions, is\nreferred to as the channel capacity."
  },
  {
    "text": "• Data rate: The rate, in bits per second (bps), at which data can be com-\nCHAPTER 3 / DATA TRANSMISSION\n• Bandwidth: The bandwidth of the transmitted signal as constrained by the\ntransmitter and the nature of the transmission medium, expressed in cycles per\nsecond, or Hertz\n• Noise: The average level of noise over the communications path\n• Error rate: The rate at which errors occur, where an error is the reception of a\n1 when a 0 was transmitted or the reception of a 0 when a 1 was transmitted\nThe problem we are addressing is this: Communications facilities are\nexpensive and, in general, the greater the bandwidth of a facility, the greater the\ncost."
  },
  {
    "text": "Furthermore, all transmission channels of any practical interest are of\nlimited bandwidth. The limitations arise from the physical properties of the\ntransmission medium or from deliberate limitations at the transmitter on the\nbandwidth to prevent interference from other sources. Accordingly, we would\nlike to make as efficient use as possible of a given bandwidth."
  },
  {
    "text": "For digital data,\nthis means that we would like to get as high a data rate as possible at a particu-\nlar limit of error rate for a given bandwidth. The main constraint on achieving\nthis efficiency is noise. Nyquist Bandwidth\nTo begin, let us consider the case of a channel that is noise free. In this environ-\nment, the limitation on data rate is simply the bandwidth of the signal."
  },
  {
    "text": "A formu-\nlation of this limitation, due to Nyquist, states that if the rate of signal\ntransmission is 2B, then a signal with frequencies no greater than B is sufficient\nto carry the signal rate. The converse is also true: Given a bandwidth of B, the\nhighest signal rate that can be carried is 2B."
  },
  {
    "text": "This limitation is due to the effect of\nintersymbol interference, such as is produced by delay distortion. The result is\nuseful in the development of digital-to-analog encoding schemes and is, in\nessence, based on the same derivation as that of the sampling theorem, described\nported by B Hz is 2B bps."
  },
  {
    "text": "However, as we shall see in Chapter 5, signals with more\nthan two levels can be used; that is, each signal element can represent more than one\nbit. For example, if four possible voltage levels are used as signals, then each signal\nelement can represent two bits. With multilevel signaling, the Nyquist formulation\nwhere M is the number of discrete signal or voltage levels."
  },
  {
    "text": "So, for a given bandwidth, the data rate can be increased by increasing the\nnumber of different signal elements. However, this places an increased burden\non the receiver: Instead of distinguishing one of two possible signal elements\nduring each signal time, it must distinguish one of M possible signal elements."
  },
  {
    "text": "Noise and other impairments on the transmission line will limit the practical\nvalue of M. C = 2B log2M\n3.4 / CHANNEL CAPACITY\n10Some of the literature uses SNR; others use S/N. Also, in some cases the dimensionless quantity is\nreferred to as SNR or S/N and the quantity in decibels is referred to as \nOthers use just\nSNR or S/N to mean the dB quantity.This text uses SNR and SNRdb."
  },
  {
    "text": "Shannon Capacity Formula\nNyquist’s formula indicates that, all other things being equal, doubling the band-\nwidth doubles the data rate. Now consider the relationship among data rate, noise,\nand error rate.The presence of noise can corrupt one or more bits. If the data rate is\nincreased, then the bits become “shorter” so that more bits are affected by a given\npattern of noise."
  },
  {
    "text": "Figure 3.16 illustrates this relationship. If the data rate is increased, then more\nbits will occur during the interval of a noise spike, and hence more errors will occur. All of these concepts can be tied together neatly in a formula developed by the\nmathematician Claude Shannon.As we have just illustrated, the higher the data rate,\nthe more damage that unwanted noise can do."
  },
  {
    "text": "For a given level of noise, we would\nexpect that a greater signal strength would improve the ability to receive data cor-\nrectly in the presence of noise. The key parameter involved in this reasoning is the\nsignal-to-noise ratio (SNR, or S/N),10 which is the ratio of the power in a signal to the\npower contained in the noise that is present at a particular point in the transmission."
  },
  {
    "text": "Typically, this ratio is measured at a receiver, because it is at this point that an attempt\nis made to process the signal and recover the data. For convenience, this ratio is often\nreported in decibels:\nThis expresses the amount, in decibels, that the intended signal exceeds the noise\nlevel. A high SNR will mean a high-quality signal and a low number of required\nintermediate repeaters."
  },
  {
    "text": "The signal-to-noise ratio is important in the transmission of digital data\nbecause it sets the upper bound on the achievable data rate. Shannon’s result is that\nthe maximum channel capacity, in bits per second, obeys the equation\nwhere C is the capacity of the channel in bits per second and B is the bandwidth of\nthe channel in Hertz."
  },
  {
    "text": "The Shannon formula represents the theoretical maximum\nthat can be achieved. In practice, however, only much lower rates are achieved. One\nreason for this is that the formula assumes white noise (thermal noise). Impulse\nnoise is not accounted for, nor are attenuation distortion or delay distortion."
  },
  {
    "text": "Even in\nC = B log211 + SNR2\nSNRdB = 10 log10\nsignal power\nnoise power\nEXAMPLE 3.3 Consider a voice channel being used, via modem, to transmit\ndigital data.Assume a bandwidth of 3100 Hz.Then the Nyquist capacity, C, of the\na value used with some modems, C\nbecomes 18,600 bps for a bandwidth of 3100 Hz. 2B = 6200 bps."
  },
  {
    "text": "CHAPTER 3 / DATA TRANSMISSION\nan ideal white noise environment, present technology still cannot achieve Shannon\ncapacity due to encoding issues, such as coding length and complexity. The capacity indicated in the preceding equation is referred to as the error-free\ncapacity."
  },
  {
    "text": "Shannon proved that if the actual information rate on a channel is less than\nthe error-free capacity, then it is theoretically possible to use a suitable signal code to\nachieve error-free transmission through the channel."
  },
  {
    "text": "Shannon’s theorem unfortu-\nnately does not suggest a means for finding such codes,but it does provide a yardstick\nby which the performance of practical communication schemes may be measured. Several other observations concerning the preceding equation may be instructive."
  },
  {
    "text": "For a given level of noise, it would appear that the data rate could be increased by\nincreasing either signal strength or bandwidth.However,as the signal strength increases,\nso do the effects of nonlinearities in the system, leading to an increase in intermodula-\ntion noise."
  },
  {
    "text": "Note also that, because noise is assumed to be white, the wider the band-\nwidth, the more noise is admitted to the system.Thus, as B increases, SNR decreases. EXAMPLE 3.4 Let us consider an example that relates the Nyquist and Shan-\nnon formulations."
  },
  {
    "text": "Suppose that the spectrum of a channel is between 3 MHz and \nUsing Shannon’s formula,\nThis is a theoretical limit and, as we have said, is unlikely to be reached. But\nassume we can achieve the limit. Based on Nyquist’s formula, how many signal-\ning levels are required?"
  },
  {
    "text": "We have\n 8 * 106 = 2 * 11062 * log2 M\nC = 2B log2 M\nC = 106 * log211 + 2512 L 106 * 8 = 8 Mbps\n SNRdB = 24 dB = 10 log101SNR2\nB = 4 MHz - 3 MHz = 1 MHz\nSNRdB = 24 dB. The Expression \nFinally,we mention a parameter related to SNR that is more convenient for determining\ndigital data rates and error rates and that is the standard quality measure for digital com-\nmunication system performance."
  },
  {
    "text": "The parameter is the ratio of signal energy per bit to\nnoise power density per Hertz,\nConsider a signal, digital or analog, that contains\nbinary digital data transmitted at a certain bit rate R."
  },
  {
    "text": "Recalling that \nenergy per bit in a signal is given by \nwhere S is the signal power and \ntime required to send one bit.The data rate R is just \n1 Watt = 1 J/s,\n3.4 / CHANNEL CAPACITY\nor, in decibel notation,\nis important because the bit error rate for digital data is a (decreas-\ning) function of this ratio."
  },
  {
    "text": "Given a value of \nneeded to achieve a desired error\nrate, the parameters in the preceding formula may be selected. Note that as the bit\nrate R increases, the transmitted signal power, relative to noise, must increase to\nmaintain the required \nLet us try to grasp this result intuitively by considering again Figure 3.16."
  },
  {
    "text": "The\nsignal here is digital, but the reasoning would be the same for an analog signal. In\nseveral instances, the noise is sufficient to alter the value of a bit. If the data rate\nwere doubled, the bits would be more tightly packed together, and the same passage\nof noise might destroy two bits.Thus, for constant signal to noise ratio, an increase in\ndata rate increases the error rate."
  },
  {
    "text": "The advantage of \nover SNR is that the latter quantity depends on the\n= SdBW - 10 log R + 228.6 dBW - 10 log T\n= SdBW - 10 log R - 10 log k - 10 log T\nEXAMPLE 3.5 For binary phase-shift keying (defined in Chapter 5),\nis required for a bit error rate of \n(one bit error out of every 10,000)."
  },
  {
    "text": "If\nthe effective noise temperature is 290°K (room temperature) and the data rate is\n2400 bps, what received signal level is required? S = -161.8 dBW\n= S1dBW2 - 110213.382 + 228.6 - 110212.462\n 8.4 = S1dBW2 - 10 log 2400 + 228.6 dBW - 10 log 290\nWe can relate \nto SNR as follows.We have\nThe parameter \nis the noise power density in Watts/Hertz."
  },
  {
    "text": "Hence, the noise in a\nsignal with bandwidth B is \nSubstituting, we have\nAnother formulation of interest relates \nto spectral efficiency. Shannon’s\nresult (Equation 3.1) can be rewritten as:\nCHAPTER 3 / DATA TRANSMISSION\nUsing Equation (3.2), and equating R with C, we have\nThis is a useful formula that relates the achievable spectral efficiency C/B to Eb/N0."
  },
  {
    "text": "C 12C>B - 12\nN = 2C>B - 1\nabsolute bandwidth\nanalog data\nanalog signal\nanalog transmission\nattenuation\nattenuation distortion\ncenter frequency\nchannel capacity\ndc component\ndecibel (dB)\ndelay distortion\ndigital data\ndigital signal\nEXAMPLE 3.6 Suppose we want to find the minimum \nrequired to\nachieve a spectral efficiency of 6 bps/Hz.Then \nEb/N0 = 11/62126 - 12 = 10.5 = 10.21 dB."
  },
  {
    "text": "Differentiate between an analog and a digital electromagnetic signal. What are three important characteristics of a periodic signal? How many radians are there in a complete circle of 360 degrees? What is the relationship between the wavelength and frequency of a sine wave? Define fundamental frequency. What is the relationship between a signal’s spectrum and its bandwidth? What is attenuation?"
  },
  {
    "text": "Define channel capacity. What key factors affect channel capacity? For multipoint configuration, only one device at a time can transmit.Why? b. There are two methods of enforcing the rule that only one device can transmit. In\nthe centralized method, one station is in control and can either transmit or allow a\nspecified other station to transmit."
  },
  {
    "text": "In the decentralized method, the stations\njointly cooperate in taking turns. What do you see as the advantages and disad-\nvantages of the two methods? A signal has a fundamental frequency of 1000 Hz.What is its period? Express the following in the simplest form you can:\nSound may be modeled as sinusoidal functions. Compare the relative frequency and\nwavelength of musical notes."
  },
  {
    "text": "Use 330 m/s as the speed of sound and the following\nfrequencies for the musical scale. If the solid curve in Figure 3.17 represents \nwhat does the dotted curve\nrepresent? That is, the dotted curve can be written in the form A\nare A, f, and\nDecompose the signal \ninto a linear combination of sinu-\nsoidal functions, and find the amplitude, frequency, and phase of each component."
  },
  {
    "text": "11 + 0.1 cos 5t2cos 100t\nsin12pft + f2;\nsin 2pft + sin12pft - p2\nsin12pft - p2 + sin12pft + p2\ndigital transmission\ndirect link\neffective bandwidth\nfrequency domain\nfull duplex\nfundamental frequency\nguided media\nhalf duplex\nimpulse noise\ninterlacing\nintermodulation noise\nmultipoint link\nNyquist bandwidth\npeak amplitude\nperiodic signal\npoint-to-point link\nsignal-to-noise ratio (SNR)\nthermal noise\ntime domain\ntransmission\nunguided media\nCHAPTER 3 / DATA TRANSMISSION\nFind the period of the function \nConsider two periodic functions \nwith periods \nrespectively."
  },
  {
    "text": "Is it always the case that the function \nis periodic? If so, demon-\nstrate this fact. If not, under what conditions is f(t) periodic? Figure 3.4 shows the effect of eliminating higher-harmonic components of a square\nwave and retaining only a few lower harmonic components."
  },
  {
    "text": "What would the signal\nlook like in the opposite case; that is, retaining all higher harmonics and eliminating a\nfew lower harmonics? Figure 3.5b shows the frequency domain function for a single square pulse.The single\npulse could represent a digital 1 in a communication system. Note that an infinite\nnumber of higher frequencies of decreasing magnitudes is needed to represent the\nsingle pulse."
  },
  {
    "text": "What implication does that have for a real digital transmission system? IRA is a 7-bit code that allows 128 characters to be defined. In the 1970s, many news-\npapers received stories from the wire services in a 6-bit code called TTS. This code\ncarried upper- and lower case characters as well as many special characters and for-\nmatting commands."
  },
  {
    "text": "The typical TTS character set allowed over 100 characters to be\ndefined. How do you think this could be accomplished? For a video signal, what increase in horizontal resolution is possible if a bandwidth of\n5 MHz is used? What increase in vertical resolution is possible?"
  },
  {
    "text": "Treat the two ques-\ntions separately; that is, the increased bandwidth is to be used to increase either hori-\nzontal or vertical resolution, but not both. Suppose that a digitized TV picture is to be transmitted from a source that uses a\npicture elements (pixels), where each pixel can take on one\nof 32 intensity values. Assume that 30 pictures are sent per second."
  },
  {
    "text": "(This digital\nsource is roughly equivalent to broadcast TV standards that have been adopted.)\nFind the source rate R (bps). b. Assume that the TV picture is to be transmitted over a channel with 4.5-MHz band-\nwidth and a 35-dB signal-to-noise ratio. Find the capacity of the channel (bps)."
  },
  {
    "text": "Discuss how the parameters given in part (a) could be modified to allow transmis-\nsion of color TV signals without increasing the required value for R. Given an amplifier with an effective noise temperature of 10,000 K and a 10-MHz\nbandwidth, what thermal noise level, in dBW, may we expect at its output?"
  },
  {
    "text": "What is the channel capacity for a teleprinter channel with a 300-Hz bandwidth and a\nsignal-to-noise ratio of 3 dB, where the noise is white thermal noise? A digital signaling system is required to operate at 9600 bps. If a signal element encodes a 4-bit word, what is the minimum required bandwidth\nof the channel? b. Repeat part (a) for the case of 8-bit words."
  },
  {
    "text": "f1t2 = f11t2 + f21t2\nf1t2 = 110 cos t22. Figure 3.17\nFigure for Problem 3.5\nCHAPTER 3 / DATA TRANSMISSION\nThe decibel is a measure of the ratio between two signal levels.The decibel gain is given by\nTable 3.2 shows the relationship between decibel values and powers of 10. There is some inconsistency in the literature over the use of the terms gain and loss."
  },
  {
    "text": "If\nthe value of \nis positive, this represents an actual gain in power. For example, a gain of \n3 dB means that the power has doubled. If the value of \nis negative, this represents an\nactual loss in power. For example, a gain of \nmeans that the power has halved, and this\nis a loss of power. Normally, this is expressed by saying there is a loss of 3 dB."
  },
  {
    "text": "However, some\nof the literature would say that this is a loss of \nIt makes more sense to say that a\nnegative gain corresponds to a positive loss.Therefore, we define a decibel loss as\nLdB = -10 log10\n log10 = logarithm to the base 10\nPout = output power level\nPin = input power level\nGdB = gain, in decibels\nGdB = 10 log10\nDecibel Values\nPower Ratio\nPower Ratio\nEXAMPLE 3.7 If a signal with a power level of 10 mW is inserted onto a trans-\nmission line and the measured power some distance away is 5 mW, the loss can be\nexpressed as\nLdB = 10 log110/52 = 1010.32 = 3 dB."
  },
  {
    "text": "Note that the decibel is a measure of relative, not absolute, difference. A loss from 1000 mW\nto 500 mW is also a loss of 3 dB. The decibel is also used to measure the difference in voltage, taking into account that\npower is proportional to the square of the voltage:\nbetween transmitter and receiver."
  },
  {
    "text": "Recall from Chapter 3 that for guided media,\nelectromagnetic waves are guided along a solid medium, such as copper twisted\npair, copper coaxial cable, and optical fiber. For unguided media, wireless trans-\nmission occurs through the atmosphere, outer space, or water."
  },
  {
    "text": "The characteristics and quality of a data transmission are determined both\nby the characteristics of the medium and the characteristics of the signal. In the\ncase of guided media, the medium itself is more important in determining the\nlimitations of transmission."
  },
  {
    "text": "For unguided media,the bandwidth of the signal produced by the transmit-\nting antenna is more important than the medium in determining transmission\ncharacteristics.One key property of signals transmitted by antenna is directional-\nity."
  },
  {
    "text": "In general, signals at lower frequencies are omnidirectional; that is, the signal\npropagates in all directions from the antenna.At higher frequencies, it is possible\nto focus the signal into a directional beam. CHAPTER 4 / TRANSMISSION MEDIA\nIn considering the design of data transmission systems, key concerns are\ndata rate and distance: the greater the data rate and distance the better."
  },
  {
    "text": "A\nnumber of design factors relating to the transmission medium and the signal\ndetermine the data rate and distance:\n• Bandwidth: All other factors remaining constant, the greater the band-\nwidth of a signal, the higher the data rate that can be achieved. • Transmission impairments: Impairments, such as attenuation, limit the dis-\ntance."
  },
  {
    "text": "For guided media, twisted pair generally suffers more impairment\nthan coaxial cable, which in turn suffers more than optical fiber. • Interference: Interference from competing signals in overlapping fre-\nquency bands can distort or wipe out a signal. Interference is of particular\nconcern for unguided media, but is also a problem with guided media."
  },
  {
    "text": "For\nguided media, interference can be caused by emanations from nearby\ncables. For example, twisted pairs are often bundled together and conduits\noften carry multiple cables. Interference can also be experienced from\nunguided transmissions. Proper shielding of a guided medium can mini-\nmize this problem."
  },
  {
    "text": "• Number of receivers: A guided medium can be used to construct a point-\nto-point link or a shared link with multiple attachments. In the latter case,\neach attachment introduces some attenuation and distortion on the line,\nlimiting distance and/or data rate."
  },
  {
    "text": "Figure 4.1 depicts the electromagnetic spectrum and indicates the fre-\nquencies at which various guided media and unguided transmission tech-\nniques operate. In this chapter we examine these guided and unguided\nalternatives. In all cases, we describe the systems physically, briefly discuss\napplications, and summarize key transmission characteristics."
  },
  {
    "text": "For guided transmission media, the transmission capacity, in terms of either data\nrate or bandwidth, depends critically on the distance and on whether the medium is\npoint-to-point or multipoint. Table 4.1 indicates the characteristics typical for the\ncommon guided media for long-distance point-to-point applications; we defer a\ndiscussion of the use of these media for LANs to Part Four."
  },
  {
    "text": "The three guided media commonly used for data transmission are twisted pair,\ncoaxial cable, and optical fiber (Figure 4.2).We examine each of these in turn."
  },
  {
    "text": "Twisted Pair\nThe least expensive and most widely used guided transmission medium is twisted\nPhysical Description A twisted pair consists of two insulated copper wires\narranged in a regular spiral pattern.A wire pair acts as a single communication link."
  },
  {
    "text": "Power and telephone\nRotating generators\nMusical instruments\nVoice microphones\nMicrowave antennas\nRadios and televisions\nElectronic tubes\nIntegrated circuits\nCellular telephony\nELF \u0001 Extremely low frequency\nVF \u0001 Voice frequency\nVLF \u0001 Very low frequency\nLF \u0001 Low frequency\nMF \u0001 Medium frequency\nHF \u0001 High frequency\nVHF \u0001 Very high frequency\nUHF \u0001 Ultra high frequency\nSHF \u0001 Super high frequency\nEHF \u0001 Extremely high frequency\nTwisted pair\nCoaxial cable\nTerrestrial\nand satellite\ntransmission\nGuided missiles\nRangefinders\nElectromagnetic Spectrum for Telecommunications\nCHAPTER 4 / TRANSMISSION MEDIA\nPoint-to-Point Transmission Characteristics of Guided Media [GLOV98]\nFrequency Range\nTypical Attenuation\nTypical Delay\nRepeater Spacing\nTwisted pair (with\n0 to 3.5 kHz\n0.2 dB/km @ 1 kHz\nTwisted pairs  \n0.7 dB/km @ 1 kHz\n(multipair cables)\nCoaxial cable\n0 to 500 MHz\n7 dB/km @ 10 MHz\nOptical fiber\n186 to 370 THz\n0.2 to 0.5 dB/km\nTHz = TeraHertz = 1012 Hz\nOuter sheath\n(b) Coaxial cable\n—Outer conductor is braided shield\n—Inner conductor is solid metal\n—Separated by insulating material\n—Covered by padding\n(c) Optical fiber\nLight at less than\ncritical angle is\nabsorbed in jacket\n—Glass or plastic core\n—Laser or light emitting diode\n—Specially designed jacket\n—Small size and weight\n(a) Twisted pair\n—Separately insulated\n—Twisted together\n—Often \"bundled\" into cables\n—Usually installed in building\n    during construction\nGuided Transmission Media\n4.1 / GUIDED TRANSMISSION MEDIA\nTypically, a number of these pairs are bundled together into a cable by wrapping\nthem in a tough protective sheath."
  },
  {
    "text": "Over longer distances, cables may contain\nhundreds of pairs.The twisting tends to decrease the crosstalk interference between\nadjacent pairs in a cable. Neighboring pairs in a bundle typically have somewhat dif-\nferent twist lengths to reduce the crosstalk interference. On long-distance links, the\ntwist length typically varies from 5 to 15 cm."
  },
  {
    "text": "The wires in a pair have thicknesses of\nfrom 0.4 to 0.9 mm. Applications By far the most common guided transmission medium for both ana-\nlog and digital signals is twisted pair. It is the most commonly used medium in the\ntelephone network and is the workhorse for communications within buildings."
  },
  {
    "text": "In the telephone system, individual residential telephone sets are connected to\nthe local telephone exchange, or “end office,” by twisted-pair wire."
  },
  {
    "text": "These are\nreferred to as subscriber loops.Within an office building, each telephone is also con-\nnected to a twisted pair, which goes to the in-house private branch exchange (PBX)\nsystem or to a Centrex facility at the end office.These twisted-pair installations were\ndesigned to support voice traffic using analog signaling."
  },
  {
    "text": "However, by means of a\nmodem, these facilities can handle digital data traffic at modest data rates. Twisted pair is also the most common medium used for digital signaling. For\nconnections to a digital data switch or digital PBX within a building, a data rate of\n64 kbps is common. Twisted pair is also commonly used within a building for local\narea networks supporting personal computers."
  },
  {
    "text": "Data rates for such products are typ-\nically in the neighborhood of 100 Mbps. However, twisted-pair networks with data\nrates of to 10 Gbps have been developed, although these are quite limited in terms\nof the number of devices and geographic scope of the network. For long-distance\napplications, twisted pair can be used at data rates of 4 Mbps or more."
  },
  {
    "text": "Twisted pair is much less expensive than the other commonly used guided\ntransmission media (coaxial cable, optical fiber) and is easier to work with. Transmission Characteristics Twisted pair may be used to transmit both ana-\nlog and digital transmission. For analog signals, amplifiers are required about every\n5 to 6 km."
  },
  {
    "text": "For digital transmission (using either analog or digital signals), repeaters\nare required every 2 or 3 km. Compared to other commonly used guided transmission media (coaxial\ncable, optical fiber), twisted pair is limited in distance, bandwidth, and data rate.As\nFigure 4.3a shows, the attenuation for twisted pair is a very strong function of fre-\nquency."
  },
  {
    "text": "Other impairments are also severe for twisted pair. The medium is quite\nsusceptible to interference and noise because of its easy coupling with electromag-\nnetic fields. For example, a wire run parallel to an ac power line will pick up 60-Hz\nenergy. Impulse noise also easily intrudes into twisted pair. Several measures are\ntaken to reduce impairments."
  },
  {
    "text": "Shielding the wire with metallic braid or sheathing\nreduces interference. The twisting of the wire reduces low-frequency interference,\nand the use of different twist lengths in adjacent pairs reduces crosstalk. For point-to-point analog signaling, a bandwidth of up to about 1 MHz is pos-\nsible. This accommodates a number of voice channels."
  },
  {
    "text": "For long-distance digital\npoint-to-point signaling, data rates of up to a few Mbps are possible; for very short\ndistances, data rates of up to 10 Gbps have been achieved in commercially available\n(a) Twisted pair (based on [REEV95])\n(b) Coaxial cable (based on [BELL90])\n(c) Optical fiber (based on [FREE02])\n(d) Composite graph\nFrequency (Hz)\nAttenuation (dB/km)\n26-AWG (0.4 mm)\n24-AWG (0.5 mm)\n22-AWG (0.6 mm)\n19-AWG (0.9 mm)\nAttenuation (dB/km)\n1000 1100 1200 1300 1400 1500 1600 1700\nWavelength in vacuum (nm)\ntwisted pair\nAttenuation (dB/km)\nFrequency (Hz)\ntypical optical\nFrequency (Hz)\nAttenuation (dB/km)\nAttenuation of Typical Guided Media\n4.1 / GUIDED TRANSMISSION MEDIA\nUnshielded and Shielded Twisted Pair Twisted pair comes in two varieties:\nunshielded and shielded."
  },
  {
    "text": "Unshielded twisted pair (UTP) is ordinary telephone wire. Office buildings, by universal practice, are prewired with excess unshielded twisted\npair, more than is needed for simple telephone support.This is the least expensive of\nall the transmission media commonly used for local area networks and is easy to\nwork with and easy to install."
  },
  {
    "text": "Unshielded twisted pair is subject to external electromagnetic interference,\nincluding interference from nearby twisted pair and from noise generated in the envi-\nronment.A way to improve the characteristics of this medium is to shield the twisted\npair with a metallic braid or sheathing that reduces interference.This shielded twisted\npair (STP) provides better performance at higher data rates."
  },
  {
    "text": "However, it is more\nexpensive and more difficult to work with than unshielded twisted pair. Category 3 and Category 5 UTP Most office buildings are prewired with a\ntype of 100-ohm twisted pair cable commonly referred to as voice grade. Because\nvoice-grade twisted pair is already installed, it is an attractive alternative for use as a\nLAN medium."
  },
  {
    "text": "Unfortunately, the data rates and distances achievable with voice-\ngrade twisted pair are limited."
  },
  {
    "text": "In 1991, the Electronic Industries Association published standard EIA-568,\nCommercial Building Telecommunications Cabling Standard, which specifies the use\nof voice-grade unshielded twisted pair as well as shielded twisted pair for in-building\ndata applications.At that time, the specification was felt to be adequate for the range\nof frequencies and data rates found in office environments."
  },
  {
    "text": "Up to that time, the prin-\ncipal interest for LAN designs was in the range of data rates from 1 Mbps to 16 Mbps. Subsequently, as users migrated to higher-performance workstations and applica-\ntions, there was increasing interest in providing LANs that could operate up to\n100 Mbps over inexpensive cable."
  },
  {
    "text": "In response to this need, EIA-568-A was issued in\n1995.The new standard reflects advances in cable and connector design and test meth-\nods. It covers 150-ohm shielded twisted pair and 100-ohm unshielded twisted pair."
  },
  {
    "text": "EIA-568-A recognizes three categories of UTP cabling:\n• Category 3: UTP cables and associated connecting hardware whose transmis-\nsion characteristics are specified up to 16 MHz\n• Category 4: UTP cables and associated connecting hardware whose transmis-\nsion characteristics are specified up to 20 MHz\n• Category 5: UTP cables and associated connecting hardware whose transmis-\nsion characteristics are specified up to 100 MHz\nOf these, it is Category 3 and Category 5 cable that have received the most\nattention for LAN applications."
  },
  {
    "text": "Category 3 corresponds to the voice-grade cable\nfound in abundance in most office buildings. Over limited distances, and with proper\ndesign, data rates of up to 16 Mbps should be achievable with Category 3. Category\n5 is a data-grade cable that is becoming standard for preinstallation in new office\nbuildings."
  },
  {
    "text": "Over limited distances, and with proper design, data rates of up to\n100 Mbps are achievable with Category 5. A key difference between Category 3 and Category 5 cable is the number of\ntwists in the cable per unit distance. Category 5 is much more tightly twisted, with a\ntypical twist length of 0.6 to 0.85 cm, compared to 7.5 to 10 cm for Category 3."
  },
  {
    "text": "The\nCHAPTER 4 / TRANSMISSION MEDIA\ntighter twisting of Category 5 is more expensive but provides much better perform-\nance than Category 3. Table 4.2 summarizes the performance of Category 3 and 5 UTP, as well as the\nSTP specified in EIA-568-A. The first parameter used for comparison, attenuation,\nis fairly straightforward."
  },
  {
    "text": "The strength of a signal falls off with distance over any\ntransmission medium. For guided media attenuation is generally exponential and\ntherefore is typically expressed as a constant number of decibels per unit distance. Near-end crosstalk as it applies to twisted pair wiring systems is the coupling\nof the signal from one pair of conductors to another pair."
  },
  {
    "text": "These conductors may be\nthe metal pins in a connector or wire pairs in a cable.The near end refers to coupling\nthat takes place when the transmit signal entering the link couples back to the\nreceive conductor pair at that same end of the link (i.e., the near transmitted signal\nis picked up by the near receive pair)."
  },
  {
    "text": "Since the publication of EIA-568-A, there has been ongoing work on the\ndevelopment of standards for premises cabling, driven by two issues. First, the\nGigabit Ethernet specification requires the definition of parameters that are not\nspecified completely in any published cabling standard."
  },
  {
    "text": "Second, there is a desire\nto specify cabling performance to higher levels, namely Enhanced Category 5\n(Cat 5E), Category 6, and Category 7. Tables 4.3 and 4.4 summarize these new\ncabling schemes and compare them to the existing standards."
  },
  {
    "text": "Comparison of Shielded and Unshielded Twisted Pair\nAttenuation (dB per 100 m)\nNear-End Crosstalk (dB)\n150-ohm STP\nCategory 5E\nSSTP = Shielded screen twisted pair\nFTP = Foil twisted pair\nUTP = Unshielded twisted pair\n1Cat 5 \u0001 12\nTwisted Pair Categories and Classes\n4.1 / GUIDED TRANSMISSION MEDIA\nHigh-Performance LAN Copper Cabling Alternatives [JOHN98]\nConstruction\nExpected Performance\nCable consists of 4 pairs of 24 AWG \nMixed and matched cables and\n(0.50 mm) copper with thermoplastic \nconnecting hardware from various \npolyolefin or fluorinated ethylene\nmanufacturers that have a reasonable\npropylene (FEP) jacket."
  },
  {
    "text": "Outside sheath \nchance of meeting TIA Cat 5 Channel\nconsists of polyvinylchlorides (PVC), a \nand ISO Class D requirements. No \nfire retardant polyolefin or fluoropolymers. manufacturer’s warranty is involved."
  },
  {
    "text": "Cable consists of 4 pairs of 24 AWG\nCategory 5 components from one \n(0.50 mm) copper with thermoplastic \nsupplier or from multiple suppliers \npolyolefin or fluorinated ethylene  \nwhere components have been\nEnhanced Cat 5\npropylene (FEP) jacket. Outside sheath \ndeliberately matched for improved \nUTP (Cat 5E)\nconsists of polyvinylchlorides (PVC), a fire \nimpedance and balance."
  },
  {
    "text": "Offers ACR\nretardant polyolefin or fluoropolymers. performance in excess of Cat 5 \nHigher care taken in design and \nChannel and Class D as well as a \nmanufacturing. 10-year or greater warranty. Cable consists of 4 pairs of 0.50 to 0.53 mm \nCategory 6 components from one\ncopper with thermoplastic polyolefin or\nsupplier that are extremely well \nfluorinated ethylene propylene (FEP) jacket. matched."
  },
  {
    "text": "Channel zero ACR point\nOutside sheath consists of polyvinylchlorides \n(effective bandwidth) is guaranteed\n(PVC), a fire retardant polyolefin or \nto 200 MHz or beyond. Best available\nfluoropolymers. Extremely high care taken\nUTP. Performance specifications\nin design and manufacturing.Advanced\nfor Category 6 UTP to 250 MHz\nconnector designs. are under development."
  },
  {
    "text": "Cable consists of 4 pairs of 24 AWG \nCategory 5 components from one \n(0.50 mm) copper with thermoplastic \nsupplier or from multiple suppliers\npolyolefin or fluorinated ethylene propylene\nwhere  components have been \nFoil Twisted \n(FEP) jacket. Pairs are surrounded by a \ndeliberately designed to minimize\ncommon metallic foil shield."
  },
  {
    "text": "Outside  sheath \nEMI susceptibility and maximize\nconsists of polyvinylchlorides (PVC), a fire-\nEMI immunity.Various grades may\nretardant  polyolefin or fluoropolymers. offer increased ACR performance."
  },
  {
    "text": "Cable consists of 4 pairs of 24 AWG \nCategory 5 components from one\n(0.50 mm) copper with thermoplastic\nsupplier or from multiple suppliers \npolyolefin or  fluorinated ethylene\nwhere components have been\npropylene (FEP) jacket."
  },
  {
    "text": "Pairs are\ndeliberately designed to minimize\nShielded Foil\nsurrounded by a common metallic foil \nEMI susceptibility and maximize EMI\nTwisted Pair\nshield, followed by a braided metallic\nimmunity. Offers superior EMI\nshield. Outside sheath consists of\nprotection to FTP."
  },
  {
    "text": "polyvinylchlorides (PVC), a fire retardant\npolyolefin, or fluoropolymers\nAlso called PiMF (for Pairs in Metal Foil),\nCategory 7 cabling provides positive\nSSTP of 4 pairs of 22-23AWG copper with a\nACR to 600 to 1200 MHz. Shielding \nthermoplastic polyolefin or fluorinated\non the individual pairs gives it\nethylenepropylene  (FEP) jacket. Pairs  are\nphenomenal ACR."
  },
  {
    "text": "Shielded-Screen\nindividually surrounded by a helical or \nTwisted Pair\nlongitudinal metallic foil shield, followed by\na braided metallic shield. Outside sheath of\npolyvinylchlorides (PVC), a fire-retardant\npolyolefin, or fluoropolymers."
  },
  {
    "text": "EMI = Electromagnetic interference\nACR = Attenuation to crosstalk ratio\nCHAPTER 4 / TRANSMISSION MEDIA\nCoaxial Cable\nPhysical Description Coaxial cable, like twisted pair, consists of two conduc-\ntors, but is constructed differently to permit it to operate over a wider range of fre-\nquencies."
  },
  {
    "text": "It consists of a hollow outer cylindrical conductor that surrounds a single\ninner wire conductor (Figure 4.2b). The inner conductor is held in place by either\nregularly spaced insulating rings or a solid dielectric material. The outer conductor\nis covered with a jacket or shield.A single coaxial cable has a diameter of from 1 to\n2.5 cm."
  },
  {
    "text": "Coaxial cable can be used over longer distances and support more stations\non a shared line than twisted pair."
  },
  {
    "text": "Applications Coaxial cable is a versatile transmission medium, used in a wide\nvariety of applications.The most important of these are\n• Television distribution\n• Long-distance telephone transmission\n• Short-run computer system links\n• Local area networks\nCoaxial cable is widely used as a means of distributing TV signals to individual\nhomes—cable TV."
  },
  {
    "text": "From its modest beginnings as Community Antenna Television\n(CATV), designed to provide service to remote areas, cable TV reaches almost as\nmany homes and offices as the telephone. A cable TV system can carry dozens or\neven hundreds of TV channels at ranges up to a few tens of kilometers. Coaxial cable has traditionally been an important part of the long-distance\ntelephone network."
  },
  {
    "text": "Today, it faces increasing competition from optical fiber, terres-\ntrial microwave, and satellite. Using frequency division multiplexing (FDM, see\nChapter 8), a coaxial cable can carry over 10,000 voice channels simultaneously. Coaxial cable is also commonly used for short-range connections between\ndevices."
  },
  {
    "text": "Using digital signaling, coaxial cable can be used to provide high-speed I/O\nchannels on computer systems. Transmission Characteristics Coaxial cable is used to transmit both analog\nand digital signals. As can be seen from Figure 4.3b, coaxial cable has frequency\ncharacteristics that are superior to those of twisted pair and can hence be used effec-\ntively at higher frequencies and data rates."
  },
  {
    "text": "Because of its shielded, concentric con-\nstruction, coaxial cable is much less susceptible to interference and crosstalk than\ntwisted pair. The principal constraints on performance are attenuation, thermal\nnoise, and intermodulation noise. The latter is present only when several channels\n(FDM) or frequency bands are in use on the cable."
  },
  {
    "text": "For long-distance transmission of analog signals, amplifiers are needed every few\nkilometers,with closer spacing required if higher frequencies are used.The usable spec-\ntrum for analog signaling extends to about 500 MHz.For digital signaling,repeaters are\nneeded every kilometer or so, with closer spacing needed for higher data rates."
  },
  {
    "text": "Optical Fiber\nPhysical Description An optical fiber is a thin (2 to \n), flexible medium\ncapable of guiding an optical ray. Various glasses and plastics can be used to make\n4.1 / GUIDED TRANSMISSION MEDIA\noptical fibers. The lowest losses have been obtained using fibers of ultrapure fused\nsilica."
  },
  {
    "text": "Ultrapure fiber is difficult to manufacture; higher-loss multicomponent glass\nfibers are more economical and still provide good performance. Plastic fiber is even\nless costly and can be used for short-haul links, for which moderately high losses are\nacceptable."
  },
  {
    "text": "An optical fiber cable has a cylindrical shape and consists of three concentric\nsections: the core, the cladding, and the jacket (Figure 4.2c)."
  },
  {
    "text": "The core is the inner-\nmost section and consists of one or more very thin strands, or fibers, made of glass or\nplastic; the core has a diameter in the range of 8 to \nEach fiber is surrounded\nby its own cladding, a glass or plastic coating that has optical properties different\nfrom those of the core and a diameter of \nThe interface between the core\nand cladding acts as a reflector to confine light that would otherwise escape the\ncore."
  },
  {
    "text": "The outermost layer, surrounding one or a bundle of cladded fibers, is the\njacket. The jacket is composed of plastic and other material layered to protect\nagainst moisture, abrasion, crushing, and other environmental dangers. Applications\nOptical fiber already enjoys considerable use in long-distance\ntelecommunications, and its use in military applications is growing."
  },
  {
    "text": "The continuing\nimprovements in performance and decline in prices, together with the inherent\nadvantages of optical fiber, have made it increasingly attractive for local area net-\nworking."
  },
  {
    "text": "The following characteristics distinguish optical fiber from twisted pair or\ncoaxial cable:\n• Greater capacity: The potential bandwidth, and hence data rate, of optical\nfiber is immense; data rates of hundreds of Gbps over tens of kilometers have\nbeen demonstrated."
  },
  {
    "text": "Compare this to the practical maximum of hundreds of\nMbps over about 1 km for coaxial cable and just a few Mbps over 1 km or up\nto 100 Mbps to 10 Gbps over a few tens of meters for twisted pair."
  },
  {
    "text": "• Smaller size and lighter weight: Optical fibers are considerably thinner than\ncoaxial cable or bundled twisted-pair cable—at least an order of magnitude\nthinner for comparable information transmission capacity. For cramped con-\nduits in buildings and underground along public rights-of-way, the advantage\nof small size is considerable."
  },
  {
    "text": "The corresponding reduction in weight reduces\nstructural support requirements. • Lower attenuation: Attenuation is significantly lower for optical fiber than for\ncoaxial cable or twisted pair (Figure 4.3c) and is constant over a wide range. • Electromagnetic isolation: Optical fiber systems are not affected by external\nelectromagnetic fields."
  },
  {
    "text": "Thus the system is not vulnerable to interference,\nimpulse noise, or crosstalk. By the same token, fibers do not radiate energy, so\nthere is little interference with other equipment and there is a high degree of\nsecurity from eavesdropping. In addition, fiber is inherently difficult to tap. • Greater repeater spacing: Fewer repeaters mean lower cost and fewer sources\nof error."
  },
  {
    "text": "The performance of optical fiber systems from this point of view has\nbeen steadily improving. Repeater spacing in the tens of kilometers for optical\nfiber is common, and repeater spacings of hundreds of kilometers have been\ndemonstrated. Coaxial and twisted-pair systems generally have repeaters\nevery few kilometers."
  },
  {
    "text": "CHAPTER 4 / TRANSMISSION MEDIA\nFive basic categories of application have become important for optical fiber:\n• Long-haul trunks\n• Metropolitan trunks\n• Rural exchange trunks\n• Subscriber loops\n• Local area networks\nLong-haul fiber transmission is becoming increasingly common in the tele-\nphone network."
  },
  {
    "text": "Long-haul routes average about 1500 km in length and offer high\ncapacity (typically 20,000 to 60,000 voice channels).These systems compete econom-\nically with microwave and have so underpriced coaxial cable in many developed\ncountries that coaxial cable is rapidly being phased out of the telephone network in\nsuch countries. Undersea optical fiber cables have also enjoyed increasing use."
  },
  {
    "text": "Metropolitan trunking circuits have an average length of 12 km and may have as\nmany as 100,000 voice channels in a trunk group. Most facilities are installed in under-\nground conduits and are repeaterless,joining telephone exchanges in a metropolitan or\ncity area."
  },
  {
    "text": "Included in this category are routes that link long-haul microwave facilities\nthat terminate at a city perimeter to the main telephone exchange building downtown. Rural exchange trunks have circuit lengths ranging from 40 to 160 km and link\ntowns and villages. In the United States, they often connect the exchanges of differ-\nent telephone companies."
  },
  {
    "text": "Most of these systems have fewer than 5000 voice chan-\nnels. The technology used in these applications competes with microwave facilities. Subscriber loop circuits are fibers that run directly from the central exchange\nto a subscriber."
  },
  {
    "text": "These facilities are beginning to displace twisted pair and coaxial\ncable links as the telephone networks evolve into full-service networks capable of\nhandling not only voice and data, but also image and video. The initial penetration\nof optical fiber in this application is for the business subscriber, but fiber transmis-\nsion into the home will soon begin to appear."
  },
  {
    "text": "A final important application of optical fiber is for local area networks. Stan-\ndards have been developed and products introduced for optical fiber networks that\nhave a total capacity of 100 Mbps to 10 Gbps and can support hundreds or even\nthousands of stations in a large office building or a complex of buildings."
  },
  {
    "text": "The advantages of optical fiber over twisted pair and coaxial cable become\nmore compelling as the demand for all types of information (voice, data, image,\nvideo) increases. Transmission Characteristics Optical fiber transmits a signal-encoded beam\nof light by means of total internal reflection."
  },
  {
    "text": "Total internal reflection can occur in\nCHAPTER 4 / TRANSMISSION MEDIA\nFrequency Utilization for Fiber Applications\nFrequency Range \nApplication\n(in vacuum) Range (nm)\n1280 to 1350\nSingle mode\n1528 to 1561\nSingle mode\n1561 to 1620\nSingle mode\n(see Chapter 8)\nWDM = wavelength division multiplexing\nFor a definition of numerical prefixes in common use, see the supporting document at\nWilliamStallings.com."
  },
  {
    "text": "1 THz = 1012 Hz. Note the tremendous bandwidths available. For the four windows, the respec-\ntive bandwidths are 33 THz, 12 THz, 4 THz, and 7 THz.1 This is several orders of\nmagnitude greater than the bandwidth available in the radio-frequency spectrum."
  },
  {
    "text": "One confusing aspect of reported attenuation figures for fiber optic transmis-\nsion is that, invariably, fiber optic performance is specified in terms of wavelength\nrather than frequency. The wavelengths that appear in graphs and tables are the\nwavelengths corresponding to transmission in a vacuum."
  },
  {
    "text": "However, on the fiber, the\nvelocity of propagation is less than the speed of light in a vacuum (c); the result is\nthat although the frequency of the signal is unchanged, the wavelength is changed."
  },
  {
    "text": "EXAMPLE 4.1 For a wavelength in vacuum of 1550 nm, the corresponding \nfrequency is \nFor a typical single mode fiber, the velocity of propagation is approximately\nIn this case, a frequency of 193.4 THz corresponds to a wave-\nTherefore, on this\nfiber, when a wavelength of 1550 nm is cited, the actual wavelength on the fiber\nis 1055 nm. l = v/f = 12.04 * 1082/1193.4 * 10122 = 1055 nm. v = 2.04 * 108."
  },
  {
    "text": "f = c/l = 13 * 1082/11550 * 10-92 = 193.4 * 1012 = 193.4 THz. The four transmission windows are in the infrared portion of the frequency spec-\ntrum, below the visible-light portion, which is 400 to 700 nm.The loss is lower at higher\nwavelengths, allowing greater data rates over longer distances."
  },
  {
    "text": "Many local applications\ntoday use 850-nm LED light sources.Although this combination is relatively inexpen-\nsive, it is generally limited to data rates under 100 Mbps and distances of a few kilome-\nters.To achieve higher data rates and longer distances, a 1300-nm LED or laser source\nis needed.The highest data rates and longest distances require 1500-nm laser sources."
  },
  {
    "text": "Figure 4.3c shows attenuation versus wavelength for a typical optical fiber.The\nunusual shape of the curve is due to the combination of a variety of factors that con-\ntribute to attenuation. The two most important of these are absorption and scatter-\ning."
  },
  {
    "text": "In this context, the term scattering refers to the change in direction of light rays\nafter they strike small particles or impurities in the medium. 4.2 / WIRELESS TRANSMISSION\nThree general ranges of frequencies are of interest in our discussion of wireless trans-\nmission."
  },
  {
    "text": "Frequencies in the range of about 1 GHz \nare referred to as microwave frequencies.At these frequencies,highly directional beams\nare possible,and microwave is quite suitable for point-to-point transmission.Microwave\nis also used for satellite communications. Frequencies in the range of 30 MHz to 1 GHz\nare suitable for omnidirectional applications.We refer to this range as the radio range."
  },
  {
    "text": "Another important frequency range, for local applications, is the infrared por-\ntion of the spectrum. This covers, roughly, from \nInfrared is\nuseful to local point-to-point and multipoint applications within confined areas,\nsuch as a single room. For unguided media, transmission and reception are achieved by means of an\nantenna."
  },
  {
    "text": "Before looking at specific categories of wireless transmission, we provide a\nbrief introduction to antennas. An antenna can be defined as an electrical conductor or system of conductors used\neither for radiating electromagnetic energy or for collecting electromagnetic energy."
  },
  {
    "text": "For transmission of a signal, radio-frequency electrical energy from the transmitter\nis converted into electromagnetic energy by the antenna and radiated into the sur-\nrounding environment (atmosphere, space, water). For reception of a signal, electro-\nmagnetic energy impinging on the antenna is converted into radio-frequency\nelectrical energy and fed into the receiver."
  },
  {
    "text": "In two-way communication, the same antenna can be and often is used for\nboth transmission and reception."
  },
  {
    "text": "This is possible because any antenna transfers\nenergy from the surrounding environment to its input receiver terminals with the\nsame efficiency that it transfers energy from the output transmitter terminals into\nthe surrounding environment, assuming that the same frequency is used in both\ndirections."
  },
  {
    "text": "Put another way, antenna characteristics are essentially the same whether\nan antenna is sending or receiving electromagnetic energy. An antenna will radiate power in all directions but, typically, does not perform\nequally well in all directions."
  },
  {
    "text": "A common way to characterize the performance of an\nantenna is the radiation pattern, which is a graphical representation of the radiation\nproperties of an antenna as a function of space coordinates. The simplest pattern is\nproduced by an idealized antenna known as the isotropic antenna. An isotropic\nantenna is a point in space that radiates power in all directions equally."
  },
  {
    "text": "The actual\nradiation pattern for the isotropic antenna is a sphere with the antenna at the center. Parabolic Reflective Antenna An important type of antenna is the parabolic\nreflective antenna, which is used in terrestrial microwave and satellite applications. A parabola is the locus of all points equidistant from a fixed line and a fixed point\nnot on the line."
  },
  {
    "text": "The fixed point is called the focus and the fixed line is called the\ndirectrix (Figure 4.5a). If a parabola is revolved about its axis, the surface generated\nis called a paraboloid. A cross section through the paraboloid parallel to its axis\nforms a parabola and a cross section perpendicular to the axis forms a circle. Such\n2 * 1014 Hz."
  },
  {
    "text": "1gigahertz = 109 Hertz2\nCHAPTER 4 / TRANSMISSION MEDIA\nsurfaces are used in headlights, optical and radio telescopes, and microwave anten-\nnas because of the following property: If a source of electromagnetic energy (or\nsound) is placed at the focus of the paraboloid, and if the paraboloid is a reflecting\nsurface, then the wave will bounce back in lines parallel to the axis of the parabo-\nloid; Figure 4.5b shows this effect in cross section."
  },
  {
    "text": "In theory, this effect creates a par-\nallel beam without dispersion. In practice, there will be some dispersion, because the\nsource of energy must occupy more than one point. The larger the diameter of the\nantenna, the more tightly directional is the beam."
  },
  {
    "text": "On reception, if incoming waves\nare parallel to the axis of the reflecting paraboloid, the resulting signal will be con-\ncentrated at the focus. Antenna Gain Antenna gain is a measure of the directionality of an antenna. Antenna gain is defined as the power output, in a particular direction, compared to\nthat produced in any direction by a perfect omnidirectional antenna (isotropic\nantenna)."
  },
  {
    "text": "For example, if an antenna has a gain of 3 dB, that antenna improves upon\nthe isotropic antenna in that direction by 3 dB, or a factor of 2.The increased power\nradiated in a given direction is at the expense of other directions. In effect, increased\npower is radiated in one direction by reducing the power radiated in other\ndirections."
  },
  {
    "text": "It is important to note that antenna gain does not refer to obtaining more\noutput power than input power but rather to directionality. A concept related to that of antenna gain is the effective area of an antenna."
  },
  {
    "text": "The effective area of an antenna is related to the physical size of the antenna and to\nits shape.The relationship between antenna gain and effective area is\n(a) Parabola\n(b) Cross section of parabolic antenna\nshowing reflective property\nParabolic Reflective Antenna\n4.2 / WIRELESS TRANSMISSION\nFor example, the effective area of an ideal isotropic antenna is \npower gain of 1; the effective area of a parabolic antenna with a face area of A is\n0.56A, with a power gain of 7A/l2."
  },
  {
    "text": "l = carrier wavelength\n c = speed of light 1L 3 * 108 m/s2\nf = carrier frequency\nAe = effective area\nG = antenna gain\nEXAMPLE 4.2 For a parabolic reflective antenna with a diameter of 2 m,\noperating at 12 GHz, what is the effective area and the antenna gain?"
  },
  {
    "text": "We have\nand an effective area of \nThe wavelength is\nGdB = 45.46 dB\nG = 17A2/l2 = 17 * p2/10.02522 = 35,186\nl = c/f = 13 * 1082/112 * 1092 = 0.025 m. Ae = 0.56p."
  },
  {
    "text": "A = pr2 = p\nTerrestrial Microwave\nPhysical Description The most common type of microwave antenna is the par-\nabolic “dish.”A typical size is about 3 m in diameter.The antenna is fixed rigidly and\nfocuses a narrow beam to achieve line-of-sight transmission to the receiving\nantenna."
  },
  {
    "text": "Microwave antennas are usually located at substantial heights above\nground level to extend the range between antennas and to be able to transmit over\nintervening obstacles. To achieve long-distance transmission, a series of microwave\nrelay towers is used, and point-to-point microwave links are strung together over\nthe desired distance."
  },
  {
    "text": "Applications The primary use for terrestrial microwave systems is in long-haul\ntelecommunications service, as an alternative to coaxial cable or optical fiber. The\nmicrowave facility requires far fewer amplifiers or repeaters than coaxial cable over\nthe same distance but requires line-of-sight transmission. Microwave is commonly\nused for both voice and television transmission."
  },
  {
    "text": "Another increasingly common use of microwave is for short point-to-point\nlinks between buildings. This can be used for closed-circuit TV or as a data link\nbetween local area networks. Short-haul microwave can also be used for the so-\ncalled bypass application."
  },
  {
    "text": "A business can establish a microwave link to a long-\ndistance telecommunications facility in the same city, bypassing the local telephone\nAnother important use of microwave is in cellular systems, examined in\nChapter 14. CHAPTER 4 / TRANSMISSION MEDIA\nTransmission Characteristics Microwave transmission covers a substantial\nportion of the electromagnetic spectrum."
  },
  {
    "text": "Common frequencies used for transmis-\nsion are in the range 1 to 40 GHz. The higher the frequency used, the higher the\npotential bandwidth and therefore the higher the potential data rate. Table 4.6\nindicates bandwidth and data rate for some typical systems. As with any transmission system, a main source of loss is attenuation."
  },
  {
    "text": "For\nmicrowave (and radio frequencies), the loss can be expressed as\nwhere d is the distance and is the wavelength, in the same units.Thus, loss varies as\nthe square of the distance."
  },
  {
    "text": "In contrast, for twisted-pair and coaxial cable, loss varies\nexponentially with distance (linear in decibels).Thus repeaters or amplifiers may be\nplaced farther apart for microwave systems—10 to 100 km is typical.Attenuation is\nincreased with rainfall.The effects of rainfall become especially noticeable above 10\nGHz.Another source of impairment is interference.With the growing popularity of\nmicrowave, transmission areas overlap and interference is always a danger.Thus the\nassignment of frequency bands is strictly regulated."
  },
  {
    "text": "The most common bands for long-haul telecommunications are the 4-GHz to\n6-GHz bands. With increasing congestion at these frequencies, the 11-GHz band is\nnow coming into use.The 12-GHz band is used as a component of cable TV systems. Microwave links are used to provide TV signals to local CATV installations; the\nsignals are then distributed to individual subscribers via coaxial cable."
  },
  {
    "text": "Higher-\nfrequency microwave is being used for short point-to-point links between buildings;\ntypically, the 22-GHz band is used.The higher microwave frequencies are less useful\nfor longer distances because of increased attenuation but are quite adequate for\nshorter distances. In addition, at the higher frequencies, the antennas are smaller\nand cheaper."
  },
  {
    "text": "Satellite Microwave\nPhysical Description A communication satellite is, in effect, a microwave\nrelay station. It is used to link two or more ground-based microwave transmit-\nter/receivers, known as earth stations, or ground stations. The satellite receives\ntransmissions on one frequency band (uplink), amplifies or repeats the signal,\nand transmits it on another frequency (downlink)."
  },
  {
    "text": "A single orbiting satellite will\nL = 10 loga 4pd\nTypical Digital Microwave Performance\nBandwidth (MHz)\nData Rate (Mbps)\n4.2 / WIRELESS TRANSMISSION\noperate on a number of frequency bands, called transponder channels, or simply\ntransponders. Figure 4.6 depicts in a general way two common configurations for satellite\ncommunication."
  },
  {
    "text": "In the first, the satellite is being used to provide a point-to-point\nlink between two distant ground-based antennas. In the second, the satellite pro-\nvides communications between one ground-based transmitter and a number of\nground-based receivers. For a communication satellite to function effectively, it is generally required\nthat it remain stationary with respect to its position over the earth."
  },
  {
    "text": "Otherwise, it\nwould not be within the line of sight of its earth stations at all times. To remain sta-\ntionary, the satellite must have a period of rotation equal to the earth’s period of\nrotation.This match occurs at a height of 35,863 km at the equator."
  },
  {
    "text": "(a) Point-to-point link\n(b) Broadcast link\nTransmitter\nSatellite Communication Configurations\nCHAPTER 4 / TRANSMISSION MEDIA\nTwo satellites using the same frequency band, if close enough together, will\ninterfere with each other."
  },
  {
    "text": "To avoid this, current standards require a 4° spacing\n(angular displacement as measured from the earth) in the 4/6-GHz band and a 3°\nspacing at 12/14 GHz.Thus the number of possible satellites is quite limited."
  },
  {
    "text": "Applications The following are among the most important applications for satellites:\n• Television distribution\n• Long-distance telephone transmission\n• Private business networks\n• Global positioning\nBecause of their broadcast nature, satellites are well suited to television distri-\nbution and are being used extensively in the United States and throughout the\nworld for this purpose."
  },
  {
    "text": "In its traditional use, a network provides programming from\na central location. Programs are transmitted to the satellite and then broadcast\ndown to a number of stations, which then distribute the programs to individual\nviewers. One network, the Public Broadcasting Service (PBS), distributes its tele-\nvision programming almost exclusively by the use of satellite channels."
  },
  {
    "text": "Other com-\nmercial networks also make substantial use of satellite, and cable television systems\nare receiving an ever-increasing proportion of their programming from satellites. The most recent application of satellite technology to television distribution is\ndirect broadcast satellite (DBS), in which satellite video signals are transmitted\ndirectly to the home user."
  },
  {
    "text": "The decreasing cost and size of receiving antennas have\nmade DBS economically feasible. Satellite transmission is also used for point-to-point trunks between telephone\nexchange offices in public telephone networks. It is the optimum medium for high-\nusage international trunks and is competitive with terrestrial systems for many long-\ndistance intranational links."
  },
  {
    "text": "There are a number of business data applications for satellite. The satellite\nprovider can divide the total capacity into a number of channels and lease these\nchannels to individual business users. A user equipped with the antennas at a num-\nber of sites can use a satellite channel for a private network."
  },
  {
    "text": "Traditionally, such\napplications have been quite expensive and limited to larger organizations with\nhigh-volume requirements. A recent development is the very small aperture termi-\nnal (VSAT) system, which provides a low-cost alternative. Figure 4.7 depicts a typi-\ncal VSAT configuration. A number of subscriber stations are equipped with\nlow-cost VSAT antennas."
  },
  {
    "text": "Using some discipline, these stations share a satellite\ntransmission capacity for transmission to a hub station. The hub station can\nexchange messages with each of the subscribers and can relay messages between\nsubscribers. A final application of satellites, which has become pervasive, is worthy of note."
  },
  {
    "text": "The Navstar Global Positioning System, or GPS for short, consists of three segments\nor components:\n• A constellation of satellites (currently 27) orbiting about 20,000 km above the\nearth’s surface, which transmit ranging signals on two frequencies in the\nmicrowave part of the radio spectrum\n4.2 / WIRELESS TRANSMISSION\nPoint-of-sale\nTypical VSAT Configuration\n• A control segment which maintains GPS through a system of ground monitor\nstations and satellite upload facilities\n• The user receivers—both civil and military\nEach satellite transmits a unique digital code sequence of 1s and 0s, precisely\ntimed by an atomic clock, which is picked up by a GPS receiver’s antenna and\nmatched with the same code sequence generated inside the receiver."
  },
  {
    "text": "By lining up or\nmatching the signals, the receiver determines how long it takes the signals to travel\nfrom the satellite to the receiver. These timing measurements are converted to dis-\ntances using the speed of light."
  },
  {
    "text": "Measuring distances to four or more satellites simul-\ntaneously and knowing the exact locations of the satellites (included in the signals\ntransmitted by the satellites), the receiver can determine its latitude, longitude, and\nheight while at the same time synchronizing its clock with the GPS time standard\nwhich also makes the receiver a precise time piece."
  },
  {
    "text": "Transmission Characteristics The optimum frequency range for satellite\ntransmission is in the range 1 to 10 GHz. Below 1 GHz, there is significant noise\nfrom natural sources, including galactic, solar, and atmospheric noise, and human-\nmade interference from various electronic devices. Above 10 GHz, the signal is\nseverely attenuated by atmospheric absorption and precipitation."
  },
  {
    "text": "Most satellites providing point-to-point service today use a frequency band-\nwidth in the range 5.925 to 6.425 GHz for transmission from earth to satellite\n(uplink) and a bandwidth in the range 3.7 to 4.2 GHz for transmission from satellite\nto earth (downlink). This combination is referred to as the 4/6-GHz band. Note\nthat the uplink and downlink frequencies differ."
  },
  {
    "text": "For continuous operation without\ninterference, a satellite cannot transmit and receive on the same frequency. Thus\nCHAPTER 4 / TRANSMISSION MEDIA\nsignals received from a ground station on one frequency must be transmitted back\non another. The 4/6 GHz band is within the optimum zone of 1 to 10 GHz but has become\nsaturated."
  },
  {
    "text": "Second, satellite microwave is inherently a broadcast facility. Many sta-\ntions can transmit to the satellite, and a transmission from a satellite can be received\nby many stations. Broadcast Radio\nPhysical Description The principal difference between broadcast radio and\nmicrowave is that the former is omnidirectional and the latter is directional."
  },
  {
    "text": "Thus\nbroadcast radio does not require dish-shaped antennas, and the antennas need not\nbe rigidly mounted to a precise alignment. Applications Radio is a general term used to encompass frequencies in the range\nof 3 kHz to 300 GHz. We are using the informal term broadcast radio to cover the\nVHF and part of the UHF band: 30 MHz to 1 GHz.This range covers FM radio and\nUHF and VHF television."
  },
  {
    "text": "This range is also used for a number of data networking\napplications. Transmission Characteristics The range 30 MHz to 1 GHz is an effective one\nfor broadcast communications. Unlike the case for lower-frequency electromagnetic\nwaves, the ionosphere is transparent to radio waves above 30 MHz."
  },
  {
    "text": "Thus transmis-\nsion is limited to the line of sight, and distant transmitters will not interfere with\neach other due to reflection from the atmosphere."
  },
  {
    "text": "Unlike the higher frequencies of\nthe microwave region, broadcast radio waves are less sensitive to attenuation from\nAs with microwave, the amount of attenuation due to distance obeys Equation\n(4.2), namely \nBecause of the longer wavelength, radio waves suffer\nrelatively less attenuation. A prime source of impairment for broadcast radio waves is multipath interfer-\nence."
  },
  {
    "text": "Reflection from land, water, and natural or human-made objects can create\nmultiple paths between antennas. This effect is frequently evident when TV recep-\ntion displays multiple images as an airplane passes by. 4.3 / WIRELESS PROPAGATION\nInfrared communications is achieved using transmitters/receivers (transceivers)\nthat modulate noncoherent infrared light."
  },
  {
    "text": "Transceivers must be within the line of\nsight of each other either directly or via reflection from a light-colored surface such\nas the ceiling of a room. One important difference between infrared and microwave transmission is\nthat the former does not penetrate walls. Thus the security and interference prob-\nlems encountered in microwave systems are not present."
  },
  {
    "text": "Furthermore, there is no\nfrequency allocation issue with infrared, because no licensing is required. A signal radiated from an antenna travels along one of three routes: ground wave,\nsky wave, or line of sight (LOS). Table 4.7 shows in which frequency range each pre-\ndominates."
  },
  {
    "text": "In this book, we are almost exclusively concerned with LOS communica-\ntion, but a short overview of each mode is given in this section. Ground Wave Propagation\nGround wave propagation (Figure 4.8a) more or less follows the contour of the earth\nand can propagate considerable distances, well over the visual horizon. This effect is\nfound in frequencies up to about 2 MHz."
  },
  {
    "text": "Several factors account for the tendency of\nelectromagnetic wave in this frequency band to follow the earth’s curvature."
  },
  {
    "text": "One fac-\ntor is that the electromagnetic wave induces a current in the earth’s surface, the result\nof which is to slow the wavefront near the earth, causing the wavefront to tilt down-\nward and hence follow the earth’s curvature.Another factor is diffraction, which is a\nphenomenon having to do with the behavior of electromagnetic waves in the pres-\nence of obstacles."
  },
  {
    "text": "Electromagnetic waves in this frequency range are scattered by the\natmosphere in such a way that they do not penetrate the upper atmosphere. The best-known example of ground wave communication is AM radio. Sky Wave Propagation\nSky wave propagation is used for amateur radio, CB radio, and international broad-\ncasts such as BBC and Voice of America."
  },
  {
    "text": "With sky wave propagation, a signal from\nan earth-based antenna is reflected from the ionized layer of the upper atmosphere\n(ionosphere) back down to earth.Although it appears the wave is reflected from the\nionosphere as if the ionosphere were a hard reflecting surface, the effect is in fact\ncaused by refraction. Refraction is described subsequently."
  },
  {
    "text": "A sky wave signal can travel through a number of hops, bouncing back and\nforth between the ionosphere and the earth’s surface (Figure 4.8b).With this propa-\ngation mode, a signal can be picked up thousands of kilometers from the transmitter. Line-of-Sight Propagation\nAbove 30 MHz, neither ground wave nor sky wave propagation modes operate, and\ncommunication must be by line of sight (Figure 4.8c)."
  },
  {
    "text": "For satellite communication, a\nsignal above 30 MHz is not reflected by the ionosphere and therefore a signal can be\nFrequency Bands\nFrequency Range\nPropagation Characteristics\nTypical Use\nWavelength Range\nELF (extremely low \n30 to 300 Hz\n10,000 to 1000 km\nPower line frequencies; used by some \nhome control systems."
  },
  {
    "text": "VF (voice frequency)\n300 to 3000 Hz\n1000 to 100 km\nUsed by the telephone system for \nanalog subscriber lines."
  },
  {
    "text": "VLF (very low frequency)\n3 to 30 kHz\n100 to 10 km\nGW; low attenuation day and night;\nLong-range navigation; submarine \nhigh atmospheric noise level\ncommunication\nLF (low frequency)\n30 to 300 kHz\nGW; slightly less reliable than VLF;\nLong-range navigation; marine\nabsorption in daytime\ncommunication radio beacons\nMF (medium frequency)\n300 to 3000 kHz\n1,000 to 100 m\nGW and night SW; attenuation low at \nMaritime radio; direction finding;\nnight, high in day; atmospheric noise\nAM broadcasting."
  },
  {
    "text": "HF (high frequency)\n3 to 30 MHz\n100 to 10 m\nSW; quality varies with time of day,\nAmateur radio; international \nseason, and frequency."
  },
  {
    "text": "broadcasting, military communication;\nlong-distance aircraft and ship \ncommunication\nVHF (very high frequency)\n30 to 300 MHz\nLOS; scattering because of \nVHF television; FM broadcast and \ntemperature inversion; cosmic noise\ntwo-way radio,AM aircraft \ncommunication; aircraft navigational \nUHF (ultra high frequency)\n300 to 3000 MHz\n100 to 10 cm\nLOS; cosmic noise\nUHF television; cellular telephone;\nradar; microwave links; personal \ncommunications systems\nSHF (super high frequency)\n3 to 30 GHz\nLOS; rainfall attenuation above \nSatellite communication; radar;\n10 GHz; atmospheric attenuation due \nterrestrial microwave links; wireless\nto oxygen and water vapor\nEHF (extremely high \n30 to 300 GHz\nLOS; atmospheric attenuation due to\nExperimental; wireless local loop\noxygen and water vapor\n300 GHz to 400 THz\n1 mm to 770 nm\nInfrared LANs; consumer electronic \napplications\nVisible light\n400 THz to 900 THz\n770 nm to 330 nm\nOptical communication\n4.3 / WIRELESS PROPAGATION\n(b) Sky wave propagation (2 to 30 MHz)\n(a) Ground wave propagation (below 2 MHz)\npropagation\n(c) Line-of-sight (LOS) propagation (above 30 MHz)\npropagation\npropagation\nWireless Propagation Modes\ntransmitted between an earth station and a satellite overhead that is not beyond the\nhorizon."
  },
  {
    "text": "For ground-based communication, the transmitting and receiving antennas\nmust be within an effective line of sight of each other."
  },
  {
    "text": "The term effective is used\nbecause microwaves are bent or refracted by the atmosphere.The amount and even\nthe direction of the bend depends on conditions, but generally microwaves are bent\nwith the curvature of the earth and will therefore propagate farther than the optical\nline of sight. CHAPTER 4 / TRANSMISSION MEDIA\nBefore proceeding, a brief discussion of refraction is warranted."
  },
  {
    "text": "Refraction occurs because the velocity of an electromagnetic wave is a function of\nthe density of the medium through which it travels."
  },
  {
    "text": "In a vacuum, an electromagnetic\nwave (such as light or a radio wave) travels at approximately \nThis is the\nconstant, c, commonly referred to as the speed of light, but actually referring to the\nspeed of light in a vacuum.2 In air, water, glass, and other transparent or partially\ntransparent media, electromagnetic waves travel at speeds less than c."
  },
  {
    "text": "When an electromagnetic wave moves from a medium of one density to a\nmedium of another density, its speed changes.The effect is to cause a one-time bend-\ning of the direction of the wave at the boundary between the two media.Moving from\na less dense to a more dense medium, the wave will bend toward the more dense\nmedium.This phenomenon is easily observed by partially immersing a stick in water."
  },
  {
    "text": "CHAPTER 4 / TRANSMISSION MEDIA\nCHAPTER 4 / TRANSMISSION MEDIA\nAtmospheric Absorption\nAn additional loss between the transmitting and receiving antennas is atmo-\nspheric absorption. Water vapor and oxygen contribute most to attenuation. A\npeak attenuation occurs in the vicinity of 22 GHz due to water vapor. At frequen-\ncies below 15 GHz, the attenuation is less."
  },
  {
    "text": "The presence of oxygen results in an\nabsorption peak in the vicinity of 60 GHz but contributes less at frequencies\nbelow 30 GHz. Rain and fog (suspended water droplets) cause scattering of radio\nwaves that results in attenuation. In this context, the term scattering refers to the\nproduction of waves of changed direction or frequency when radio waves\nencounter matter."
  },
  {
    "text": "This can be a major cause of signal loss. Thus, in areas of signif-\nicant precipitation, either path lengths have to be kept short or lower-frequency\nbands should be used."
  },
  {
    "text": "For wireless facilities where there is a relatively free choice of where antennas are to\nbe located, they can be placed so that if there are no nearby interfering obstacles,\nthere is a direct line-of-sight path from transmitter to receiver. This is generally the\ncase for many satellite facilities and for point-to-point microwave."
  },
  {
    "text": "In other cases,\nsuch as mobile telephony, there are obstacles in abundance. The signal can be\nreflected by such obstacles so that multiple copies of the signal with varying delays\ncan be received. In fact, in extreme cases, there may be no direct signal."
  },
  {
    "text": "Depending\non the differences in the path lengths of the direct and reflected waves, the compos-\nite signal can be either larger or smaller than the direct signal. Reinforcement and\ncancellation of the signal resulting from the signal following multiple paths can be\ncontrolled for communication between fixed, well-sited antennas, and between\nsatellites and fixed ground stations."
  },
  {
    "text": "One exception is when the path goes across\nwater, where the wind keeps the reflective surface of the water in motion. For\nmobile telephony and communication to antennas that are not well sited, multipath\nconsiderations can be paramount. Figure 4.11 illustrates in general terms the types of multipath interference typ-\nical in terrestrial, fixed microwave and in mobile communications."
  },
  {
    "text": "For fixed\nmicrowave, in addition to the direct line of sight, the signal may follow a curved path\nthrough the atmosphere due to refraction and the signal may also reflect from the\nground. For mobile communications, structures and topographic features provide\nreflection surfaces. Now consider the antenna gain of both the satellite- and ground-based antennas."
  },
  {
    "text": "Typical values are 44 dB and 48 dB, respectively.The free space loss is\nNow assume a transmit power of 250 W at the earth station. What is the power\nreceived at the satellite antenna? A power of 250 W translates into 24 dBW, so\nthe power at the receiving antenna is 24 - 103.6 = -79.6 dBW."
  },
  {
    "text": "How-\never, on occasion, weather conditions may lead to variations in speed with height\nthat differ significantly from the typical variations.This may result in a situation in\nwhich only a fraction or no part of the line-of-sight wave reaches the receiving\nDetailed descriptions of the transmission characteristics of the transmission media discussed\nin this chapter can be found in [FREE98]."
  },
  {
    "text": "[REEV95] provides an excellent treatment of\ntwisted pair and optical fiber. [BORE97] is a thorough treatment of optical fiber transmission\ncomponents.Another good paper on the subject is [WILL97]. [FREE02] is a detailed techni-\ncal reference on optical fiber. [STAL00] discusses the characteristics of transmission media\nfor LANs in greater detail."
  },
  {
    "text": "For a more thorough treatment on wireless transmission and propagation, see\n[STAL05] and [RAPP02]. [FREE97] is an excellent detailed technical reference on wireless\nCHAPTER 4 / TRANSMISSION MEDIA\nBorella, M., et al. “Optical Components for WDM Lightwave Networks.”\nProceedings of the IEEE, August 1997. Freeman, R. Radio System Design for Telecommunications. New York:Wiley, 1997. Freeman, R."
  },
  {
    "text": "An alternative is to use a modulation scheme,as described in Chapter 5,for transmit-\nting the voice signal by modulating a carrier frequency, so that the bandwidth of the\nCHAPTER 4 / TRANSMISSION MEDIA\nsignal is a narrow band centered on the carrier frequency. Suppose we would like a\nhalf-wave antenna to have a length of 1 meter.What carrier frequency would we use?"
  },
  {
    "text": "Stories abound of people who receive radio signals in fillings in their teeth. Suppose\nyou have one filling that is 2.5 mm (0.0025 m) long that acts as a radio antenna. That\nis, it is equal in length to one-half the wavelength.What frequency do you receive?"
  },
  {
    "text": "You are communicating between two satellites.The transmission obeys the free space\nlaw.The signal is too weak.Your vendor offers you two options.The vendor can use a\nhigher frequency that is twice the current frequency or can double the effective area\nof both of the antennas. Which will offer you more received power or will both offer\nthe same improvement, all other factors remaining equal?"
  },
  {
    "text": "How much improvement\nin the received power do you obtain from the best option? In satellite communications, different frequency bands are used for the uplink and the\ndownlink. Discuss why this pattern occurs."
  },
  {
    "text": "For radio transmission in free space, signal power is reduced in proportion to the\nsquare of the distance from the source, whereas in wire transmission, the attenuation\nis a fixed number of dB per kilometer. The following table is used to show the dB\nreduction relative to some reference for free space radio and uniform wire. Fill in the\nmissing numbers to complete the table."
  },
  {
    "text": "Distance (km)\nSection 4.2 states that if a source of electromagnetic energy is placed at the focus of\nthe paraboloid, and if the paraboloid is a reflecting surface, then the wave will bounce\nback in lines parallel to the axis of the paraboloid. To demonstrate this, consider the\nshown in Figure 4.12. Let \nbe a point on the parabola,\nand PF be the line from P to the focus."
  },
  {
    "text": "Construct the line L through P parallel to the\nx-axis and the line M tangent to the parabola at P. The angle between L and M is\nand the angle between PF and M is \nis the angle at which a ray from F\nstrikes the parabola at P. Because the angle of incidence equals the angle of reflec-\ntion, the ray reflected from P must be at an angle \nto M."
  },
  {
    "text": "Thus, if we can show that\nwe have demonstrated that rays reflected from the parabola starting at F will\nbe parallel to the x-axis."
  },
  {
    "text": "First show that tan \nHint: Recall from trigonometry that the slope of a\nline is equal to the tangent of the angle the line makes with the positive \nx-direction.Also recall that the slope of the line tangent to a curve at a given point\nis equal to the derivative of the curve at that point. b."
  },
  {
    "text": "Now show that tan \nwhich demonstrates that \nHint: Recall from\ntrigonometry that the formula for the tangent of the difference between two\nIt is often more convenient to express distance in km rather than m and frequency in\nMHz rather than Hz. Rewrite Equation (4.3) using these dimensions. Suppose a transmitter produces 50 W of power. Express the transmit power in units of dBm and dBW. b."
  },
  {
    "text": "If the transmitter’s power is applied to a unity gain antenna with a 900-MHz carrier\nfrequency, what is the received power in dBm at a free space distance of 100 m? Repeat (b) for a distance of 10 km. d. Repeat (c) but assume a receiver antenna gain of 2. tan1a2 - a12 = 1tan a2 - tan a12/11 + tan a2 *  tan a12. a = 1p/y12,\nb = 1p/y12."
  },
  {
    "text": "If the receiving antenna is located 24 km from the transmitting antenna over a\nfree space path, find the available signal power out of the receiving antenna in\nSection 4.3 states that with no intervening obstacles, the optical line of sight can be\nexpressed as \nwhere d is the distance between an antenna and the hori-\nzon in kilometers and h is the antenna height in meters."
  },
  {
    "text": "Using a value for the earth’s\nradius of 6370 km, derive this equation. Hint: Assume that the antenna is perpendicu-\nlar to the earth’s surface, and note that the line from the top of the antenna to the\nhorizon forms a tangent to the earth’s surface at the horizon. Draw a picture showing\nthe antenna, the line of sight, and the earth’s radius to help visualize the problem."
  },
  {
    "text": "Determine the height of an antenna for a TV station that must be able to reach cus-\ntomers up to 80 km away. Suppose a ray of visible light passes from the atmosphere into water at an angle to the\nhorizontal of 30°. What is the angle of the ray in the water? Note: At standard atmo-\nIn Chapter 3 a distinction was made between analog and digital data and analog\nand digital signals."
  },
  {
    "text": "Figure 3.14 suggested that either form of data could be\nencoded into either form of signal. Figure 5.1 is another depiction that emphasizes the process involved. For\ndigital signaling, a data source g(t), which may be either digital or analog, is\nencoded into a digital signal x(t).The actual form of x(t) depends on the encoding\ntechnique and is chosen to optimize use of the transmission medium."
  },
  {
    "text": "For exam-\nple, the encoding may be chosen to conserve bandwidth or to minimize errors. The basis for analog signaling is a continuous constant-frequency signal\nknown as the carrier signal. The frequency of the carrier signal is chosen to be\ncompatible with the transmission medium being used. Data may be transmitted\nusing a carrier signal by modulation."
  },
  {
    "text": "Modulation is the process of encoding\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nsource data onto a carrier signal with frequency \nAll modulation techniques\ninvolve operation on one or more of the three fundamental frequency domain\nparameters: amplitude, frequency, and phase."
  },
  {
    "text": "The input signal m(t) may be analog or digital and is called the modulating\nsignal or baseband signal.The result of modulating the carrier signal is called the\nmodulated signal s(t)."
  },
  {
    "text": "As Figure 5.1b indicates, s(t) is a bandlimited (bandpass)\nsignal.The location of the bandwidth on the spectrum is related to \nand is often\ncentered on \nAgain,the actual form of the encoding is chosen to optimize some\ncharacteristic of the transmission."
  },
  {
    "text": "Each of the four possible combinations depicted in Figure 5.1 is in wide-\nspread use.The reasons for choosing a particular combination for any given com-\nmunication task vary.We list here some representative reasons:\n• Digital data, digital signal: In general, the equipment for encoding digital\ndata into a digital signal is less complex and less expensive than digital-to-\nanalog modulation equipment."
  },
  {
    "text": "• Analog data, digital signal: Conversion of analog data to digital form per-\nmits the use of modern digital transmission and switching equipment.The\nadvantages of the digital approach were outlined in Section 3.2. • Digital data, analog signal: Some transmission media, such as optical fiber\nand unguided media, will only propagate analog signals."
  },
  {
    "text": "• Analog data, analog signal: Analog data in electrical form can be trans-\nmitted as baseband signals easily and cheaply. This is done with voice\ntransmission over voice-grade lines. One common use of modulation is to\nshift the bandwidth of a baseband signal to another portion of the\nspectrum."
  },
  {
    "text": "In this way multiple signals, each at a different position on the\n(b) Modulation onto an analog signal\nDemodulator\n(a) Encoding onto a digital signal\nEncoding and Modulation Techniques\n5.1 / DIGITAL DATA, DIGITAL SIGNALS\nspectrum, can share the same transmission medium. This is known as\nfrequency division multiplexing. We now examine the techniques involved in each of these four combinations."
  },
  {
    "text": "DIGITAL DATA, DIGITAL SIGNALS\nA digital signal is a sequence of discrete, discontinuous voltage pulses. Each pulse is\na signal element. Binary data are transmitted by encoding each data bit into signal\nelements."
  },
  {
    "text": "In the simplest case, there is a one-to-one correspondence between bits\nand signal elements.An example is shown in Figure 3.16, in which binary 1 is repre-\nsented by a lower voltage level and binary 0 by a higher voltage level. We show in\nthis section that a variety of other encoding schemes are also used."
  },
  {
    "text": "First,we define some terms.If the signal elements all have the same algebraic sign,\nthat is, all positive or negative, then the signal is unipolar. In polar signaling, one logic\nstate is represented by a positive voltage level,and the other by a negative voltage level."
  },
  {
    "text": "The data signaling rate, or just data rate, of a signal is the rate, in bits per second, that\ndata are transmitted.The duration or length of a bit is the amount of time it takes for the\ntransmitter to emit the bit;for a data rate R, the bit duration is 1/R.The modulation rate,\nin contrast,is the rate at which the signal level is changed.This will depend on the nature\nof the digital encoding, as explained later."
  },
  {
    "text": "The modulation rate is expressed in baud,\nwhich means signal elements per second. Finally, the terms mark and space, for histori-\ncal reasons, refer to the binary digits 1 and 0, respectively. Table 5.1 summarizes key\nterms; these should be clearer when we see an example later in this section."
  },
  {
    "text": "The tasks involved in interpreting digital signals at the receiver can be summa-\nrized by again referring to Figure 3.16. First, the receiver must know the timing of\neach bit. That is, the receiver must know with some accuracy when a bit begins and\nends. Second, the receiver must determine whether the signal level for each bit\nposition is high (0) or low (1)."
  },
  {
    "text": "In Figure 3.16, these tasks are performed by sampling\neach bit position in the middle of the interval and comparing the value to a thresh-\nold. Because of noise and other impairments, there will be errors, as shown. What factors determine how successful the receiver will be in interpreting\nthe incoming signal?"
  },
  {
    "text": "We saw in Chapter 3 that three factors are important: the\nKey Data Transmission Terms\nData element\nA single binary one or zero\nBits per second (bps)\nThe rate at which data elements are transmitted\nSignal element\nDigital: a voltage pulse of \nThat part of a signal that occupies the shortest\nconstant amplitude\ninterval of a signaling code\nAnalog: a pulse of constant \nfrequency, phase, and amplitude\nSignaling rate or \nSignal elements per second\nThe rate at which signal \nmodulation rate\nelements are transmitted\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nsignal-to-noise ratio, the data rate, and the bandwidth."
  },
  {
    "text": "With other factors held\nconstant, the following statements are true:\n• An increase in data rate increases bit error rate (BER).1\n• An increase in SNR decreases bit error rate. • An increase in bandwidth allows an increase in data rate. There is another factor that can be used to improve performance, and that is\nthe encoding scheme."
  },
  {
    "text": "The encoding scheme is simply the mapping from data bits\nto signal elements. A variety of approaches have been tried. In what follows, we\ndescribe some of the more common ones; they are defined in Table 5.2 and depicted\nin Figure 5.2. Before describing these techniques, let us consider the following ways of eval-\nuating or comparing the various techniques."
  },
  {
    "text": "Definition of Digital Signal Encoding Formats\nNonreturn to Zero-Level (NRZ-L)\nNonreturn to Zero Inverted (NRZI)\nBipolar-AMI\nPseudoternary\nDifferential Manchester\nAlways a transition in middle of interval\nSame as bipolar AMI, except that any string of eight zeros is replaced by a string with two code violations\nSame as bipolar AMI, except that any string of four zeros is replaced by a string with one code violation\n 1 = no transition at beginning of interval\n 0 = transition at beginning of interval\n 1 = transition from low to high in middle of interval\n 0 = transition from high to low in middle of interval\n 1 = no line signal\n 0 = positive or negative level, alternating for successive zeros\n 1 = positive or negative level, alternating for successive ones\n 0 = no line signal\n 1 = transition at beginning of interval\n 0 = no transition at beginning of interval 1one bit time2\n 1 = low level\n 0 = high level\n1The BER is the most common measure of error performance on a data circuit and is defined as the\nprobability that a bit is received in error."
  },
  {
    "text": "It is also called the bit error ratio. This latter term is clearer,\nbecause the term rate typically refers to some quantity that varies with time. Unfortunately, most books\nand standards documents refer to the R in BER as rate. 5.1 / DIGITAL DATA, DIGITAL SIGNALS\n• Signal spectrum: Several aspects of the signal spectrum are important."
  },
  {
    "text": "A lack\nof high-frequency components means that less bandwidth is required for\ntransmission. In addition, lack of a direct-current (dc) component is also desir-\nable. With a dc component to the signal, there must be direct physical attach-\nment of transmission components."
  },
  {
    "text": "With no dc component, ac coupling via\ntransformer is possible; this provides excellent electrical isolation, reducing\ninterference. Finally, the magnitude of the effects of signal distortion and inter-\nference depend on the spectral properties of the transmitted signal."
  },
  {
    "text": "In prac-\ntice, it usually happens that the transmission characteristics of a channel are\nworse near the band edges.Therefore, a good signal design should concentrate\nthe transmitted power in the middle of the transmission bandwidth."
  },
  {
    "text": "In such a\ncase, a smaller distortion should be present in the received signal.To meet this\nobjective, codes can be designed with the aim of shaping the spectrum of the\ntransmitted signal. • Clocking: We mentioned the need to determine the beginning and end of each\nbit position. This is no easy task."
  },
  {
    "text": "One rather expensive approach is to provide\nBipolar-AMI\n(most recent\npreceding 1 bit has\nnegative voltage)\nPseudoternary\n(most recent\npreceding 0 bit has\nnegative voltage)\nDifferential\nDigital Signal Encoding Formats\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\na separate clock lead to synchronize the transmitter and receiver.The alterna-\ntive is to provide some synchronization mechanism that is based on the trans-\nmitted signal."
  },
  {
    "text": "This can be achieved with suitable encoding, as explained\nsubsequently. • Error detection: We will discuss various error-detection techniques in Chapter 6\nand show that these are the responsibility of a layer of logic above the signaling\nlevel that is known as data link control."
  },
  {
    "text": "However, it is useful to have some error\ndetection capability built into the physical signaling encoding scheme.This per-\nmits errors to be detected more quickly. • Signal interference and noise immunity: Certain codes exhibit superior perform-\nance in the presence of noise."
  },
  {
    "text": "Performance is usually expressed in terms of a\n• Cost and complexity: Although digital logic continues to drop in price, this fac-\ntor should not be ignored. In particular, the higher the signaling rate to achieve\na given data rate, the greater the cost. We shall see that some codes require a\nsignaling rate that is greater than the actual data rate."
  },
  {
    "text": "We now turn to a discussion of various techniques. Nonreturn to Zero (NRZ)\nThe most common, and easiest, way to transmit digital signals is to use two different\nvoltage levels for the two binary digits. Codes that follow this strategy share the\nproperty that the voltage level is constant during a bit interval; there is no transition\n(no return to a zero voltage level)."
  },
  {
    "text": "For example, the absence of voltage can be used\nto represent binary 0, with a constant positive voltage used to represent binary 1. More commonly, a negative voltage represents one binary value and a positive volt-\nage represents the other. This latter code, known as Nonreturn to Zero-Level\n(NRZ-L), is illustrated2 in Figure 5.2."
  },
  {
    "text": "NRZ-L is typically the code used to generate\nor interpret digital data by terminals and other devices. If a different code is to be\nused for transmission, it is generated from an NRZ-L signal by the transmission sys-\ntem [in terms of Figure 5.1, NRZ-L is g(t) and the encoded signal is x(t)]. A variation of NRZ is known as NRZI (Nonreturn to Zero, invert on ones)."
  },
  {
    "text": "As with NRZ-L, NRZI maintains a constant voltage pulse for the duration of a bit\ntime.The data themselves are encoded as the presence or absence of a signal transi-\ntion at the beginning of the bit time. A transition (low to high or high to low) at the\nbeginning of a bit time denotes a binary 1 for that bit time; no transition indicates a\nNRZI is an example of differential encoding."
  },
  {
    "text": "In differential encoding, the\ninformation to be transmitted is represented in terms of the changes between suc-\ncessive signal elements rather than the signal elements themselves."
  },
  {
    "text": "The encoding\nof the current bit is determined as follows: If the current bit is a binary 0, then the\n2In this figure, a negative voltage is equated with binary 1 and a positive voltage with binary 0.This is the\nopposite of the definition used in virtually all other textbooks.The definition here conforms to the use of\nNRZ-L in data communications interfaces and the standards that govern those interfaces."
  },
  {
    "text": "5.1 / DIGITAL DATA, DIGITAL SIGNALS\ncurrent bit is encoded with the same signal as the preceding bit; if the current bit is\na binary 1, then the current bit is encoded with a different signal than the preced-\ning bit. One benefit of differential encoding is that it may be more reliable to\ndetect a transition in the presence of noise than to compare a value to a threshold."
  },
  {
    "text": "Another benefit is that with a complex transmission layout, it is easy to lose the\nsense of the polarity of the signal. For example, on a multidrop twisted-pair line, if\nthe leads from an attached device to the twisted pair are accidentally inverted, all\n1s and 0s for NRZ-L will be inverted."
  },
  {
    "text": "This does not happen with differential\nThe NRZ codes are the easiest to engineer and, in addition, make efficient use\nof bandwidth. This latter property is illustrated in Figure 5.3, which compares the\nspectral density of various encoding schemes. In the figure, frequency is normalized\nto the data rate. Most of the energy in NRZ and NRZI signals is between dc and\nhalf the bit rate."
  },
  {
    "text": "For example, if an NRZ code is used to generate a signal with data\nrate of 9600 bps, most of the energy in the signal is concentrated between dc and\nThe main limitations of NRZ signals are the presence of a dc component and\nthe lack of synchronization capability."
  },
  {
    "text": "To picture the latter problem, consider that\nwith a long string of 1s or 0s for NRZ-L or a long string of 0s for NRZI, the output\nis a constant voltage over a long period of time. Under these circumstances, any drift\nbetween the clocks of transmitter and receiver will result in loss of synchronization\nbetween the two."
  },
  {
    "text": "Because of their simplicity and relatively low frequency response characteris-\ntics, NRZ codes are commonly used for digital magnetic recording. However, their\nlimitations make these codes unattractive for signal transmission applications."
  },
  {
    "text": "AMI, pseudoternary\nManchester,\ndifferential Manchester\nNormalized frequency (f/R)\nMean square voltage per unit bandwidth\n\u0001 alternate mark inversion\n\u0001 bipolar with 8 zeros substitution\n\u0001 high-density bipolar—3 zeros\nNRZ-L \u0001 nonreturn to zero level\n\u0001 nonreturn to zero inverted\n\u0001 frequency\n\u0001 data rate\nSpectral Density of Various Signal Encoding Schemes\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nMultilevel Binary\nA category of encoding techniques known as multilevel binary addresses some of\nthe deficiencies of the NRZ codes.These codes use more than two signal levels.Two\nexamples of this scheme are illustrated in Figure 5.2, bipolar-AMI (alternate mark\ninversion) and pseudoternary.3\nIn the case of the bipolar-AMI scheme, a binary 0 is represented by no line\nsignal, and a binary 1 is represented by a positive or negative pulse."
  },
  {
    "text": "The binary 1\npulses must alternate in polarity. There are several advantages to this approach. First, there will be no loss of synchronization if a long string of 1s occurs. Each 1\nintroduces a transition, and the receiver can resynchronize on that transition. A\nlong string of 0s would still be a problem."
  },
  {
    "text": "Second, because the 1 signals alternate in\nvoltage from positive to negative, there is no net dc component. Also, the band-\nwidth of the resulting signal is considerably less than the bandwidth for NRZ\n(Figure 5.3). Finally, the pulse alternation property provides a simple means of\nerror detection.Any isolated error, whether it deletes a pulse or adds a pulse, causes\na violation of this property."
  },
  {
    "text": "The comments of the previous paragraph also apply to pseudoternary. In this\ncase, it is the binary 1 that is represented by the absence of a line signal, and the\nbinary 0 by alternating positive and negative pulses. There is no particular advan-\ntage of one technique versus the other, and each is the basis of some applications."
  },
  {
    "text": "Although a degree of synchronization is provided with these codes, a long\nstring of 0s in the case of AMI or 1s in the case of pseudoternary still presents a\nproblem. Several techniques have been used to address this deficiency. One\napproach is to insert additional bits that force transitions."
  },
  {
    "text": "This technique is used in\nISDN (integrated services digital network) for relatively low data rate transmission. Of course, at a high data rate, this scheme is expensive, because it results in an\nincrease in an already high signal transmission rate. To deal with this problem at\nhigh data rates, a technique that involves scrambling the data is used."
  },
  {
    "text": "With multilevel binary coding, the line signal may take on one of three\nlevels, but each signal element, which could represent \nbits of informa-\ntion, bears only one bit of information. Thus multilevel binary is not as efficient as\nNRZ coding."
  },
  {
    "text": "Another way to state this is that the receiver of multilevel binary sig-\nnals has to distinguish between three levels \ninstead of just two levels in\nthe signaling formats previously discussed. Because of this, the multilevel binary sig-\nnal requires approximately 3 dB more signal power than a two-valued signal for the\nsame probability of bit error.This is illustrated in Figure 5.4."
  },
  {
    "text": "Put another way, the bit\nerror rate for NRZ codes, at a given signal-to-noise ratio, is significantly less than\nthat for multilevel binary. 1+A, -A, 02\nlog2 3 = 1.58\n3These terms are not used consistently in the literature."
  },
  {
    "text": "In some books, these two terms are used for dif-\nferent encoding schemes than those defined here, and a variety of terms have been used for the two\nschemes illustrated in Figure 5.2.The nomenclature used here corresponds to the usage in various ITU-T\nstandards documents."
  },
  {
    "text": "5.1 / DIGITAL DATA, DIGITAL SIGNALS\nThere is another set of coding techniques, grouped under the term biphase, that\novercomes the limitations of NRZ codes. Two of these techniques, Manchester and\ndifferential Manchester, are in common use. In the Manchester code, there is a transition at the middle of each bit period."
  },
  {
    "text": "The midbit transition serves as a clocking mechanism and also as data: a low-to-high\ntransition represents a 1, and a high-to-low transition represents a 0.4 In differential\nManchester, the midbit transition is used only to provide clocking."
  },
  {
    "text": "The encoding of\na 0 is represented by the presence of a transition at the beginning of a bit period, and\na 1 is represented by the absence of a transition at the beginning of a bit period. Dif-\nferential Manchester has the added advantage of employing differential encoding. All of the biphase techniques require at least one transition per bit time and\nmay have as many as two transitions."
  },
  {
    "text": "Thus, the maximum modulation rate is twice\nthat for NRZ; this means that the bandwidth required is correspondingly greater. On the other hand, the biphase schemes have several advantages:\n• Synchronization: Because there is a predictable transition during each bit\ntime, the receiver can synchronize on that transition. For this reason, the\nbiphase codes are known as self-clocking codes."
  },
  {
    "text": "• No dc component: Biphase codes have no dc component, yielding the benefits\ndescribed earlier."
  },
  {
    "text": "Probability of bit error (BER)\n(Eb/N0) (dB)\n10 11 12 13 14 15\nAMI, pseudoternary,\nNRZ, biphase\nTheoretical Bit Error Rate for Various Encoding\n4The definition of Manchester presented here is the opposite of that used in a number of respectable\ntextbooks, in which a low-to-high transition represents a binary 0 and a high-to-low transition represents\na binary 1."
  },
  {
    "text": "Here, we conform to industry practice and to the definition used in the various LAN stan-\ndards, such as IEEE 802.3. CHAPTER 5 / SIGNAL ENCODING TECHNIQUES\n• Error detection: The absence of an expected transition can be used to detect\nerrors. Noise on the line would have to invert both the signal before and after\nthe expected transition to cause an undetected error."
  },
  {
    "text": "As can be seen from Figure 5.3, the bandwidth for biphase codes is reasonably\nnarrow and contains no dc component. However, it is wider than the bandwidth for\nthe multilevel binary codes. Biphase codes are popular techniques for data transmission. The more com-\nmon Manchester code has been specified for the IEEE 802.3 (Ethernet) standard\nfor baseband coaxial cable and twisted-pair bus LANs."
  },
  {
    "text": "Differential Manchester\nhas been specified for the IEEE 802.5 token ring LAN, using shielded twisted\nModulation Rate\nWhen signal-encoding techniques are used, a distinction needs to be made between\ndata rate (expressed in bits per second) and modulation rate (expressed in baud). The data rate, or bit rate, is \nduration.The modulation rate is the\nrate at which signal elements are generated."
  },
  {
    "text": "Consider, for example, Manchester\nencoding. The minimum size signal element is a pulse of one-half the duration of a\nbit interval. For a string of all binary zeroes or all binary ones, a continuous stream\nof such pulses is generated."
  },
  {
    "text": "Hence the maximum modulation rate for Manchester is\nThis situation is illustrated in Figure 5.5, which shows the transmission of a\nstream of binary 1s at a data rate of 1 Mbps using NRZI and Manchester."
  },
  {
    "text": "In general,\n5 bits \u0001 5 \u0004s\n1 signal element \u0001\n1 signal element \u0001\nA Stream of Binary Ones at 1 Mbps\n5.1 / DIGITAL DATA, DIGITAL SIGNALS\nOne way of characterizing the modulation rate is to determine the average\nnumber of transitions that occur per bit time. In general, this will depend on the\nexact sequence of bits being transmitted. Table 5.3 compares transition rates for var-\nious techniques."
  },
  {
    "text": "It indicates the signal transition rate in the case of a data stream of\nalternating 1s and 0s, and for the data stream that produces the minimum and maxi-\nmum modulation rate."
  },
  {
    "text": "Scrambling Techniques\nAlthough the biphase techniques have achieved widespread use in local area net-\nwork applications at relatively high data rates (up to 10 Mbps), they have not been\nwidely used in long-distance applications. The principal reason for this is that they\nrequire a high signaling rate relative to the data rate.This sort of inefficiency is more\ncostly in a long-distance application."
  },
  {
    "text": "Another approach is to make use of some sort of scrambling scheme.The idea\nbehind this approach is simple: Sequences that would result in a constant voltage\nlevel on the line are replaced by filling sequences that will provide sufficient transi-\ntions for the receiver’s clock to maintain synchronization.The filling sequence must\nbe recognized by the receiver and replaced with the original data sequence.The fill-\ning sequence is the same length as the original sequence, so there is no data rate\npenalty.The design goals for this approach can be summarized as follows:\n• No dc component\n• No long sequences of zero-level line signals\n• No reduction in data rate\n• Error-detection capability\nL = number of bits per signal element\nM = number of different signal elements = 2L\nR = data rate, bps\nD = modulation rate, baud\nNormalized Signal Transition Rate of Various Digital Signal Encoding\n101010 ."
  },
  {
    "text": ". . 0 (all 0s or 1s)\n1.0 (all 1s)\nBipolar-AMI\nPseudoternary\n1.0 (1010 . . .)\n2.0 (all 0s or 1s)\nDifferential Manchester\n1.0 (all 1s)\n2.0 (all 0s)\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nTwo techniques are commonly used in long-distance transmission services;\nthese are illustrated in Figure 5.6."
  },
  {
    "text": "A coding scheme that is commonly used in North America is known as bipolar\nwith 8-zeros substitution (B8ZS). The coding scheme is based on a bipolar-AMI.We\nhave seen that the drawback of the AMI code is that a long string of zeros may\nresult in loss of synchronization."
  },
  {
    "text": "To overcome this problem, the encoding is\namended with the following rules:\n• If an octet of all zeros occurs and the last voltage pulse preceding this octet\nwas positive, then the eight zeros of the octet are encoded as \n• If an octet of all zeros occurs and the last voltage pulse preceding this octet\nwas negative, then the eight zeros of the octet are encoded as \nThis technique forces two code violations (signal patterns not allowed in AMI)\nof the AMI code, an event unlikely to be caused by noise or other transmission\nimpairment."
  },
  {
    "text": "The receiver recognizes the pattern and interprets the octet as consist-\ning of all zeros. A coding scheme that is commonly used in Europe and Japan is known as the\nhigh-density bipolar-3 zeros (HDB3) code (Table 5.4). As before, it is based on the\nuse of AMI encoding. In this case, the scheme replaces strings of four zeros with\nsequences containing one or two pulses."
  },
  {
    "text": "In each case, the fourth zero is replaced\nwith a code violation. In addition, a rule is needed to ensure that successive viola-\ntions are of alternate polarity so that no dc component is introduced.Thus, if the last\nviolation was positive, this violation must be negative and vice versa. Table 5.4\nshows that this condition is tested for by determining (1) whether the number of\n000- +0+ -."
  },
  {
    "text": "000+ -0- +. Bipolar-AMI\n0 V B 0 V B\nB \u0001 Valid bipolar signal\nV \u0001 Bipolar violation\n(odd number of 1s\nsince last substitution)\nEncoding Rules for B8ZS and HDB3\n5.2 / DIGITAL DATA, ANALOG SIGNALS\npulses since the last violation is even or odd and (2) the polarity of the last pulse\nbefore the occurrence of the four zeros. Figure 5.3 shows the spectral properties of these two codes."
  },
  {
    "text": "As can be seen,\nneither has a dc component. Most of the energy is concentrated in a relatively sharp\nspectrum around a frequency equal to one-half the data rate. Thus, these codes are\nwell suited to high data rate transmission. DIGITAL DATA,ANALOG SIGNALS\nWe turn now to the case of transmitting digital data using analog signals."
  },
  {
    "text": "The most\nfamiliar use of this transformation is for transmitting digital data through the public\ntelephone network. The telephone network was designed to receive, switch, and\ntransmit analog signals in the voice-frequency range of about 300 to 3400 Hz. It is\nnot at present suitable for handling digital signals from the subscriber locations\n(although this is beginning to change)."
  },
  {
    "text": "Thus digital devices are attached to the net-\nwork via a modem (modulator-demodulator), which converts digital data to analog\nsignals, and vice versa. For the telephone network, modems are used that produce signals in the\nvoice-frequency range. The same basic techniques are used for modems that pro-\nduce signals at higher frequencies (e.g., microwave)."
  },
  {
    "text": "This section introduces these\ntechniques and provides a brief discussion of the performance characteristics of the\nalternative approaches. We mentioned that modulation involves operation on one or more of the\nthree characteristics of a carrier signal: amplitude, frequency, and phase."
  },
  {
    "text": "Accord-\ningly, there are three basic encoding or modulation techniques for transforming dig-\nital data into analog signals, as illustrated in Figure 5.7: amplitude shift keying\n(ASK), frequency shift keying (FSK), and phase shift keying (PSK). In all these\ncases, the resulting signal occupies a bandwidth centered on the carrier frequency."
  },
  {
    "text": "Amplitude Shift Keying\nIn ASK, the two binary values are represented by two different amplitudes of the car-\nrier frequency.Commonly,one of the amplitudes is zero;that is,one binary digit is rep-\nresented by the presence, at constant amplitude, of the carrier, the other by the\nabsence of the carrier (Figure 5.7a).The resulting transmitted signal for one bit time is\ns1t2 = e A cos12pfct2\nHDB3 Substitution Rules\nNumber of Bipolar Pulses (ones) since Last Substitution\nPolarity of Preceding Pulse\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nwhere the carrier signal is \nASK is susceptible to sudden gain changes\nand is a rather inefficient modulation technique."
  },
  {
    "text": "On voice-grade lines, it is typically\nused only up to 1200 bps. The ASK technique is used to transmit digital data over optical fiber. For LED\n(light-emitting diode) transmitters, Equation (5.2) is valid. That is, one signal ele-\nment is represented by a light pulse while the other signal element is represented by\nthe absence of light."
  },
  {
    "text": "Laser transmitters normally have a fixed “bias” current that\ncauses the device to emit a low light level. This low level represents one signal ele-\nment, while a higher-amplitude lightwave represents another signal element."
  },
  {
    "text": "Frequency Shift Keying\nThe most common form of FSK is binary FSK (BFSK), in which the two binary val-\nues are represented by two different frequencies near the carrier frequency (Figure\n5.7b).The resulting transmitted signal for one bit time is\nare typically offset from the carrier frequency \nby equal but oppo-\nsite amounts. s1t2 = e A cos12pf1t2\nA cos12pf2t2\nA cos12pfct2."
  },
  {
    "text": "Modulation of Analog Signals for Digital Data\n5.2 / DIGITAL DATA, ANALOG SIGNALS\nFigure 5.8 shows an example of the use of BFSK for full-duplex operation over\na voice-grade line. The figure is a specification for the Bell System 108 series\nmodems."
  },
  {
    "text": "Recall that a voice-grade line will pass frequencies in the approximate\nrange 300 to 3400 Hz and that full duplex means that signals are transmitted in both\ndirections at the same time. To achieve full-duplex transmission, this bandwidth is\nsplit. In one direction (transmit or receive), the frequencies used to represent 1 and\n0 are centered on 1170 Hz, with a shift of 100 Hz on either side."
  },
  {
    "text": "The effect of alter-\nnating between those two frequencies is to produce a signal whose spectrum is indi-\ncated as the shaded area on the left in Figure 5.8. Similarly, for the other direction\n(receive or transmit) the modem uses frequencies shifted 100 Hz to each side of a\ncenter frequency of 2125 Hz.This signal is indicated by the shaded area on the right\nin Figure 5.8."
  },
  {
    "text": "Note that there is little overlap and thus little interference. BFSK is less susceptible to error than ASK. On voice-grade lines, it is typically\nused up to 1200 bps. It is also commonly used for high-frequency (3 to 30 MHz)\nradio transmission. It can also be used at even higher frequencies on local area\nnetworks that use coaxial cable."
  },
  {
    "text": "A signal that is more bandwidth efficient, but also more susceptible to error, is\nmultiple FSK (MFSK), in which more than two frequencies are used. In this case\neach signaling element represents more than one bit."
  },
  {
    "text": "The transmitted MFSK signal\nfor one signal element time can be defined as follows:\nTo match the data rate of the input bit stream, each output signal element is\nheld for a period of \nseconds, where T is the bit period (data \nThus, one signal element, which is a constant-frequency tone, encodes L bits."
  },
  {
    "text": "The\nL = number of bits per signal element\nM = number of different signal elements = 2L\nfd = the difference frequency\nfc = the carrier frequency\nfi = fc + 12i - 1 - M2fd\nsi1t2 = A cos 2pfit,\nFrequency (Hz)\nSignal strength\nSpectrum of signal\ntransmitted in one\nSpectrum of signal\ntransmitted in \nopposite direction\nFull-Duplex FSK Transmission on a Voice-Grade Line\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nMFSK Frequency Use 1M = 42\nEXAMPLE 5.2 Figure 5.9 shows an example of MFSK with \nAn input bit\nstream of 20 bits is encoded 2 bits at a time, with each of the four possible 2-bit\ncombinations transmitted as a different frequency."
  },
  {
    "text": "The display in the figure shows\nthe frequency transmitted (y-axis) as a function of time (x-axis). Each column rep-\nresents a time unit \nin which a single 2-bit signal element is transmitted. The\nshaded rectangle in the column indicates the frequency transmitted during that\nPhase Shift Keying\nIn PSK, the phase of the carrier signal is shifted to represent data."
  },
  {
    "text": "Two-Level PSK The simplest scheme uses two phases to represent the two\nbinary digits (Figure 5.7c) and is known as binary phase shift keying. The resulting\ntransmitted signal for one bit time is\nBecause a phase shift of 180°\nis equivalent to flipping the sine wave or\nmultiplying it by \nthe rightmost expressions in Equation (5.5) can be used."
  },
  {
    "text": "This\nA cos12pfct2\nA cos12pfct + p2 \n= e A cos12pfct2\n-A cos12pfct2\nEXAMPLE 5.1 With \nhave the following frequency assignments for each of the eight possible 3-bit\ndata combinations:\nThis scheme can support a data rate of 1/T = 2Lfd = 150 kbps."
  },
  {
    "text": "f7 = 375 kHz 110\nf8 = 425 kHz 111\nf5 = 275 kHz 100\nf6 = 325 kHz 101\nf3 = 175 kHz 010\nf4 = 225 kHz 011\nf1 = 75 kHz 000\nf2 = 125 kHz 001\nM = 8 1L = 3 bits2,\nfc = 250 kHz, fd = 25 kHz,\ntotal bandwidth required is \nIt can be shown that the minimum frequency sep-\naration required is \nTherefore, the modulator requires a bandwidth of\nWd = 2Mfd = M/Ts. 2fd = 1/Ts."
  },
  {
    "text": "5.2 / DIGITAL DATA, ANALOG SIGNALS\nleads to a convenient formulation."
  },
  {
    "text": "If we have a bit stream, and we define d(t) as the\ndiscrete function that takes on the value of \nfor one bit time if the corresponding\nbit in the bit stream is 1 and the value of \nfor one bit time if the corresponding bit\nin the bit stream is 0, then we can define the transmitted signal as\nAn alternative form of two-level PSK is differential PSK (DPSK). Figure 5.10\nshows an example."
  },
  {
    "text": "In this scheme, a binary 0 is represented by sending a signal burst\nof the same phase as the previous signal burst sent.A binary 1 is represented by send-\ning a signal burst of opposite phase to the preceding one.This term differential refers\nto the fact that the phase shift is with reference to the previous bit transmitted rather\nthan to some constant reference signal."
  },
  {
    "text": "In differential encoding, the information to\nbe transmitted is represented in terms of the changes between successive data sym-\nbols rather than the signal elements themselves. DPSK avoids the requirement for an\naccurate local oscillator phase at the receiver that is matched with the transmitter.As\nlong as the preceding phase is received correctly, the phase reference is accurate."
  },
  {
    "text": "Four-Level PSK More efficient use of bandwidth can be achieved if each signal-\ning element represents more than one bit. For example, instead of a phase shift of\n180°, as allowed in BPSK, a common encoding technique, known as quadrature\nphase shift keying (QPSK), uses phase shifts separated by multiples of \nThus each signal element represents two bits rather than one."
  },
  {
    "text": "A cosa2pfct + p\nA cosa2pfct + 3p\nA cosa2pfct - 3p\nA cosa2pfct - p\nsd1t2 = A d1t2cos12pfct2\nFigure 5.10\nDifferential Phase-Shift Keying (DPSK)\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nFigure 5.11 shows the QPSK modulation scheme in general terms. The input\nis a stream of binary digits with a data rate of \nis the width of\neach bit."
  },
  {
    "text": "This stream is converted into two separate bit streams of R/2 bps each, by\ntaking alternate bits for the two streams. The two data streams are referred to as\nthe I (in-phase) and Q (quadrature phase) streams. In the diagram, the upper\nstream is modulated on a carrier of frequency \nby multiplying the bit stream by\nthe carrier."
  },
  {
    "text": "For convenience of modulator structure we map binary 1 to \nbinary 0 to \nThus, a binary 1 is represented by a scaled version of the carrier\nwave and a binary 0 is represented by a scaled version of the negative of the carrier\nwave, both at a constant amplitude. This same carrier wave is shifted by 90° and\nused for modulation of the lower binary stream."
  },
  {
    "text": "The two modulated signals are\nthen added together and transmitted. The transmitted signal can be expressed as\nFigure 5.12 shows an example of QPSK coding. Each of the two modulated\nstreams is a BPSK signal at half the data rate of the original bit stream. Thus, the\ncombined signals have a symbol rate that is half the input bit rate."
  },
  {
    "text": "Note that from\none symbol time to the next, a phase change of as much as 180°\nis possible. Figure 5.11 also shows a variation of QPSK known as offset QPSK (OQPSK),\nor orthogonal QPSK."
  },
  {
    "text": "The difference is that a delay of one bit time is introduced in\nthe Q stream, resulting in the following signal:\nBecause OQPSK differs from QPSK only by the delay in the Q stream, its\nspectral characteristics and bit error performance are the same as that of QPSK."
  },
  {
    "text": "I1t2 cos 2pfct -\nQ1t - Tb2 sin 2pfct\nI1t2 cos 2pfct -\nQ1t2 sin 2pfct\nserial-to-parallel\nFigure 5.11\nQPSK and OQPSK Modulators\n5.2 / DIGITAL DATA, ANALOG SIGNALS\nFrom Figure 5.12, we can observe that only one of two bits in the pair can change\nsign at any time and thus the phase change in the combined signal never exceeds 90°\nThis can be an advantage because physical limitations on phase modulators\nmake large phase shifts at high transition rates difficult to perform."
  },
  {
    "text": "OQPSK also\nprovides superior performance when the transmission channel (including transmit-\nter and receiver) has significant nonlinear components. The effect of nonlinearities\nis a spreading of the signal bandwidth, which may result in adjacent channel inter-\nference. It is easier to control this spreading if the phase changes are smaller, hence\nthe advantage of OQPSK over QPSK."
  },
  {
    "text": "Multilevel PSK The use of multiple levels can be extended beyond taking bits\ntwo at a time. It is possible to transmit bits three at a time using eight different phase\nangles. Further, each angle can have more than one amplitude. For example, a stan-\ndard 9600 bps modem uses 12 phase angles, four of which have two amplitude val-\nues, for a total of 16 different signal elements."
  },
  {
    "text": "This latter example points out very well the difference between the data rate R\n(in bps) and the modulation rate D (in baud) of a signal. Let us assume that this\nscheme is being employed with digital input in which each bit is represented by a\nconstant voltage pulse, one level for binary one and one level for binary zero."
  },
  {
    "text": "The\ndata rate is \nHowever, the encoded signal contains \nbits in each sig-\nnal element using \ndifferent combinations of amplitude and phase. The\nmodulation rate can be seen to be R/4, because each change of signal element com-\nmunicates four bits."
  },
  {
    "text": "Thus the line signaling speed is 2400 baud, but the data rate is\n3P/4 \u00033P/4\u00033P/4\nInput signal\noutput signal\noutput signal\nFigure 5.12\nExample of QPSK and OQPSK Waveforms\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\n9600 bps. This is the reason that higher bit rates can be achieved over voice-grade\nlines by employing more complex modulation schemes."
  },
  {
    "text": "Performance\nIn looking at the performance of various digital-to-analog modulation schemes, the\nfirst parameter of interest is the bandwidth of the modulated signal.This depends on\na variety of factors, including the definition of bandwidth used and the filtering tech-\nnique used to create the bandpass signal. We will use some straightforward results\nfrom [COUC01]."
  },
  {
    "text": "The transmission bandwidth \nfor ASK is of the form\nwhere R is the bit rate and r is related to the technique by which the signal is filtered\nto establish a bandwidth for transmission; typically \nThus the bandwidth\nis directly related to the bit rate. The preceding formula is also valid for PSK and,\nunder certain assumptions, FSK."
  },
  {
    "text": "With multilevel PSK (MPSK), significant improvements in bandwidth can be\nachieved. In general,\nwhere L is the number of bits encoded per signal element and M is the number of\ndifferent signal elements."
  },
  {
    "text": "For multilevel FSK (MFSK), we have\nTable 5.5 shows the ratio of data rate, R, to transmission bandwidth for vari-\nous schemes.This ratio is also referred to as the bandwidth efficiency.As the name\nsuggests, this parameter measures the efficiency with which bandwidth can be\nused to transmit data. The advantage of multilevel signaling methods now\nbecomes clear."
  },
  {
    "text": "Of course, the preceding discussion refers to the spectrum of the input signal\nto a communications line. Nothing has yet been said of performance in the presence\nof noise. Figure 5.4 summarizes some results based on reasonable assumptions\nconcerning the transmission system [COUC01]. Here bit error rate is plotted as a\nfunction of the ratio \ndefined in Chapter 3."
  },
  {
    "text": "Of course, as that ratio increases,\nthe bit error rate drops. Further, DPSK and BPSK are about 3 dB superior to ASK\nFigure 5.13 shows the same information for various levels of M for MFSK and\nMPSK. There is an important difference. For MFSK, the error probability for a\ngiven value \nof decreases as M increases, while the opposite is true for MPSK."
  },
  {
    "text": "On the other hand, comparing Equations (5.10) and (5.11), the bandwidth efficiency\nof MFSK decreases as M increases, while the opposite is true of MPSK.Thus, in both\nBT = a 1 + r\nbR = a 1 + r\nBT = 11 + r2R\n5.2 / DIGITAL DATA, ANALOG SIGNALS\n(b) Multilevel PSK (MPSK)\n(Eb/N0) (dB)\n9 10 11 12 13 14 15\nProbability of bit error (BER)\nProbability of bit error (BER)\n(Eb/N0) (dB)\n(a) Multilevel FSK (MFSK)\n9 10 11 12 13 14 15\nFigure 5.13\nTheoretical Bit Error Rate for Multilevel FSK and PSK\nBandwidth Efficiency \nfor Various Digital-to-Analog Encoding Schemes\nMultilevel FSK\nMultilevel PSK\nM = 32, L = 5\nM = 16, L = 4\nM = 8, L = 3\nM = 4, L = 2\nM = 32, L = 5\nM = 16, L = 4\nM = 8, L = 3\nM = 4, L = 2\ncases, there is a tradeoff between bandwidth efficiency and error performance: An\nincrease in bandwidth efficiency results in an increase in error probability."
  },
  {
    "text": "The fact\nthat these tradeoffs move in opposite directions with respect to the number of levels\nM for MFSK and MPSK can be derived from the underlying equations.A discussion\nof the reasons for this difference is beyond the scope of this book. See [SKLA01] for\na full treatment."
  },
  {
    "text": "Using Equation (3.2), we have\nFor FSK and ASK, from Figure 5.4,\nFor PSK, from Figure 5.4,\nThe result for QPSK must take into account that the baud rate \n= 12 dB - a R\nAs the preceding example shows, ASK and FSK exhibit the same bandwidth\nefficiency, PSK is better, and even greater improvement can be achieved with multi-\nlevel signaling."
  },
  {
    "text": "It is worthwhile to compare these bandwidth requirements with those for dig-\nital signaling.A good approximation is\nwhere D is the modulation rate. For NRZ,\nand we have\nThus digital signaling is in the same ballpark, in terms of bandwidth efficiency, as\nASK, FSK, and PSK.A significant advantage for analog signaling is seen with multi-\nlevel techniques."
  },
  {
    "text": "BT = 0.511 + r2D\n5.2 / DIGITAL DATA, ANALOG SIGNALS\nQuadrature Amplitude Modulation\nQuadrature amplitude modulation (QAM) is a popular analog signaling technique\nthat is used in the asymmetric digital subscriber line (ADSL), described in Chapter 8,\nand in some wireless standards.This modulation technique is a combination of ASK\nand PSK. QAM can also be considered a logical extension of QPSK."
  },
  {
    "text": "QAM takes\nadvantage of the fact that it is possible to send two different signals simultaneously\non the same carrier frequency, by using two copies of the carrier frequency, one\nshifted by 90° with respect to the other. For QAM, each carrier is ASK modu-\nlated."
  },
  {
    "text": "The two independent signals are simultaneously transmitted over the same\nmedium.At the receiver, the two signals are demodulated and the results combined\nto produce the original binary input. Figure 5.14 shows the QAM modulation scheme in general terms.The input is a\nstream of binary digits arriving at a rate of R bps."
  },
  {
    "text": "This stream is converted into two\nseparate bit streams of R/2 bps each, by taking alternate bits for the two streams. In\nthe diagram, the upper stream is ASK modulated on a carrier of frequency \ntiplying the bit stream by the carrier.Thus, a binary zero is represented by the absence\nof the carrier wave and a binary one is represented by the presence of the carrier wave\nat a constant amplitude."
  },
  {
    "text": "This same carrier wave is shifted by 90° and used for ASK\nmodulation of the lower binary stream. The two modulated signals are then added\ntogether and transmitted.The transmitted signal can be expressed as follows:\nIf two-level ASK is used,then each of the two streams can be in one of two states\nand the combined stream can be in one of \nstates.This is essentially QPSK."
  },
  {
    "text": "If four-level ASK is used (i.e., four different amplitude levels), then the combined\nstream can be in one of \nstates. Systems using 64 and even 256 states have\nbeen implemented. The greater the number of states, the higher the data rate that is\npossible within a given bandwidth."
  },
  {
    "text": "Of course, as discussed previously, the greater the\nnumber of states, the higher the potential error rate due to noise and attenuation. s1t2 = d11t2cos 2pfct + d21t2sin 2pfct\nserial-to-parallel\nFigure 5.14\nQAM Modulator\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nANALOG DATA, DIGITAL SIGNALS\nIn this section we examine the process of transforming analog data into digital sig-\nnals."
  },
  {
    "text": "Strictly speaking, it might be more correct to refer to this as a process of con-\nverting analog data into digital data; this process is known as digitization. Once\nanalog data have been converted into digital data, a number of things can happen. The three most common are as follows:\n1. The digital data can be transmitted using NRZ-L."
  },
  {
    "text": "In this case, we have in fact\ngone directly from analog data to a digital signal. 2. The digital data can be encoded as a digital signal using a code other than \nNRZ-L.Thus an extra step is required. 3. The digital data can be converted into an analog signal, using one of the mod-\nulation techniques discussed in Section 5.2."
  },
  {
    "text": "This last, seemingly curious, procedure is illustrated in Figure 5.15, which\nshows voice data that are digitized and then converted to an analog ASK signal. This allows digital transmission in the sense defined in Chapter 3."
  },
  {
    "text": "The voice data,\nbecause they have been digitized, can be treated as digital data, even though trans-\nmission requirements (e.g., use of microwave) dictate that an analog signal be\nThe device used for converting analog data into digital form for transmission,\nand subsequently recovering the original analog data from the digital, is known as a\ncodec (coder-decoder)."
  },
  {
    "text": "In this section we examine the two principal techniques used\nin codecs, pulse code modulation and delta modulation. The section closes with a\ndiscussion of comparative performance."
  },
  {
    "text": "Pulse Code Modulation\nPulse code modulation (PCM) is based on the sampling theorem:\nAnalog data\nDigital data\nAnalog signal\nFigure 5.15\nDigitizing Analog Data\nSAMPLING THEOREM: If a signal f(t) is sampled at regular intervals of time\nand at a rate higher than twice the highest signal frequency, then the samples con-\ntain all the information of the original signal."
  },
  {
    "text": "The function f(t) may be recon-\nstructed from these samples by the use of a lowpass filter. 5.3 / ANALOG DATA, DIGITAL SIGNALS\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nnoise. The signal-to-noise ratio for quantizing noise can be expressed as\nThus each additional bit used for quantizing increases SNR by about 6 dB, which is\na factor of 4."
  },
  {
    "text": "Typically, the PCM scheme is refined using a technique known as nonlinear\nencoding, which means, in effect, that the quantization levels are not equally\nspaced. The problem with equal spacing is that the mean absolute error for each\nsample is the same, regardless of signal level. Consequently, lower amplitude values\nare relatively more distorted."
  },
  {
    "text": "By using a greater number of quantizing steps for sig-\nnals of low amplitude, and a smaller number of quantizing steps for signals of large\namplitude, a marked reduction in overall signal distortion is achieved (e.g., see\nFigure 5.18). The same effect can be achieved by using uniform quantizing but compand-\ning (compressing-expanding) the input analog signal."
  },
  {
    "text": "Companding is a process\nthat compresses the intensity range of a signal by imparting more gain to weak sig-\nnals than to strong signals on input.At output, the reverse operation is performed. Figure 5.19 shows typical companding functions."
  },
  {
    "text": "Note that the effect on the input\nside is to compress the sample so that the higher values are reduced with respect\nSNRdB = 20 log 2n + 1.76 dB = 6.02n + 1.76 dB\n(a) Without nonlinear encoding\nStrong signal\nWeak signal\n(b) With nonlinear encoding\nFigure 5.18\nEffect of Nonlinear Coding\nContinuous-time,\ncontinuous-amplitude\n(analog) input signal\nDiscrete-time\ncontinuous-amplitude\nsignal (PAM pulses)\nDiscrete-time\ndiscrete-amplitude\nsignal (PCM pulses)\nDigital bit\nstream output\nFigure 5.17\nPCM Block Diagram\n5.3 / ANALOG DATA, DIGITAL SIGNALS\nOutput signal magnitude\nInput signal magnitude\nNo companding\nFigure 5.19\nTypical Companding Functions\nto the lower values.Thus, with a fixed number of quantizing levels, more levels are\navailable for lower-level signals."
  },
  {
    "text": "On the output side, the compander expands the\nsamples so the compressed values are restored to their original values. Nonlinear encoding can significantly improve the PCM SNR ratio. For voice\nsignals, improvements of 24 to 30 dB have been achieved. Delta Modulation (DM)\nA variety of techniques have been used to improve the performance of PCM or to\nreduce its complexity."
  },
  {
    "text": "One of the most popular alternatives to PCM is delta modu-\nlation (DM). With delta modulation, an analog input is approximated by a staircase function\nthat moves up or down by one quantization level \nat each sampling interval \nAn example is shown in Figure 5.20, where the staircase function is overlaid on the\noriginal analog waveform."
  },
  {
    "text": "The important characteristic of this staircase function is\nthat its behavior is binary: At each sampling time, the function moves up or down a\nconstant amount \nThus, the output of the delta modulation process can be repre-\nsented as a single binary digit for each sample."
  },
  {
    "text": "In essence, a bit stream is produced by\napproximating the derivative of an analog signal rather than its amplitude:A 1 is gen-\nerated if the staircase function is to go up during the next interval; a 0 is generated\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nThe transition (up or down) that occurs at each sampling interval is chosen so\nthat the staircase function tracks the original analog waveform as closely as possible."
  },
  {
    "text": "Figure 5.21 illustrates the logic of the process, which is essentially a feedback mech-\nanism. For transmission, the following occurs: At each sampling time, the analog\ninput is compared to the most recent value of the approximating staircase function. If the value of the sampled waveform exceeds that of the staircase function, a 1 is\ngenerated; otherwise, a 0 is generated."
  },
  {
    "text": "Thus, the staircase is always changed in the\ndirection of the input signal. The output of the DM process is therefore a binary\nsequence that can be used at the receiver to reconstruct the staircase function. The\nstaircase function can then be smoothed by some type of integration process or by\npassing it through a lowpass filter to produce an analog approximation of the analog\ninput signal."
  },
  {
    "text": "There are two important parameters in a DM scheme: the size of the step\nassigned to each binary digit,\nand the sampling rate. As Figure 5.20 illustrates,\nmust be chosen to produce a balance between two types of errors or noise.When the\nanalog waveform is changing very slowly, there will be quantizing noise. This noise\nincreases as is increased."
  },
  {
    "text": "On the other hand, when the analog waveform is chang-\ning more rapidly than the staircase can follow, there is slope overload noise. This\nnoise increases as is decreased. It should be clear that the accuracy of the scheme can be improved by\nincreasing the sampling rate."
  },
  {
    "text": "However, this increases the data rate of the output\nFigure 5.20\nExample of Delta Modulation\n5.3 / ANALOG DATA, DIGITAL SIGNALS\nThe principal advantage of DM over PCM is the simplicity of its implementa-\ntion. In general, PCM exhibits better SNR characteristics at the same data rate."
  },
  {
    "text": "Performance\nGood voice reproduction via PCM can be achieved with 128 quantization levels, or\n7-bit coding \nA voice signal, conservatively, occupies a bandwidth of \n4 kHz.Thus, according to the sampling theorem, samples should be taken at a rate of\n8000 samples per second. This implies a data rate of \nPCM-encoded digital data."
  },
  {
    "text": "Consider what this means from the point of view of bandwidth requirement. An analog voice signal occupies 4 kHz. Using PCM this 4-kHz analog signal can\nbe converted into a 56-kbps digital signal. But using the Nyquist criterion from\nChapter 3, this digital signal could require on the order of 28 kHz of bandwidth. Even more severe differences are seen with higher bandwidth signals."
  },
  {
    "text": "For example,\na common PCM scheme for color television uses 10-bit codes, which works out to\n92 Mbps for a 4.6-MHz bandwidth signal. In spite of these numbers, digital tech-\nniques continue to grow in popularity for transmitting analog data. The principal\nreasons for this are as follows:\n8000 * 7 = 56 kbps\n127 = 1282."
  },
  {
    "text": "Reconstructed\n(a) Transmission\nReconstructed\n(b) Reception\nFigure 5.21\nDelta Modulation\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\n• Because repeaters are used instead of amplifiers, there is no cumulative noise. • As we shall see, time division multiplexing (TDM) is used for digital signals\ninstead of the frequency division multiplexing (FDM) used for analog signals."
  },
  {
    "text": "With TDM, there is no intermodulation noise, whereas we have seen that this\nis a concern for FDM. • The conversion to digital signaling allows the use of the more efficient digital\nswitching techniques. Furthermore, techniques have been developed to provide more efficient\ncodes. In the case of voice, a reasonable goal appears to be in the neighborhood of \n4 kbps."
  },
  {
    "text": "With video, advantage can be taken of the fact that from frame to frame,\nmost picture elements will not change. Interframe coding techniques should allow\nthe video requirement to be reduced to about 15 Mbps, and for slowly changing\nscenes, such as found in a video teleconference, down to 64 kbps or less."
  },
  {
    "text": "As a final point, we mention that in many instances, the use of a telecommuni-\ncations system will result in both digital-to-analog and analog-to-digital processing. The overwhelming majority of local terminations into the telecommunications \nnetwork is analog, and the network itself uses a mixture of analog and digital\ntechniques."
  },
  {
    "text": "Thus digital data at a user’s terminal may be converted to analog by a\nmodem, subsequently digitized by a codec, and perhaps suffer repeated conversions\nbefore reaching its destination. Thus, telecommunication facilities handle analog signals that represent both\nvoice and digital data. The characteristics of the waveforms are quite different."
  },
  {
    "text": "Whereas voice signals tend to be skewed to the lower portion of the bandwidth \n(Figure 3.9), analog encoding of digital signals has a more uniform spectral content\nover the bandwidth and therefore contains more high-frequency components."
  },
  {
    "text": "Studies have shown that, because of the presence of these higher frequencies,\nPCM-related techniques are preferable to DM-related techniques for digitizing\nanalog signals that represent digital data."
  },
  {
    "text": "ANALOG DATA,ANALOG SIGNALS\nModulation has been defined as the process of combining an input signal m(t) and a\ncarrier at frequency \nto produce a signal s(t) whose bandwidth is (usually) cen-\nFor digital data, the motivation for modulation should be clear: When\nonly analog transmission facilities are available, modulation is required to convert\nthe digital data to analog form."
  },
  {
    "text": "The motivation when the data are already analog is\nless clear. After all, voice signals are transmitted over telephone lines at their origi-\nnal spectrum (referred to as baseband transmission). There are two principal rea-\nsons for analog modulation of analog signals:\n• A higher frequency may be needed for effective transmission."
  },
  {
    "text": "For unguided\ntransmission, it is virtually impossible to transmit baseband signals; the\nrequired antennas would be many kilometers in diameter. • Modulation permits frequency division multiplexing, an important technique\nexplored in Chapter 8."
  },
  {
    "text": "5.4 / ANALOG DATA, ANALOG SIGNALS\nIn this section we look at the principal techniques for modulation using analog\ndata:amplitude modulation (AM),frequency modulation (FM),and phase modulation\n(PM).As before, the three basic characteristics of a signal are used for modulation. Amplitude Modulation\nAmplitude modulation (AM) is the simplest form of modulation and is depicted in\nFigure 5.22."
  },
  {
    "text": "Mathematically, the process can be expressed as\nis the carrier and x(t) is the input signal (carrying data), both nor-\nmalized to unity amplitude."
  },
  {
    "text": "The parameter \nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\n(a) Spectrum of modulating signal\n(b) Spectrum of AM signal with carrier at fc\nDiscrete carrier\nFigure 5.23\nSpectrum of an AM Signal\n(a) Sinusoidal modulating wave\n(b) Resulting AM signal\nFigure 5.22\nAmplitude Modulation\n5.4 / ANALOG DATA, ANALOG SIGNALS\nis the total transmitted power in s(t) and \nis the transmitted power in the\ncarrier.We would like \nas large as possible so that most of the signal power is used\nto carry information."
  },
  {
    "text": "However,\nmust remain below 1. It should be clear that s(t) contains unnecessary components, because each of\nthe sidebands contains the complete spectrum of m(t). A popular variant of AM,\nknown as single sideband (SSB), takes advantage of this fact by sending only one of\nthe sidebands, eliminating the other sideband and the carrier."
  },
  {
    "text": "The principal advan-\ntages of this approach are as follows:\n• Only half the bandwidth is required, that is,\nwhere B is the bandwidth\nof the original signal. For DSBTC,\n• Less power is required because no power is used to transmit the carrier or the\nother sideband. Another variant is double sideband suppressed carrier\n(DSBSC), which filters out the carrier frequency and sends both sidebands."
  },
  {
    "text": "This saves some power but uses as much bandwidth as DSBTC. The disadvantage of suppressing the carrier is that the carrier can be used for\nsynchronization purposes. For example, suppose that the original analog signal is an\nASK waveform encoding digital data.The receiver needs to know the starting point\nof each bit time to interpret the data correctly."
  },
  {
    "text": "A constant carrier provides a clock-\ning mechanism by which to time the arrival of bits.A compromise approach is vesti-\ngial sideband (VSB), which uses one sideband and a reduced-power carrier."
  },
  {
    "text": "Angle Modulation\nFrequency modulation (FM) and phase modulation (PM) are special cases of angle\nmodulation.The modulated signal is expressed as\nFor phase modulation, the phase is proportional to the modulating signal:\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nand the instantaneous frequency deviation from the carrier frequency is \nwhich in FM is proportional to m(t)."
  },
  {
    "text": "Figure 5.24 illustrates amplitude, phase, and frequency modulation by a sine\nwave.The shapes of the FM and PM signals are very similar. Indeed, it is impossible\nto tell them apart without knowledge of the modulation function. Several observations about the FM process are in order."
  },
  {
    "text": "The peak deviation\ncan be seen to be\nis the maximum value of m(t).Thus an increase in the magnitude of m(t)\nwill increase \nwhich, intuitively, should increase the transmitted bandwidth \nHowever, as should be apparent from Figure 5.24, this will not increase the average\npower level of the FM signal, which is \nThis is distinctly different from AM,\nwhere the level of modulation affects the power in the AM signal but does not affect\nits bandwidth."
  },
  {
    "text": "EXAMPLE 5.5 Derive an expression for s(t) if \nis the phase-modulating sig-\nAssume that \nThis can be seen directly to be\nThe instantaneous phase deviation from the carrier signal is \nphase angle of the signal varies from its unmodulated value in a simple sinusoidal\nfashion, with the peak phase deviation equal to \nThe preceding expression can be expanded using Bessel’s trigonometric \nidentities:\nis the nth-order Bessel function of the first kind."
  },
  {
    "text": "Using the property\nthis can be rewritten as\nThe resulting signal has a component at the original carrier frequency plus a set\nof sidebands displaced from \nby all possible multiples of \nhigher-order terms fall off rapidly. + cosa2p1fc - nfm2t +\ns1t2 = J01np2 cos 2pfct+ a\nJn1np2ccosa2p1fc + nfm2t + np\nJ-n1x2 = 1-12nJn1x2\nn= - qJn1np2 cosa2pfct + 2pnfmt + np\nnp cos 2pfmt."
  },
  {
    "text": "5.4 / ANALOG DATA, ANALOG SIGNALS\nModulating sine-wave signal\nAmplitude-modulated (DSBTC) wave\nPhase-modulated wave\nFrequency-modulated wave\nFigure 5.24\nAmplitude, Phase, and Frequency Modulation of a Sine-Wave Carrier\nby a Sine-Wave Signal\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nEXAMPLE 5.6 Derive an expression for s(t) if \nis the frequency modulating\nThe form of \nwas chosen for convenience.We have\nThe instantaneous frequency deviation from the carrier signal is\nThe frequency of the signal varies from its unmodulated value in a\nsimple sinusoidal fashion, with the peak frequency deviation equal to \nThe equation for the FM signal has the identical form as for the PM signal,\nsubstituted for \nThus the Bessel expansion is the same."
  },
  {
    "text": "-nf sin 2pfmt. = cosc2pfct + ¢F\ncos 2pfmt d\ns1t2 = cosc2pfct +\ncos 2pfmt d\nnf sin 2pfmt dt =\n-nf sin 2pfmt. As with AM, both FM and PM result in a signal whose bandwidth is cen-\nHowever, we can now see that the magnitude of that bandwidth is\nvery different."
  },
  {
    "text": "Amplitude modulation is a linear process and produces fre-\nquencies that are the sum and difference of the carrier signal and the compo-\nnents of the modulating signal. Hence, for AM,\nHowever,angle modulation includes a term of the form \nwhich is non-\nlinear and will produce a wide range of frequencies. In essence, for a modulating\nsinusoid of frequency \ns(t) will contain components at \nand so on."
  },
  {
    "text": "In the most general case, infinite bandwidth is required to transmit an\nFM or PM signal. As a practical matter, a very good rule of thumb, known as\nCarson’s rule [COUC01], is\nWe can rewrite the formula for FM as\nThus both FM and PM require greater bandwidth than AM."
  },
  {
    "text": "Define biphase encoding and describe two biphase encoding techniques. Explain the function of scrambling in the context of digital-to-digital encoding\ntechniques. What function does a modem perform? How are binary values represented in amplitude shift keying, and what is the limita-\ntion of this approach? What is the difference between QPSK and offset QPSK? What is QAM?"
  },
  {
    "text": "What does the sampling theorem tell us concerning the rate of sampling required for\nan analog signal? What are the differences among angle modulation, PM, and FM? Which of the signals of Table 5.2 use differential encoding? Develop algorithms for generating each of the codes of Table 5.2 from NRZ-L."
  },
  {
    "text": "A modified NRZ code known as enhanced-NRZ (E-NRZ) is sometimes used for\nhigh-density magnetic tape recording. E-NRZ encoding entails separating the\nNRZ-L data stream into 7-bit words; inverting bits 2, 3, 6, and 7; and adding one\nparity bit to each word. The parity bit is chosen to make the total number of 1s in\nthe 8-bit word an odd count.What are the advantages of E-NRZ over NRZ-L?"
  },
  {
    "text": "Any\ndisadvantages? Develop a state diagram (finite state machine) representation of pseudoternary coding. Consider the following signal encoding technique. Binary data are presented as input,\nTwo levels of processing occur."
  },
  {
    "text": "First, a new set of binary num-\nbers are produced:\nThese are then encoded as\nOn reception, the original data are recovered by\nVerify that the received values of \nequal the transmitted values of \nb. What sort of encoding is this? For the bit stream 01001110, sketch the waveforms for each of the codes of Table 5.2."
  },
  {
    "text": "Assume that the signal level for the preceding bit for NRZI was high; the most recent\npreceding 1 bit (AMI) has a negative voltage; and the most recent preceding 0 bit\n(pseudoternary) has a negative voltage. The waveform of Figure 5.25 belongs to a Manchester encoded binary data stream. Determine the beginning and end of bit periods (i.e., extract clock information) and\ngive the data sequence."
  },
  {
    "text": "Bipolar-AMI\nPseudoternary\nThe bipolar-AMI waveform representing the binary sequence 0100101011 is trans-\nmitted over a noisy channel. The received waveform is shown in Figure 5.26; it\ncontains a single error. Locate the position of this error and explain your answer."
  },
  {
    "text": "One positive side effect of bipolar encoding is that a bipolar violation (two consecutive\npulses or two consecutive \npulses separated by any number of zeros) indicates to\nthe receiver that an error has occurred in transmission. Unfortunately, upon the\nreceipt of such a violation, the receiver does not know which bit is in error (only that\nan error has occurred)."
  },
  {
    "text": "For the received bipolar sequence\nwhich has one bipolar violation, construct two scenarios (each of which involves a dif-\nferent transmitted bit stream with one transmitted bit being converted via an error)\nthat will produce this same received bit pattern. Given the bit pattern 01100, encode this data using ASK, BFSK, and BPSK."
  },
  {
    "text": "A sine wave is to be used for two different signaling schemes: (a) PSK; (b) QPSK.The\nduration of a signal element is \nIf the received signal is of the following form:\nand if the measured noise power at the receiver is \ndetermine the\n(in dB) for each case. Derive an expression for baud rate D as a function of bit rate R for QPSK using the\ndigital encoding techniques of Table 5.2."
  },
  {
    "text": "2.5 * 10-8 watts,\ns1t2 = 0.005 sin12p 106t + u2 volts\n+ - 0 + - 0 - +\nFigure 5.25\nA Manchester Stream\nFigure 5.26\nA Received Bipolar-AMI Waveform\nCHAPTER 5 / SIGNAL ENCODING TECHNIQUES\nWhat SNR ratio is required to achieve a bandwidth efficiency of 1.0 for ASK, FSK,\nPSK, and QPSK?"
  },
  {
    "text": "Assume that the required bit error rate is \nAn NRZ-L signal is passed through a filter with \nand then modulated onto a\ncarrier.The data rate is 2400 bps. Evaluate the bandwidth for ASK and FSK. For FSK\nassume that the two frequencies used are 50 kHz and 55 kHz. Assume that a telephone line channel is equalized to allow bandpass data transmis-\nsion over a frequency range of 600 to 3000 Hz."
  },
  {
    "text": "The available bandwidth is 2400 Hz. evaluate the required bandwidth for 2400 bps QPSK and 4800-bps, eight-\nlevel multilevel signaling. Is the bandwidth adequate? Figure 5.27 shows the QAM demodulator corresponding to the QAM modulator of\nFigure 5.14. Show that this arrangement does recover the two signals \nwhich can be combined to recover the original input."
  },
  {
    "text": "Why should PCM be preferable to DM for encoding analog signals that represent\ndigital data? Are the modem and the codec functional inverses (i.e., could an inverted modem\nfunction as a codec, or vice versa)? A signal is quantized using 10-bit PCM. Find the signal-to-quantization noise ratio. Consider an audio signal with spectral components in the range 300 to 3000 Hz."
  },
  {
    "text": "Assume that a sampling rate of 7000 samples per second will be used to generate a\nPCM signal. what is the number of uniform quantization levels needed? b. What data rate is required? Find the step size \nrequired to prevent slope overload noise as a function of the fre-\nquency of the highest-frequency component of the signal. Assume that all compo-\nnents have amplitude A."
  },
  {
    "text": "A PCM encoder accepts a signal with a full-scale voltage of 10 V and generates 8-bit\ncodes using uniform quantization. The maximum normalized quantized voltage is\nDetermine (a) normalized step size, (b) actual step size in volts, (c) actual\nmaximum quantized level in volts, (d) normalized resolution, (e) actual resolution,\nand (f) percentage resolution."
  },
  {
    "text": "The analog waveform shown in Figure 5.28 is to be delta modulated. The sampling\nperiod and the step size are indicated by the grid on the figure.The first DM output and\nthe staircase function for this period are also shown. Show the rest of the staircase func-\ntion and give the DM output. Indicate regions where slope overload distortion exists."
  },
  {
    "text": "Express s(t) as an FM signal with \nbe message signals and let \nbe the corresponding\nmodulated signals using a carrier frequency of \nShow that if simple AM modulation is used, then \nproduces a mod-\nulated signal equal that is a linear combination of \nThis is why AM\nis sometimes referred to as linear modulation. b."
  },
  {
    "text": "Show that if simple PM modulation is used, then \nproduces a mod-\nulated signal that is not a linear combination of \nThis is why angle\nmodulation is sometimes referred to as nonlinear modulation."
  },
  {
    "text": "There is a continual stim-\nulus-response, cyclic action; remarks call up other remarks, and the behavior of the\ntwo individuals becomes concerted, co-operative, and directed toward some goal. This is true communication."
  },
  {
    "text": "—On Human Communication, Colin Cherry\nThe transmission of a stream of bits from one device to another\nacross a transmission link involves a great deal of cooperation and\nagreement between the two sides. One of the most fundamental\nrequirements is synchronization."
  },
  {
    "text": "The receiver must know the rate at\nwhich bits are being received so that it can sample the line at appro-\npriate intervals to determine the value of each received bit.Two tech-\nniques are in common use for this purpose. In asynchronous\ntransmission, each character of data is treated independently."
  },
  {
    "text": "Each\ncharacter begins with a start bit that alerts the receiver that a charac-\nter is arriving.The receiver samples each bit in the character and then\nlooks for the beginning of the next character. This technique would\nnot work well for long blocks of data because the receiver’s clock\nmight eventually drift out of synchronization with the transmitter’s\nclock."
  },
  {
    "text": "However, sending data in large blocks is more efficient than\nsending data one character at a time. For large blocks, synchronous\ntransmission is used. Each block of data is formatted as a frame that\nincludes a starting and an ending flag. Some form of synchronization,\nsuch as the use of Manchester encoding, is employed."
  },
  {
    "text": "Error detection is performed by calculating an error-detecting code\nthat is a function of the bits being transmitted.The code is appended\nto the transmitted bits.The receiver calculates the code based on the\nincoming bits and compares it to the incoming code to check for\nError correction operates in a fashion similar to error detection but is\ncapable of correcting certain errors in a transmitted bit stream."
  },
  {
    "text": "The preceding three chapters have been concerned primarily with the\nattributes of data transmission, such as the characteristics of data signals\nand transmission media, the encoding of signals, and transmission perform-\nance. In this chapter, we shift our emphasis from data transmission to data\ncommunications."
  },
  {
    "text": "CHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nFor two devices linked by a transmission medium to exchange data, a\nhigh degree of cooperation is required. Typically, data are transmitted one bit\nat a time over the medium. The timing (rate, duration, spacing) of these bits\nmust be the same for transmitter and receiver."
  },
  {
    "text": "Two common techniques for\ncontrolling this timing—asynchronous and synchronous—are explored in\nSection 6.1. Next, we look at the problem of bit errors. As we have seen, data\ntransmission is not an error-free process, and some means of accounting for\nthese errors is needed."
  },
  {
    "text": "After a brief discussion of the distinction between sin-\ngle-bit errors and burst errors, the chapter turns to two approaches to dealing\nwith errors: error detection and error correction."
  },
  {
    "text": "Next, the chapter provides an overview of the types of line configurations\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\n(b) 8-bit asynchronous character stream\n(a) Character format\n5 to 8 data bits\n1 to 2 bit times\nOdd or even\nparity or unused\nRemain idle or\nnext start bit\nUnpredictable time interval\nbetween characters\n(c) Effect of timing error\nTransmitter timing (\u0006s)\nReceiver timing (\u0006s)\nAsynchronous Transmission\nEXAMPLE 6.1\nFigure 6.1c shows the effects of a timing error of sufficient\nmagnitude to cause an error in reception."
  },
  {
    "text": "In this example we assume a data rate\nof 10,000 bits per second (10 kbps); therefore, each bit is of 0.1 millisecond (ms),\nduration. Assume that the receiver is fast by 6%, or \nper bit time. Thus, the receiver samples the incoming character every \n(based on the\ntransmitter’s clock).As can be seen, the last sample is erroneous. An error such as just described actually results in two errors."
  },
  {
    "text": "First, the last\nsampled bit is incorrectly received. Second, the bit count may now be out of align-\nment."
  },
  {
    "text": "If bit 7 is a 1 and bit 8 is a 0, bit 8 could be mistaken for a start bit.This condi-\ntion is termed a framing error, as the character plus start bit and stop element are\nsometimes referred to as a frame.A framing error can also occur if some noise con-\ndition causes the false appearance of a start bit during the idle state."
  },
  {
    "text": "Asynchronous transmission is simple and cheap but requires an overhead of\ntwo to three bits per character. For example, for an 8-bit character with no parity\nbit, using a 1-bit-long stop element, two out of every ten bits convey no informa-\ntion but are there merely for synchronization; thus the overhead is 20%."
  },
  {
    "text": "Of\n6.1 / ASYNCHRONOUS AND SYNCHRONOUS TRANSMISSION\ncourse, the percentage overhead could be reduced by sending larger blocks of bits\nbetween the start bit and stop element. However, as Figure 6.1c indicates, the\nlarger the block of bits, the greater the cumulative timing error.To achieve greater\nefficiency, a different form of synchronization, known as synchronous transmis-\nsion, is used."
  },
  {
    "text": "Synchronous Transmission\nWith synchronous transmission, a block of bits is transmitted in a steady stream\nwithout start and stop codes. The block may be many bits in length. To prevent tim-\ning drift between transmitter and receiver, their clocks must somehow be synchro-\nnized. One possibility is to provide a separate clock line between transmitter and\nreceiver."
  },
  {
    "text": "One side (transmitter or receiver) pulses the line regularly with one short\npulse per bit time.The other side uses these regular pulses as a clock.This technique\nworks well over short distances, but over longer distances the clock pulses are sub-\nject to the same impairments as the data signal, and timing errors can occur."
  },
  {
    "text": "The\nother alternative is to embed the clocking information in the data signal. For digital\nsignals, this can be accomplished with Manchester or differential Manchester encod-\ning."
  },
  {
    "text": "For analog signals, a number of techniques can be used; for example, the carrier\nfrequency itself can be used to synchronize the receiver based on the phase of the\nWith synchronous transmission, there is another level of synchronization\nrequired, to allow the receiver to determine the beginning and end of a block of data."
  },
  {
    "text": "To achieve this, each block begins with a preamble bit pattern and generally ends\nwith a postamble bit pattern. In addition, other bits are added to the block that con-\nvey control information used in the data link control procedures discussed in\nChapter 7. The data plus preamble, postamble, and control information are called a\nframe."
  },
  {
    "text": "The exact format of the frame depends on which data link control procedure\nis being used. Figure 6.2 shows, in general terms, a typical frame format for synchronous\ntransmission.Typically, the frame starts with a preamble called a flag, which is 8 bits\nlong. The same flag is used as a postamble. The receiver looks for the occurrence of\nthe flag pattern to signal the start of a frame."
  },
  {
    "text": "This is followed by some number of\ncontrol fields (containing data link control protocol information), then a data field\n(variable length for most protocols), more control fields, and finally the flag is\nFor sizable blocks of data, synchronous transmission is far more efficient than\nasynchronous. Asynchronous transmission requires 20% or more overhead."
  },
  {
    "text": "The\ncontrol information, preamble, and postamble in synchronous transmission are typ-\nically less than 100 bits. Synchronous Frame Format\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nEXAMPLE 6.2\nOne of the more common schemes,HDLC (described in Chapter\n7), contains 48 bits of control, preamble, and postamble."
  },
  {
    "text": "Thus, for a 1000-character\nblock of data, each frame consists of 48 bits of overhead and \nof data, for a percentage overhead of only 48/8048 * 100% = 0.6%."
  },
  {
    "text": "1000 * 8 = 8,000\nIn digital transmission systems, an error occurs when a bit is altered between trans-\nmission and reception; that is, a binary 1 is transmitted and a binary 0 is received, or\na binary 0 is transmitted and a binary 1 is received."
  },
  {
    "text": "Two general types of errors can\noccur: single-bit errors and burst errors.A single-bit error is an isolated error condi-\ntion that alters one bit but does not affect nearby bits.A burst error of length B is a\ncontiguous sequence of B bits in which the first and last bits and any number of\nintermediate bits are received in error."
  },
  {
    "text": "More precisely, IEEE Std 100 and ITU-T\nRecommendation Q.9 both define an error burst as follows:\nEXAMPLE 6.3\nAn impulse noise event or a fading event of \noccurs. At a\ndata rate of 10 Mbps, there is a resulting error burst of 10 bits. At a data rate of\n100 Mbps, there is an error burst of 100 bits."
  },
  {
    "text": "Error burst: A group of bits in which two successive erroneous bits are\nalways separated by less than a given number x of correct bits.The last erro-\nneous bit in the burst and the first erroneous bit in the following burst are\naccordingly separated by x correct bits or more."
  },
  {
    "text": "Thus, in an error burst, there is a cluster of bits in which a number of errors\noccur, although not necessarily all of the bits in the cluster suffer an error. A single-bit error can occur in the presence of white noise, when a slight ran-\ndom deterioration of the signal-to-noise ratio is sufficient to confuse the receiver’s\ndecision of a single bit."
  },
  {
    "text": "Burst errors are more common and more difficult to deal\nwith. Burst errors can be caused by impulse noise, which was described in Chapter 3. Another cause is fading in a mobile wireless environment; fading is described in\nChapter 14. Note that the effects of burst errors are greater at higher data rates."
  },
  {
    "text": "Regardless of the design of the transmission system, there will be errors, resulting\nin the change of one or more bits in a transmitted frame. In what follows, we\n6.3 / ERROR DETECTION\nassume that data are transmitted as one or more contiguous sequences of bits,\ncalled frames."
  },
  {
    "text": "We define these probabilities with respect to errors in transmitted\nProbability that a bit is received in error; also known as the bit error rate\nProbability that a frame arrives with no bit errors\nProbability that, with an error-detecting algorithm in use, a frame arrives with\none or more undetected errors\nProbability that, with an error-detecting algorithm in use, a frame arrives\nwith one or more detected bit errors but no undetected bit errors\nFirst consider the case in which no means are taken to detect errors."
  },
  {
    "text": "Then the\nprobability of detected errors \nis zero. To express the remaining probabilities,\nassume the probability that any bit is in error \nis constant and independent for\neach bit.Then we have\nwhere F is the number of bits per frame."
  },
  {
    "text": "In words, the probability that a frame\narrives with no bit errors decreases when the probability of a single bit error\nincreases, as you would expect.Also, the probability that a frame arrives with no bit\nerrors decreases with increasing frame length; the longer the frame, the more bits it\nhas and the higher the probability that one of these is in error."
  },
  {
    "text": "P2 = 1 - P1\nP1 = 11 - Pb2F\nEXAMPLE 6.4\nA defined objective for ISDN (integrated services digital net-\nwork) connections is that the BER on a 64-kbps channel should be less than \non at least 90% of observed 1-minute intervals."
  },
  {
    "text": "Suppose now that we have the\nrather modest user requirement that on average one frame with an undetected\nbit error should occur per day on a continuously used 64-kbps channel, and let\nus assume a frame length of 1000 bits."
  },
  {
    "text": "The number of frames that can be trans-\nmitted in a day comes out to \nwhich yields a desired frame error\nBut if we assume a value of \nand therefore \nwhich is about\nthree orders of magnitude too large to meet our requirement. P1 = 10.99999921000\n0.18 * 10-6."
  },
  {
    "text": "P2 = 1/15.529 * 1062 =\n5.529 * 106,\nThis is the kind of result that motivates the use of error-detecting techniques.All\nof these techniques operate on the following principle (Figure 6.3)."
  },
  {
    "text": "For a given frame\nof bits, additional bits that constitute an error-detecting code are added by the trans-\nmitter.This code is calculated as a function of the other transmitted bits.Typically, for\na data block of k bits, the error-detecting algorithm yields an error-detecting code of\nbits, where \nThe error-detecting code, also referred to as the\ncheck bits, is appended to the data block to produce a frame of n bits, which is then\n1n - k2 6 k."
  },
  {
    "text": "The receiver separates the incoming frame into the k bits of data and\nbits of the error-detecting code.The receiver performs the same error-detect-\ning calculation on the data bits and compares this value with the value of the incoming\nerror-detecting code. A detected error occurs if and only if there is a mismatch."
  },
  {
    "text": "Thus\nis the probability that a frame contains errors and that the error-detecting scheme\nwill detect that fact. is known as the residual error rate and is the probability that an\nerror will be undetected despite the use of an error-detecting scheme."
  },
  {
    "text": "Parity Check\nThe simplest error-detecting scheme is to append a parity bit to the end of a block of\ndata.A typical example is character transmission, in which a parity bit is attached to\neach 7-bit IRA character.The value of this bit is selected so that the character has an\neven number of 1s (even parity) or an odd number of 1s (odd parity)."
  },
  {
    "text": "2Recall from our discussion in Section 5.1 that the least significant bit of a character is transmitted first\nand that the parity bit is the most significant bit."
  },
  {
    "text": "EXAMPLE 6.5\nIf the transmitter is transmitting an IRA character G (1110001)\nand using odd parity, it will append a 1 and transmit 11110001.2 The receiver exam-\nines the received character and, if the total number of 1s is odd, assumes that no\nerror has occurred."
  },
  {
    "text": "If one bit (or any odd number of bits) is erroneously inverted\nduring transmission (for example, 11100001), then the receiver will detect an error. 6.3 / ERROR DETECTION\nNote, however, that if two (or any even number) of bits are inverted due to\nerror, an undetected error occurs. Typically, even parity is used for synchronous\ntransmission and odd parity for asynchronous transmission."
  },
  {
    "text": "The use of the parity bit is not foolproof, as noise impulses are often long\nenough to destroy more than one bit, particularly at high data rates. Cyclic Redundancy Check (CRC)\nOne of the most common, and one of the most powerful, error-detecting codes is the\ncyclic redundancy check (CRC), which can be described as follows."
  },
  {
    "text": "Given a k-bit\nblock of bits, or message, the transmitter generates an \nsequence, known\nas a frame check sequence (FCS), such that the resulting frame, consisting of n bits,\nis exactly divisible by some predetermined number."
  },
  {
    "text": "The receiver then divides the\nincoming frame by that number and, if there is no remainder, assumes there was no\nTo clarify this, we present the procedure in three equivalent ways: modulo 2\narithmetic, polynomials, and digital logic. Modulo 2 Arithmetic Modulo 2 arithmetic uses binary addition with no carries,\nwhich is just the exclusive-OR (XOR) operation."
  },
  {
    "text": "Binary subtraction with no carries\nis also interpreted as the XOR operation: For example,\nWe would like T/P to have no remainder. It should be clear that\nThat is, by multiplying D by \nwe have in effect shifted it to the left by \nand padded out the result with zeroes."
  },
  {
    "text": "Adding F yields the concatenation of D and\nT = 2n-kD + F\nP = pattern of n - k + 1 bits; this is the predetermined divisor\nF = 1n - k2-bit FCS, the last 1n - k2 bits of T\nD = k-bit block of data, or message, the first k bits of T\nT = n-bit frame to be transmitted\n1n - k2-bit\n3This procedure is slightly different from that of Figure 6.3."
  },
  {
    "text": "As shall be seen, the CRC process could be\nimplemented as follows.The receiver could perform a division operation on the incoming k data bits and\ncompare the result to the incoming \ncheck bits. CHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nF, which is T. We want T to be exactly divisible by P. Suppose that we divide \nThere is a quotient and a remainder."
  },
  {
    "text": "Because division is modulo 2, the remainder is\nalways at least one bit shorter than the divisor. We will use this remainder as our\nDoes this R satisfy our condition that T/P have no remainder? To see that it does,\nSubstituting Equation (6.1), we have\nHowever, any binary number added to itself modulo 2 yields zero.Thus\nThere is no remainder, and therefore T is exactly divisible by P."
  },
  {
    "text": "Thus, the FCS is eas-\nily generated: Simply divide \nby P and use the \nremainder as the\nFCS. On reception, the receiver will divide T by P and will get no remainder if there\nhave been no errors. 1n - k2-bit\nP = Q + R + R\nP = 2n-kD + R\nT = 2n-kD + R\nEXAMPLE 6.6\nThe message is multiplied by \nyielding 101000110100000. This product is divided by P:\n1n - k2 = 5."
  },
  {
    "text": "n = 15, k = 10,\n FCS R = to be calculated 15 bits2\n Pattern P = 110101 16 bits2\n Message D = 1010001101 110 bits2\n6.3 / ERROR DETECTION\nThe remainder is added to \nwhich is trans-\nIf there are no errors, the receiver receives T intact. The received frame is\ndivided by P:\nBecause there is no remainder, it is assumed that there have been no errors."
  },
  {
    "text": "T = 101000110101110,\nThe pattern P is chosen to be one bit longer than the desired FCS, and the\nexact bit pattern chosen depends on the type of errors expected.At minimum, both\nthe high- and low-order bits of P must be 1. There is a concise method for specifying the occurrence of one or more errors. An error results in the reversal of a bit."
  },
  {
    "text": "This is equivalent to taking the XOR of the\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nbit and 1 (modulo 2 addition of 1 to the bit):\nThus, the errors\nin an n-bit frame can be represented by an n-bit field with 1s in each error position."
  },
  {
    "text": "The resulting frame \ncan be expressed as\nIf there is an error \nthe receiver will fail to detect the error if and only if \nis divisible by P, which is equivalent to E divisible by P. Intuitively, this seems an\nunlikely occurrence. Polynomials A second way of viewing the CRC process is to express all values as\npolynomials in a dummy variable X, with binary coefficients."
  },
  {
    "text": "The coefficients\ncorrespond to the bits in the binary number. Thus, for \nArithmetic operations are again modulo 2. The CRC process can now be described\nCompare these equations with Equations (6.1) and (6.2). T1X2 = Xn-kD1X2 + R1X2\nP1X2 = X4 + X3 + 1."
  },
  {
    "text": "D1X2 = X5 + X4 + X + 1,\nD = 110011,\n\u0001 = bitwise exclusive-OR1XOR2\nTr = received frame\nE = error pattern with 1s in positions where errors occur\nT = transmitted frame\n0 + 1 = 1; 1 + 1 = 0. EXAMPLE 6.7\nUsing the preceding example, for \nWe should end up with \nwhich corre-\nFigure 6.4 shows the polynomial division that\ncorresponds to the binary division in the preceding example. R1X2 = X3 + X2 + X."
  },
  {
    "text": "P1X2 = X5 + X4 + X2 + 1. P = 110101,\nD1X2 = X9 + X7 + X3 + X2 + 1,\nD = 1010001101,\nAn error E(X) will only be undetectable if it is divisible by P(X)."
  },
  {
    "text": "It can be\nshown [PETE 61, RAMA88] that all of the following errors are not divisible by a\nsuitably chosen P(X) and hence are detectable:\n• All single-bit errors, if P(X) has more than one nonzero term\n• All double-bit errors, as long as P(X) is a special type of polynomial, called a\nprimitive polynomial, with maximum exponent L, and the frame length is less\nthan 2L - 1."
  },
  {
    "text": "6.3 / ERROR DETECTION\n• Any odd number of errors, as long as P(X) contains a factor \n• Any burst error for which the length of the burst is less than or equal to \nthat is, less than or equal to the length of the FCS\n• A fraction of error bursts of length \nthe fraction equals\n• A fraction of error bursts of length greater than \nthe fraction\nIn addition, it can be shown that if all error patterns are considered equally\nlikely, then for a burst error of length \nthe probability of an undetected error\n(E(X) is divisible by P(X)) is \nand for a longer burst, the probability is \nwhere r is the length of the FCS."
  },
  {
    "text": "Four versions of P(X) are widely used:\nThe CRC-12 system is used for transmission of streams of 6-bit characters and gen-\nerates a 12-bit FCS. Both CRC-16 and CRC-CCITT are popular for 8-bit characters,\nin the United States and Europe, respectively, and both result in a 16-bit FCS."
  },
  {
    "text": "This\nwould seem adequate for most applications, although CRC-32 is specified as an\noption in some point-to-point synchronous transmission standards and is used in\nIEEE 802 LAN standards."
  },
  {
    "text": "+ X10 + X8 + X7 + X5 + X4 + X2 + X + 1\n CRC-32 = X32 + X26 + X23 + X22 + X16 + X12 + X11\n CRC-CCITT = X16 + X12 + X5 + 1\n CRC-16 = X16 + X15 + X2 + 1\n CRC-12 = X12 + X11 + X3 + X2 + X + 1\n1 - 2-1n-k2\n1 - 2-1n-k-12\nX5 \u0002 X4 \u0002 X2 \u0002 1\nX13 \u0002 X12 \u0002 X11 \u0002\nX11 \u0002 X10 \u0002 X9 \u0002\nX9 \u0002 X8 \u0002 X6 \u0002 X4 \u0002 X2 \u0002 X\nX9 \u0002 X8 \u0002 X7 \u0002 X6 \u0002 X5\nX14 \u0002 X13 \u0002\nX13 \u0002 X12 \u0002\nX11 \u0002 X10 \u0002\nX3 \u0002 X2 \u0002 X\nExample of Polynomial Division\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nDigital Logic The CRC process can be represented by, and indeed imple-\nmented as, a dividing circuit consisting of XOR gates and a shift register.The shift\nregister is a string of 1-bit storage devices."
  },
  {
    "text": "Each device has an output line, which\nindicates the value currently stored, and an input line. At discrete time instants,\nknown as clock times, the value in the storage device is replaced by the value indi-\ncated by its input line.The entire register is clocked simultaneously, causing a 1-bit\nshift along the entire register. The circuit is implemented as follows:\n1."
  },
  {
    "text": "The register contains \nbits, equal to the length of the FCS. 2. There are up to \n3. The presence or absence of a gate corresponds to the presence or absence of\na term in the divisor polynomial, P(X), excluding the terms 1 and Xn-k. EXAMPLE 6.8\nThe architecture of a CRC circuit is best explained by first con-\nsidering an example, which is illustrated in Figure 6.5."
  },
  {
    "text": "In this example, we use\nwhich were used earlier in the discussion. Figure 6.5a shows the shift register implementation. The process begins with\nthe shift register cleared (all zeros). The message, or dividend, is then entered,\none bit at a time, starting with the most significant bit. Figure 6.5b is a table that\nshows the step-by-step operation as the input is applied one bit at a time."
  },
  {
    "text": "Each\nrow of the table shows the values currently stored in the five shift-register ele-\nments. In addition, the row shows the values that appear at the outputs of the\nthree XOR circuits. Finally, the row shows the value of the next input bit, which is\navailable for the operation of the next step."
  },
  {
    "text": "Note that the XOR operation affects \non the next shift.This is\nidentical to the binary long division process illustrated earlier. The process con-\ntinues through all the bits of the message. To produce the proper output, two\nswitches are used.The input data bits are fed in with both switches in the A posi-\ntion."
  },
  {
    "text": "As a result, for the first 10 steps, the input bits are fed into the shift register\nand also used as output bits. After the last data bit is processed, the shift register\ncontains the remainder (FCS) (shown shaded).As soon as the last data bit is pro-\nvided to the shift register, both switches are set to the B position."
  },
  {
    "text": "This has two\neffects: (1) All of the XOR gates become simple pass-throughs; no bits are\nchanged, and (2) as the shifting process continues, the 5 CRC bits are output. At the receiver, the same logic is used. As each bit of M arrives, it is inserted\ninto the shift register. If there have been no errors, the shift register should con-\ntain the bit pattern for R at the conclusion of M."
  },
  {
    "text": "The transmitted bits of R now\nbegin to arrive, and the effect is to zero out the register so that, at the conclusion\nof reception, the register contains all 0s."
  },
  {
    "text": "Divisor P = 110101;\nP1X2 = X5 + X4 + X2 + 1\n Data D = 1010001101;\nD1X2 = X9 + X7 + X3 + X2 + 1\n6.3 / ERROR DETECTION\n(a) Shift-register implementation\n(b) Example with input of 1010001101\n\u0001 1-bit shift register\n\u0001 Exclusive-OR circuit\nC4\u0001C3\u0001I C4\u0001C1\u0001I C4\u0001I\nCircuit with Shift Registers for Dividing by the Polynomial\nX5 + X4 + X2 + 1\nGeneral CRC Architecture to Implement Divisor \nAn-1Xn-k-1 + Xn-k2\n11 + A1X + A2X2 + Á +\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nFigure 6.6 indicates the general architecture of the shift register implementa-\ntion of a CRC for the polynomial \nequal either 0 or 1.4\nError detection is a useful technique, found in data link control protocols, such as\nHDLC, and in transport protocols, such as TCP."
  },
  {
    "text": "However, correction of errors\nusing an error-detecting code, requires that block of data be retransmitted, as\nexplained in Chapter 7. For wireless applications this approach is inadequate for\ntwo reasons. 1. The bit error rate on a wireless link can be quite high, which would result in a\nlarge number of retransmissions. 2."
  },
  {
    "text": "In some cases, especially satellite links, the propagation delay is very long com-\npared to the transmission time of a single frame.The result is a very inefficient\nsystem. As is discussed in Chapter 7, the common approach to retransmission\nis to retransmit the frame in error plus all subsequent frames.With a long data\nlink, an error in a single frame necessitates retransmitting many frames."
  },
  {
    "text": "Instead, it would be desirable to enable the receiver to correct errors in an\nincoming transmission on the basis of the bits in that transmission. Figure 6.7 shows\nin general how this is done."
  },
  {
    "text": "On the transmission end, each k-bit block of data is\nA0 = An-k = 1\nP1X2 = gn-k\nTransmitter\nNo error or\ncorrectable\nDetectable but not\ncorrectable error\nError Correction Process\n4It is common for the CRC register to be shown shifting to the right, which is the reverse of the analogy\nto binary division."
  },
  {
    "text": "Because binary numbers are usually shown with the most significant bit on the left, a\nleft-shifting register, as is used here, is more appropriate. 6.4 / ERROR CORRECTION\nmapped into an n-bit block \ncalled a codeword, using an FEC (forward\nerror correction) encoder. The codeword is then transmitted."
  },
  {
    "text": "During transmission,\nthe signal is subject to impairments, which may produce bit errors in the signal. At\nthe receiver, the incoming signal is demodulated to produce a bit string that is simi-\nlar to the original codeword but may contain errors.This block is passed through an\nFEC decoder, with one of four possible outcomes:\n1."
  },
  {
    "text": "If there are no bit errors, the input to the FEC decoder is identical to the\noriginal codeword, and the decoder produces the original data block as\n2. For certain error patterns, it is possible for the decoder to detect and correct\nthose errors.Thus, even though the incoming data block differs from the trans-\nmitted codeword, the FEC decoder is able to map this block into the original\ndata block."
  },
  {
    "text": "3. For certain error patterns, the decoder can detect but not correct the errors. In\nthis case, the decode simply reports an uncorrectable error. 4. For certain, typically rare, error patterns, the decoder does not detect that any\nerrors have occurred and maps the incoming n-bit data block into a k-bit block\nthat differs from the original k-bit block."
  },
  {
    "text": "How is it possible for the decoder to correct bit errors? In essence, error cor-\nrection works by adding redundancy to the transmitted message. The redundancy\nmakes it possible for the receiver to deduce what the original message was, even in\nthe face of a certain level of error rate. In this section we look at a widely used form\nof error-correcting code known as a block error-correcting code."
  },
  {
    "text": "Our discussion\nonly deals with basic principles; a discussion of specific error-correcting codes is\nbeyond our scope. Before proceeding,we note that in many cases,the error-correcting code follows\nthe same general layout as shown for error-detecting codes in Figure 6.3."
  },
  {
    "text": "That is, the\nFEC algorithm takes as input a k-bit block and adds \ncheck bits to that block\nto produce an n-bit block; all of the bits in the original k-bit block show up in the n-bit\nblock. For some FEC algorithms, the FEC algorithm maps the k-bit input into an n-bit\ncodeword in such a way that the original k bits do not appear in the codeword."
  },
  {
    "text": "Block Code Principles\nTo begin, we define a term that shall be of use to us.The Hamming distance\nbetween two n-bit binary sequences \nis the number of bits in which \ndisagree. For example, if\nNow let us consider the block code technique for error correction. Suppose we\nwish to transmit blocks of data of length k bits."
  },
  {
    "text": "Instead of transmitting each block as\nk bits, we map each k-bit sequence into a unique n-bit codeword. d1v1, v22 = 3\nv1 = 011011,\nv2 = 110001\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nEXAMPLE 6.9\nwe can make the following assignment:\nNow, suppose that a codeword block is received with the bit pattern 00100.This is\nnot a valid codeword, and so the receiver has detected an error."
  },
  {
    "text": "Can the error be\ncorrected? We cannot be sure which data block was sent because 1, 2, 3, 4, or even\nall 5 of the bits that were transmitted may have been corrupted by noise. How-\never, notice that it would require only a single bit change to transform the valid\ncodeword 00000 into 00100."
  },
  {
    "text": "It would take two bit changes to transform 00111 to\n00100, three bit changes to transform 11110 to 00100, and it would take four bit\nchanges to transform 11001 into 00100. Thus, we can deduce that the most likely\ncodeword that was sent was 00000 and that therefore the desired data block is 00. This is error correction."
  },
  {
    "text": "In terms of Hamming distances, we have\nSo the rule we would like to impose is that if an invalid codeword is received,\nthen the valid codeword that is closest to it (minimum distance) is selected. This\nwill only work if there is a unique valid codeword at a minimum distance from\neach invalid codeword."
  },
  {
    "text": "For our example, it is not true that for every invalid codeword there is one\nand only one valid codeword at a minimum distance. There are \ncodewords of which 4 are valid, leaving 28 invalid codewords."
  },
  {
    "text": "For the invalid\ncodewords, we have the following:\n00000 or 11110\n00111 or 11001\n00000 or 11110\n00111 or 11001\n00000 or 11110\n00111 or 11001\nd111001, 001002 = 4; d111110, 001002 = 3\nd100000, 001002 = 1; d100111, 001002 = 2;\n6.4 / ERROR CORRECTION\nThe preceding example illustrates the essential properties of a block error-\ncorrecting code."
  },
  {
    "text": "An (n, k) block code encodes k data bits into n-bit codewords. Typically, each valid codeword reproduces the original k data bits and adds to them\ncheck bits to form the n-bit codeword. Thus the design of a block code is\nequivalent to the design of a function of the form \nis a vector of\nk data bits and \nis a vector of n codeword bits."
  },
  {
    "text": "With an (n, k) block code, there are \nvalid codewords out of a total of \npossible codewords. The ratio of redundant bits to data bits,\nthe redundancy of the code, and the ratio of data bits to total bits, k/n, is called the\ncode rate. The code rate is a measure of how much additional bandwidth is\nrequired to carry data at the same data rate as without the code."
  },
  {
    "text": "For example, a\ncode rate of 1/2 requires double the transmission capacity of an uncoded system to\nmaintain the same data rate. Our example has a code rate of 2/5 and so requires\n2.5 times the capacity of an uncoded system. For example, if the data rate input to\nthe encoder is 1 Mbps, then the output from the encoder must be at a rate of 2.5\nMbps to keep up."
  },
  {
    "text": "For a code consisting of the codewords \nmum distance \nof the code is defined as\ni Z j [d1wi, wj2]\nw1, w2, Á , ws,\nvc = f1vd2,\n00000 or 11110\n00111 or 11001\nThere are eight cases in which an invalid codeword is at a distance 2 from two\ndifferent valid codewords.Thus, if one such invalid codeword is received, an error\nin 2 bits could have caused it and the receiver has no way to choose between the\ntwo alternatives.An error is detected but cannot be corrected."
  },
  {
    "text": "However, in every\ncase in which a single bit error occurs, the resulting codeword is of distance 1\nfrom only one valid codeword and the decision can be made. This code is there-\nfore capable of correcting all single-bit errors but cannot correct double bit\nerrors. Another way to see this is to look at the pairwise distances between valid\nThe minimum distance between valid codewords is 3."
  },
  {
    "text": "Therefore, a single bit\nerror will result in an invalid codeword that is a distance 1 from the original valid\ncodeword but a distance at least 2 from all other valid codewords.As a result, the\ncode can always correct a single-bit error. Note that the code also will always\ndetect a double-bit error."
  },
  {
    "text": "d100111, 110012 = 4;\nd100111, 111102 = 3; d111001, 111102 = 3;\nd100000, 001112 = 3;\nd100000, 110012 = 3; d100000, 111102 = 4;\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nIt can be shown that the following conditions hold. For a given positive integer t,\nif a code satisfies \nthen the code can correct all bit errors up to\nand including errors of t bits."
  },
  {
    "text": "Con-\nversely, any code for which all errors of \nare corrected must satisfy\nand any code for which all errors of \ncorrected and all errors of magnitude t are detected must satisfy \nAnother way of putting the relationship between \nand t is to say that the\nmaximum number of guaranteed correctable errors per codeword satisfies\nmeans the largest integer not to exceed x (e.g.,\n)."
  },
  {
    "text": "Furthermore,\nif we are concerned only with error detection and not error correction, then the\nnumber of errors, t, that can be detected satisfies\nTo see this, consider that if \nerrors occur, this could change one valid code-\nword into another. Any number of errors less than \ncan not result in another\nvalid codeword. The design of a block code involves a number of considerations. 1."
  },
  {
    "text": "For given values of n and k, we would like the largest possible value of \n2. The code should be relatively easy to encode and decode, requiring minimal\nmemory and processing time. 3. We would like the number of extra bits,\nto be small, to reduce band-\n4."
  },
  {
    "text": "We would like the number of extra bits,\nto be large, to reduce error\nClearly, the last two objectives are in conflict, and tradeoffs must be made. It is instructive to examine Figure 6.8, based on [LEBO98]. The literature on\nerror-correcting codes frequently includes graphs of this sort to demonstrate the\neffectiveness of various encoding schemes."
  },
  {
    "text": "Recall from Chapter 5 that coding can be\nused to reduce the required \nvalue to achieve a given bit error rate.5 The coding\ndiscussed in Chapter 5 has to do with the definition of signal elements to represent\nbits."
  },
  {
    "text": "The coding discussed in this chapter also has an effect on \nIn Figure 6.8,\nthe curve on the right is for an uncoded modulation system; the shaded region rep-\nresents the area in which improvement can be achieved. In this region, a smaller\nBER (bit error rate) is achieved for a given \nand conversely, for a given BER,\nis required."
  },
  {
    "text": "The other curve is a typical result of a code rate of one-\nhalf (equal number of data and check bits)."
  },
  {
    "text": "Note that at an error rate of \nuse of coding allows a reduction in \nof 2.77 dB.This reduction is referred to as\nt = dmin - 1\nt = j dmin - 1\nmagnitude … 1t - 12\ndmin Ú 12t + 12,\nmagnitude … t\nerrors … 1t - 12\ndmin Ú 12t + 12,\nis the ratio of signal energy per bit to noise power density per Hertz; it is defined and discussed in\n6.5 / LINE CONFIGURATIONS\nthe coding gain, which is defined as the reduction, in decibels, in the required \nto achieve a specified BER of an error-correcting coded system compared to an\nuncoded system using the same modulation."
  },
  {
    "text": "It is important to realize that the BER for the second rate 1/2 curve refers to\nthe rate of uncorrected errors and that the \nvalue refers to the energy per data bit. Because the rate is 1/2, there are two bits on the channel for each data bit, and the\nenergy per coded bit is half that of the energy per data bit, or a reduction of 3 dB to\na value of 8 dB."
  },
  {
    "text": "If we look at the energy per coded bit for this system, then we see\nthat the channel bit error rate is about \nFinally, note that below a certain threshold of \n, the coding scheme actu-\nally degrades performance. In our example of Figure 6.8, the threshold occurs at\nabout 5.4 dB."
  },
  {
    "text": "Below the threshold, the extra check bits add overhead to the system\nthat reduces the energy per data bit causing increased errors. Above the threshold,\nthe error-correcting power of the code more than compensates for the reduced \nresulting in a coding gain. Two characteristics that distinguish various data link configurations are topology\nand whether the link is half duplex or full duplex."
  },
  {
    "text": "The topology of a data link refers to the physical arrangement of stations on a trans-\nmission medium."
  },
  {
    "text": "If there are only two stations (e.g., a terminal and a computer or\n2.4 * 10-2,\nHow Coding Improves System Performance \nProbability of bit error (BER)\n(Eb/N0) (dB)\nChannel bit\nerror probability\ncoding gain\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nTraditional Computer/Terminal Configurations\n(b) Multipoint\n(a) Point-to-point\n(secondaries)\ntwo computers), the link is point to point."
  },
  {
    "text": "If there are more than two stations, then it\nis a multipoint topology.Traditionally, a multipoint link has been used in the case of\na computer (primary station) and a set of terminals (secondary stations). In today’s\nenvironments, the multipoint topology is found in local area networks."
  },
  {
    "text": "Traditional multipoint topologies are made possible when the terminals are\nonly transmitting a fraction of the time. Figure 6.9 illustrates the advantages of the\nmultipoint configuration. If each terminal has a point-to-point link to its computer,\nthen the computer must have one I/O port for each terminal. Also there is a sepa-\nrate transmission line from the computer to each terminal."
  },
  {
    "text": "In a multipoint configu-\nration, the computer needs only a single I/O port and a single transmission line,\nwhich saves costs. Full Duplex and Half Duplex\nData exchanges over a transmission line can be classified as full duplex or half\nduplex. With half-duplex transmission, only one of two stations on a point-to-point\nlink may transmit at a time."
  },
  {
    "text": "This mode is also referred to as two-way alternate, sug-\ngestive of the fact that two stations must alternate in transmitting."
  },
  {
    "text": "For full-duplex transmission, two stations can simultaneously send and receive\ndata from each other.Thus, this mode is known as two-way simultaneous and may be\ncompared to a two-lane, two-way bridge. For computer-to-computer data exchange,\nthis form of transmission is more efficient than half-duplex transmission."
  },
  {
    "text": "With digital signaling, which requires guided transmission, full-duplex opera-\ntion usually requires two separate transmission paths (e.g., two twisted pairs), while\nhalf duplex requires only one."
  },
  {
    "text": "For analog signaling, it depends on frequency: If a sta-\ntion transmits and receives on the same frequency, it must operate in half-duplex\nmode for wireless transmission, although it may operate in full-duplex mode for\nguided transmission using two separate transmission lines."
  },
  {
    "text": "If a station transmits on\none frequency and receives on another, it may operate in full-duplex mode for wire-\nless transmission and in full-duplex mode with a single line for guided transmission. It is possible to transmit digital signals simultaneously in both directions on a\nsingle transmission line using a technique called echo cancellation."
  },
  {
    "text": "This is a signal\nprocessing technique whose explanation is beyond the scope of this book. The classic treatment of error detecting codes and CRC is [PETE61]. [RAMA88] is an excel-\nlent tutorial on CRC. [STAL05] discusses most of the widely used error-correcting codes. [ADAM91] pro-\nvides comprehensive treatment of error-correcting codes."
  },
  {
    "text": "[SKLA01] contains a clear, well-\nwritten section on the subject. Two useful survey articles are [BERL87] and [BHAR83]. A\nquite readable theoretical and mathematical treatment of error-correcting codes is [ASH90]. [FREE98] provides good coverage of many physical layer interface standards. Adamek, J. Foundations of Coding. New York:Wiley, 1991. Ash, R. Information Theory. New York: Dover, 1990."
  },
  {
    "text": "Berlekamp, E.; Peile, R.; and Pope, S. “The Application of Error Control to\nCommunications.” IEEE Communications Magazine, April 1987. Bhargava, V. “Forward Error Correction Schemes for Digital Communica-\ntions.” IEEE Communications Magazine, January 1983. Freeman, R. Telecommunication Transmission Handbook. New York: Wiley,\nPeterson, W., and Brown, D."
  },
  {
    "text": "What is a major disadvantage of asynchronous transmission? How is synchronization provided for synchronous transmission? What is a parity bit? What is the CRC? Why would you expect a CRC to detect more errors than a parity bit? List three different ways in which the CRC algorithm can be described."
  },
  {
    "text": "Is it possible to design an ECC that will correct some double bit errors but not all\ndouble bit errors? Why or why not? In an (n, k) block ECC, what do n and k represent? Suppose a file of 10,000 bytes is to be sent over a line at 2400 bps. Calculate the overhead in bits and time in using asynchronous communication."
  },
  {
    "text": "Assume one start bit and a stop element of length one bit, and 8 bits to send the\nbyte itself for each character. The 8-bit character consists of all data bits, with no\nparity bit. b. Calculate the overhead in bits and time using synchronous communication. Assume that the data are sent in frames. Each frame consists of 1000 characters \u0001\n8000 bits and an overhead of 48 control bits per frame."
  },
  {
    "text": "What would the answers to parts (a) and (b) be for a file of 100,000 characters? d. What would the answers to parts (a) and (b) be for the original file of 10,000 char-\nacters except at a data rate of 9600 bps? A data source produces 7-bit IRA characters."
  },
  {
    "text": "Derive an expression of the maximum\neffective data rate (rate of IRA data bits) over an x-bps line for the following:\nAsynchronous transmission, with a 1.5-unit stop element and a parity bit. b. Synchronous transmission, with a frame consisting of 48 control bits and 128 infor-\nmation bits. The information field contains 8-bit (parity included) IRA characters."
  },
  {
    "text": "Same as part (b), except that the information field is 1024 bits. Demonstrate by example (write down a few dozen arbitrary bit patterns; assume one\nstart bit and a stop element of length one bit) that a receiver that suffers a framing\nerror on asynchronous transmission will eventually become realigned."
  },
  {
    "text": "What percentage of clock inaccuracy can be tolerated at the\nreceiver with respect to the framing error? Assume that the bit samples are taken at\nthe middle of the clock period. Also assume that at the beginning of the start bit the\nclock and incoming bits are in phase."
  },
  {
    "text": "Suppose that a synchronous serial data transmission is clocked by two clocks (one at\nthe sender and one at the receiver) that each have a drift of 1 minute in one year. How long a sequence of bits can be sent before possible clock drift could cause a\nproblem?"
  },
  {
    "text": "Assume that a bit waveform will be good if it is sampled within 40% of its\ncenter and that the sender and receiver are resynchronized at the beginning of each\nframe. Note that the transmission rate is not a factor, as both the bit period and the\nabsolute timing error decrease proportionately at higher transmission rates."
  },
  {
    "text": "Would you expect that the inclusion of a parity bit with each character would change\nthe probability of receiving a correct message? Two communicating devices are using a single-bit even parity check for error detec-\ntion. The transmitter sends the byte 10101010 and, because of channel noise, the\nreceiver gets the byte 10011010. Will the receiver detect the error? Why or why not?"
  },
  {
    "text": "What is the purpose of using modulo 2 arithmetic rather than binary arithmetic in\ncomputing an FCS? Consider a frame consisting of two characters of four bits each.Assume that the prob-\nability of bit error is \nand that it is independent for each bit. What is the probability that the received frame contains at least one error? b. Now add a parity bit to each character.What is the probability?"
  },
  {
    "text": "Using the CRC-CCITT polynomial, generate the 16-bit CRC code for a message con-\nsisting of a 1 followed by 15 0s. Use long division. b. Use the shift register mechanism shown in Figure 6.6. Explain in words why the shift register implementation of CRC will result in all 0s at\nthe receiver if there are no errors. Demonstrate by example. find the CRC."
  },
  {
    "text": "A CRC is constructed to generate a 4-bit FCS for an 11-bit message. The generator\npolynomial is \nDraw the shift register circuit that would perform this task (see Figure 6.6). b. Encode the data bit sequence 10011011100 (leftmost bit is the least significant)\nusing the generator polynomial and give the codeword."
  },
  {
    "text": "Now assume that bit 7 (counting from the LSB) in the codeword is in error and\nshow that the detection algorithm detects the error. In a CRC error-detecting scheme, choose \nEncode the bits\n10010011011. b. Suppose the channel introduces an error pattern 100010000000000 (i.e., a flip\nfrom 1 to 0 or from 0 to 1 in position 1 and 5).What is received?"
  },
  {
    "text": "Can the error be\nRepeat part (b) with error pattern 100110000000000. A modified CRC procedure is commonly used in communications standards. It is\ndefined as follows:\nFCS = L1X2 + R1X2\nX16D1X2 + XkL1X2\nP1x2 = x4 + x + 1. X4 + X3 + 1. M = 11100011,\nCHAPTER 6 / DIGITAL DATA COMMUNICATION TECHNIQUES\nand k is the number of bits being checked (address, control, and information fields)."
  },
  {
    "text": "Describe in words the effect of this procedure. b. Explain the potential benefits. Show a shift register implementation for \nCalculate the Hamming pairwise distances among the following codewords:\n00000, 10101, 01010\nb. 000000, 010101, 101010, 110110\nSection 6.4 discusses block error-correcting codes that make a decision on the\nbasis of minimum distance."
  },
  {
    "text": "That is, given a code consisting of s equally likely\ncodewords of length n, for each received sequence v, the receiver selects the\ncodeword w for which the distance d(w, v) is a minimum. We would like to prove\nthat this scheme is “ideal” in the sense that the receiver always selects the code-\nword for which the probability of w given v,\nis a maximum."
  },
  {
    "text": "Because all\ncodewords are assumed equally likely, the codeword that maximizes \nsame as the codeword that maximizes \nIn order that w be received as v, there must be exactly d(w, v) errors in transmis-\nsion, and these errors must occur in those bits where w and v disagree."
  },
  {
    "text": "Let \nthe probability that a given bit is transmitted incorrectly and n be the length of a\ncodeword.Write an expression for \nas a function of \nd(w, v), and n. Hint:\nThe number of bits in error is d(w, v) and the number of bits not in error is\nb."
  },
  {
    "text": "Now compare \nfor two different codewords \nAssume that \nand show that \nif and only if\nThis proves that the codeword w that gives the largest value\nis that word whose distance from v is a minimum. Section 6.4 states that for a given positive integer t, if a code satisfies \nthen the code can correct all bit errors up to and including errors of t bits. Prove this\nassertion."
  },
  {
    "text": "Hint: Start by observing that for a codeword w to be decoded as another\nthe received sequence must be at least as close to \nis added above the physical layer discussed in Chapter 6;this logic is referred to as\ndata link control or a data link control protocol.When a data link control protocol\nis used, the transmission medium between systems is referred to as a data link."
  },
  {
    "text": "To see the need for data link control, we list some of the requirements and\nobjectives for effective data communication between two directly connected\ntransmitting-receiving stations:\n• Frame synchronization: Data are sent in blocks called frames.The beginning\nand end of each frame must be recognizable.We briefly introduced this topic\nwith the discussion of synchronous frames (Figure 6.2)."
  },
  {
    "text": "• Flow control: The sending station must not send frames at a rate faster\nthan the receiving station can absorb them. • Error control: Bit errors introduced by the transmission system should be\n• Addressing: On a shared link, such as a local area network (LAN), the\nidentity of the two stations involved in a transmission must be specified."
  },
  {
    "text": "CHAPTER 7 / DATA LINK CONTROL PROTOCOLS\n7.1 / FLOW CONTROL\n• Control and data on same link: It is usually not desirable to have a physi-\ncally separate communications path for control information. Accordingly,\nthe receiver must be able to distinguish control information from the data\nbeing transmitted."
  },
  {
    "text": "• Link management: The initiation, maintenance, and termination of a sus-\ntained data exchange require a fair amount of coordination and coopera-\ntion among stations."
  },
  {
    "text": "Procedures for the management of this exchange are\nNone of these requirements is satisfied by the techniques described in\nChapter 6.We shall see in this chapter that a data link protocol that satisfies these\nrequirements is a rather complex affair.We begin by looking at two key mecha-\nnisms that are part of data link control: flow control and error control."
  },
  {
    "text": "Following\nthis background we look at the most important example of a data link control\nprotocol: HDLC (high-level data link control).This protocol is important for two\nreasons: First, it is a widely used standardized data link control protocol."
  },
  {
    "text": "Second,\nHDLC serves as a baseline from which virtually all other important data link\n1On a direct point-to-point link, the amount of delay is fixed rather than variable. However, a data link\ncontrol protocol can be used over a network connection, such as a circuit-switched or ATM network, in\nwhich case the delay may be variable."
  },
  {
    "text": "CHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nDestination\n(a) Error-free transmission\nDestination\n(b) Transmission with\nlosses and errors\nModel of Frame Transmission\nStop-and-Wait Flow Control\nThe simplest form of flow control, known as stop-and-wait flow control, works as\nfollows. A source entity transmits a frame."
  },
  {
    "text": "After the destination entity receives the\nframe, it indicates its willingness to accept another frame by sending back an\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nWhen a is greater than 1, the propagation time is greater than the transmission time. In this case, the sender completes transmission of the entire frame before the lead-\ning bits of that frame arrive at the receiver."
  },
  {
    "text": "Put another way, larger values of a are\nconsistent with higher data rates and/or longer distances between stations. Appen-\ndix 7A discusses a and data link performance. Both parts of Figure 7.2 (a and b) consist of a sequence of snapshots of\nthe transmission process over time."
  },
  {
    "text": "In both cases, the first four snapshots show the\nprocess of transmitting a frame containing data, and the last snapshot shows the\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\n0 through 7, and then the same numbers are reused for subsequent frames. The\nshaded rectangle indicates the frames that may be sent; in this figure, the sender may\ntransmit five frames, beginning with frame 0."
  },
  {
    "text": "Each time a frame is sent, the shaded\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nError control refers to mechanisms to detect and correct errors that occur in the\ntransmission of frames. The model that we will use, which covers the typical case, is\nillustrated in Figure 7.1b."
  },
  {
    "text": "As before, data are sent as a sequence of frames; frames\narrive in the same order in which they are sent; and each transmitted frame suffers\nan arbitrary and potentially variable amount of delay before reception. In addition,\nwe admit the possibility of two types of errors:\n• Lost frame: A frame fails to arrive at the other side."
  },
  {
    "text": "For example, a noise burst\nmay damage a frame to the extent that the receiver is not aware that a frame\nhas been transmitted. • Damaged frame: A recognizable frame does arrive, but some of the bits are in\nerror (have been altered during transmission)."
  },
  {
    "text": "The most common techniques for error control are based on some or all of the\nfollowing ingredients:\n• Error detection: As discussed in the Chapter 6. 2This figure indicates the time required to transmit a frame. For simplicity, other figures in this chapter do\nnot show this time."
  },
  {
    "text": "All of these forms are based on the use of the flow control techniques dis-\ncussed in Section 7.1.We examine each in turn. Stop-and-Wait ARQ\nStop-and-wait ARQ is based on the stop-and-wait flow control technique outlined\npreviously."
  },
  {
    "text": "The source station transmits a single frame and then must await an\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nStop-and-Wait ARQ\nmission time\nmission time\nPropagation time\nTimeout interval\nPDU 0 lost;\nA retransmits\nTimeout interval\nA retransmits\nduplicate PDU\nsliding-window flow control technique."
  },
  {
    "text": "While no errors occur, the destination will\nacknowledge incoming frames as usual (\nor piggybacked\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nSliding-Window ARQ Protocols\nRR (P bit \u0001 1)\n(a) Go-back-N ARQ\n4, 5, and 6\nretransmitted\nDiscarded by\nRR (P bit \u0001 1)\n(b) Selective-reject ARQ\n4 retransmitted\nBuffered by\nIn Section 7.1, we mentioned that for a k-bit sequence number field, which pro-\nvides a sequence number range of \nthe maximum window size is limited to \nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nHIGH-LEVEL DATA LINK CONTROL (HDLC)\nThe most important data link control protocol is HDLC (ISO 3009, ISO 4335)."
  },
  {
    "text": "Not\nonly is HDLC widely used, but it is the basis for many other important data link\ncontrol protocols, which use the same or similar formats and the same mechanisms\nas employed in HDLC. Basic Characteristics\nTo satisfy a variety of applications, HDLC defines three types of stations, two \nlink configurations, and three data transfer modes of operation."
  },
  {
    "text": "The three station\n• Primary station: Responsible for controlling the operation of the link. Frames\nissued by the primary are called commands. • Secondary station: Operates under the control of the primary station. Frames\nissued by a secondary are called responses. The primary maintains a separate\nlogical link with each secondary station on the line."
  },
  {
    "text": "• Combined station: Combines the features of primary and secondary. A com-\nbined station may issue both commands and responses."
  },
  {
    "text": "The two link configurations are\n• Unbalanced configuration: Consists of one primary and one or more sec-\nondary stations and supports both full-duplex and half-duplex transmis-\n• Balanced configuration: Consists of two combined stations and supports both\nfull-duplex and half-duplex transmission. The three data transfer modes are\n• Normal response mode (NRM): Used with an unbalanced configuration."
  },
  {
    "text": "The\nprimary may initiate data transfer to a secondary, but a secondary may only\ntransmit data in response to a command from the primary. • Asynchronous balanced mode (ABM): Used with a balanced configuration. Either combined station may initiate transmission without receiving permis-\nsion from the other combined station. • Asynchronous response mode (ARM): Used with an unbalanced configura-\ntion."
  },
  {
    "text": "The secondary may initiate transmission without explicit permission of\nthe primary. The primary still retains responsibility for the line, including ini-\ntialization, error recovery, and logical disconnection. NRM is used on multidrop lines, in which a number of terminals are connected\nto a host computer. The computer polls each terminal for input."
  },
  {
    "text": "NRM is also some-\ntimes used on point-to-point links, particularly if the link connects a terminal or\nother peripheral to a computer.ABM is the most widely used of the three modes; it\nmakes more efficient use of a full-duplex point-to-point link because there is no\npolling overhead."
  },
  {
    "text": "ARM is rarely used; it is applicable to some special situations in\nwhich a secondary may need to initiate transmission."
  },
  {
    "text": "7.3 / HIGH-LEVEL DATA LINK CONTROL (HDLC)\nInformation\n(a) Frame format\nI: Information\nS: Supervisory\nU: Unnumbered\nN(S) \u0001 Send sequence number\nN(R) \u0001 Receive sequence number\nS \u0001 Supervisory function bits\nM \u0001 Unnumbered function bits\nP/F \u0001 Poll/final bit\n(c) 8-bit control field format\nInformation\nSupervisory\n(d) 16-bit control field format\n9 10 11 12 13 14 15 16\n(b) Extended address field\nFrame Structure\nHDLC uses synchronous transmission."
  },
  {
    "text": "All transmissions are in the form of frames,\nand a single frame format suffices for all types of data and control exchanges. Figure 7.7 depicts the structure of the HDLC frame.The flag, address, and con-\ntrol fields that precede the information field are known as a header. The FCS and\nflag fields following the data field are referred to as a trailer."
  },
  {
    "text": "Flag Fields Flag fields delimit the frame at both ends with the unique pattern\n01111110.A single flag may be used as the closing flag for one frame and the opening\nflag for the next. On both sides of the user-network interface, receivers are continu-\nously hunting for the flag sequence to synchronize on the start of a frame."
  },
  {
    "text": "While\nreceiving a frame, a station continues to hunt for that sequence to determine the end\nof the frame."
  },
  {
    "text": "Because the protocol allows the presence of arbitrary bit patterns (i.e.,\nthere are no restrictions on the content of the various fields imposed by the link pro-\ntocol), there is no assurance that the pattern 01111110 will not appear somewhere\ninside the frame, thus destroying synchronization.To avoid this problem, a procedure\nknown as bit stuffing is used."
  },
  {
    "text": "For all bits between the starting and ending flags, the\ntransmitter inserts an extra 0 bit after each occurrence of five 1s in the frame. After\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nBit Stuffing\nOriginal pattern:\nAfter bit-stuffing:\ndetecting a starting flag, the receiver monitors the bit stream.When a pattern of five\n1s appears, the sixth bit is examined. If this bit is 0, it is deleted."
  },
  {
    "text": "If the sixth bit is a 1\nand the seventh bit is a 0, the combination is accepted as a flag. If the sixth and sev-\nenth bits are both 1, the sender is indicating an abort condition. With the use of bit stuffing, arbitrary bit patterns can be inserted into the data\nfield of the frame.This property is known as data transparency. Figure 7.8 shows an example of bit stuffing."
  },
  {
    "text": "Note that in the first two cases, the\nextra 0 is not strictly necessary for avoiding a flag pattern but is necessary for the\noperation of the algorithm. Address Field The address field identifies the secondary station that transmitted\nor is to receive the frame. This field is not needed for point-to-point links but is\nalways included for the sake of uniformity."
  },
  {
    "text": "The address field is usually 8 bits long\nbut, by prior agreement, an extended format may be used in which the actual\naddress length is a multiple of 7 bits. The leftmost bit of each octet is 1 or 0 accord-\ning as it is or is not the last octet of the address field."
  },
  {
    "text": "The remaining 7 bits of each\noctet form part of the address.The single-octet address of 11111111 is interpreted as\nthe all-stations address in both basic and extended formats. It is used to allow the\nprimary to broadcast a frame for reception by all secondaries. Control Field HDLC defines three types of frames, each with a different control\nfield format."
  },
  {
    "text": "Information frames (I-frames) carry the data to be transmitted for the\nuser (the logic above HDLC that is using HDLC). Additionally, flow and error con-\ntrol data, using the ARQ mechanism, are piggybacked on an information frame. Supervisory frames (S-frames) provide the ARQ mechanism when piggybacking is\nnot used."
  },
  {
    "text": "Unnumbered frames (U-frames) provide supplemental link control func-\ntions.The first one or two bits of the control field serves to identify the frame type.The\nremaining bit positions are organized into subfields as indicated in Figures 7.7c and d. Their use is explained in the discussion of HDLC operation later in this chapter. All of the control field formats contain the poll/final (P/F) bit."
  },
  {
    "text": "Its use depends\non context. Typically, in command frames, it is referred to as the P bit and is set to\n1 to solicit (poll) a response frame from the peer HDLC entity. In response frames,\nit is referred to as the F bit and is set to 1 to indicate the response frame transmitted\nas a result of a soliciting command. Note that the basic control field for S- and I-frames uses 3-bit sequence num-\nbers."
  },
  {
    "text": "With the appropriate set-mode command, an extended control field can be\nused for S- and I-frames that employs 7-bit sequence numbers. U-frames always\ncontain an 8-bit control field. Information Field The information field is present only in I-frames and some\nU-frames."
  },
  {
    "text": "The field can contain any sequence of bits but must consist of an integral\n7.3 / HIGH-LEVEL DATA LINK CONTROL (HDLC)\nnumber of octets.The length of the information field is variable up to some system-\ndefined maximum. Frame Check Sequence Field The frame check sequence (FCS) is an error-\ndetecting code calculated from the remaining bits of the frame, exclusive of flags."
  },
  {
    "text": "The normal code is the 16-bit CRC-CCITT defined in Section 6.3. An optional \n32-bit FCS, using CRC-32, may be employed if the frame length or the line reliabil-\nity dictates this choice. HDLC operation consists of the exchange of I-frames, S-frames, and U-frames\nbetween two stations.The various commands and responses defined for these frame\ntypes are listed in Table 7.1."
  },
  {
    "text": "In describing HDLC operation, we will discuss these\nthree types of frames. HDLC Commands and Responses\nDescription\nInformation (I)\nExchange user data\nSupervisory (S)\nReceive ready (RR)\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nThe operation of HDLC involves three phases. First, one side or another ini-\ntializes the data link so that frames may be exchanged in an orderly fashion."
  },
  {
    "text": "Dur-\ning this phase, the options that are to be used are agreed upon. After\ninitialization, the two sides exchange user data and the control information to\nexercise flow and error control. Finally, one of the two sides signals the termina-\ntion of the operation. Initialization Either side may request initialization by issuing one of the six set-\nmode commands.This command serves three purposes:\n1."
  },
  {
    "text": "It signals the other side that initialization is requested. 2. It specifies which of the three modes (NRM,ABM,ARM) is requested. 3. It specifies whether 3- or 7-bit sequence numbers are to be used. If the other side accepts this request, then the HDLC module on that end\ntransmits an unnumbered acknowledged (UA) frame back to the initiating side."
  },
  {
    "text": "If\nthe request is rejected, then a disconnected mode (DM) frame is sent. Data Transfer When the initialization has been requested and accepted, then a\nlogical connection is established. Both sides may begin to send user data in I-\nframes, starting with sequence number 0. The N(S) and N(R) fields of the I-frame\nare sequence numbers that support flow control and error control."
  },
  {
    "text": "An HDLC\nmodule sending a sequence of I-frames will number them sequentially, modulo 8\nor 128, depending on whether 3- or 7-bit sequence numbers are used, and place\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nfigure (Figure 7.9a) shows the disconnect procedure. One side issues a DISC com-\nmand, and the other responds with a UA response. Figure 7.9b illustrates the full-duplex exchange of I-frames."
  },
  {
    "text": "When an entity\nsends a number of I-frames in a row with no incoming data, then the receive\nsequence number is simply repeated (e.g., I,1,1; I,2.1 in the A-to-B direction).When\nan entity receives a number of I-frames in a row with no outgoing frames, then the\nreceive sequence number in the next outgoing frame must reflect the cumulative\nactivity (e.g., I,1,3 in the B-to-A direction)."
  },
  {
    "text": "Note that, in addition to I-frames, data\nexchange may involve supervisory frames. Figure 7.9c shows an operation involving a busy condition.Such a condition may\narise because an HDLC entity is not able to process I-frames as fast as they are arriv-\ning, or the intended user is not able to accept data as fast as they arrive in I-frames."
  },
  {
    "text": "In\neither case, the entity’s receive buffer fills up and it must halt the incoming flow of \nI-frames, using an RNR command. In this example,A issues an RNR, which requires\nB to halt transmission of I-frames.The station receiving the RNR will usually poll the\nbusy station at some periodic interval by sending an RR with the P bit set."
  },
  {
    "text": "This\nrequires the other side to respond with either an RR or an RNR.When the busy con-\ndition has cleared,A returns an RR, and I-frame transmission from B can resume. An example of error recovery using the REJ command is shown in Figure\n7.9d. In this example, A transmits I-frames numbered 3, 4, and 5. Number 4 suffers\nan error and is lost."
  },
  {
    "text": "When B receives I-frame number 5, it discards this frame\nbecause it is out of order and sends an REJ with an N(R) of 4. This causes A to ini-\ntiate retransmission of I-frames previously sent, beginning with frame 4.A may con-\ntinue to send additional frames after the retransmitted frames. An example of error recovery using a timeout is shown in Figure 7.9e."
  },
  {
    "text": "In this\nexample,A transmits I-frame number 3 as the last in a sequence of I-frames.The frame\nsuffers an error. B detects the error and discards it. However, B cannot send an REJ,\nbecause there is no way to know if this was an I-frame.If an error is detected in a frame,\nall of the bits of that frame are suspect, and the receiver has no way to act upon it."
  },
  {
    "text": "A,\nhowever,would have started a timer as the frame was transmitted.This timer has a dura-\ntion long enough to span the expected response time.When the timer expires,A initiates\nrecovery action.This is usually done by polling the other side with an RR command with\nthe P bit set, to determine the status of the other side."
  },
  {
    "text": "Because the poll demands a\nresponse, the entity will receive a frame containing an N(R) field and be able to pro-\nceed. In this case, the response indicates that frame 3 was lost, which A retransmits. These examples are not exhaustive. However, they should give the reader a\ngood feel for the behavior of HDLC."
  },
  {
    "text": "Three classic papers, well worth reading, are [BENE64], [KONH80], and [BUX80].A readable\nsurvey with simplified performance results is [LIN84]. A more recent analysis is [ZORZ96]. Two books with good coverage of link-level performance are [SPRA91] and [WALR98]. [KLEI92] and [KLEI93] are two key papers that look at the implications of gigabit\ndata rates on performance."
  },
  {
    "text": "Fiorini, D.; Chiani, M.; Tralli, V.; and Salati, C. “Can We Trust HDLC?” ACM\nComputer Communications Review, October 1995. Kleinrock, L. “The Latency/Bandwidth Tradeoff in Gigabit Networks.” IEEE\nCommunications Magazine, April 1992. Kleinrock, L. “On the Modeling and Analysis of Computer Networks.”\nProceedings of the IEEE, August 1993."
  },
  {
    "text": "Konheim,A.“A Queuing Analysis of Two ARQ Protocols.” IEEE Transactions\non Communications, July 1980. Lin, S.; Costello, D.; and Miller, M. “Automatic-Repeat-Request Error-Control\nSchemes.” IEEE Communications Magazine, December 1984. Spragins, J.; Hammond, J.; and Pawlikowski, K. Telecommunications: Protocols\nand Design. Reading, MA:Addison-Wesley, 1991. Walrand, J."
  },
  {
    "text": "List common ingredients for error control for a link control protocol. Describe automatic repeat request (ARQ). List and briefly define three versions of ARQ. What are the station types supported by HDLC? Describe each. What are the transfer modes supported by HDLC? Describe each. What is the purpose of the flag field? Define data transparency. What are the three frame types supported by HDLC?"
  },
  {
    "text": "Describe each. Consider a half-duplex point-to-point link using a stop-and-wait scheme, in which a\nseries of messages is sent, with each message segmented into a number of frames. Ignore errors and frame overhead. What is the effect on line utilization of increasing the message size so that fewer\nmessages will be required? Other factors remain constant. b."
  },
  {
    "text": "What is the effect on line utilization of increasing the number of frames for a con-\nstant message size? What is the effect on line utilization of increasing frame size? The number of bits on a transmission line that are in the process of actively being trans-\nmitted (i.e.,the number of bits that have been transmitted but have not yet been received)\nis referred to as the bit length of the line."
  },
  {
    "text": "Plot the line distance versus the transmission\nspeed for a bit length of 1000 bits.Assume a propagation velocity of \nA channel has a data rate of 4 kbps and a propagation delay of 20 ms. For what range\nof frame sizes does stop-and-wait give an efficiency of at least 50%?"
  },
  {
    "text": "Consider the use of 1000-bit frames on a 1-Mbps satellite channel with a 270-ms\ndelay.What is the maximum link utilization for\nStop-and-wait flow control? b. Continuous flow control with a window size of 7? Continuous flow control with a window size of 127? d. Continuous flow control with a window size of 255? In Figure 7.10 frames are generated at node A and sent to node C through node B."
  },
  {
    "text": "Determine the minimum data rate required between nodes B and C so that the\nbuffers of node B are not flooded, based on the following:\nThe data rate between A and B is 100 kbps. The propagation delay is \nfor both lines. There are full duplex lines between the nodes."
  },
  {
    "text": "All data frames are 1000 bits long; ACK frames are separate frames of negligible\nBetween A and B, a sliding-window protocol with a window size of 3 is used. Between B and C, stop-and-wait is used. There are no errors. Hint: In order not to flood the buffers of B, the average number of frames enter-\ning and leaving B must be the same over a long interval. 2 * 108 m/s."
  },
  {
    "text": "Find a formula that gives the minimum sequence field size of the\nframe as a function of R, t, B, and L.(considering maximum utilization).Assume that\nACK frames are negligible in size and the processing at the nodes is instantaneous. No mention was made of reject (REJ) frames in the stop-and-wait ARQ discussion. Why is it not necessary to have REJ0 and REJ1 for stop-and-wait ARQ?"
  },
  {
    "text": "Does this suggest a side benefit of bit stuffing? Assume that the primary HDLC station in NRM has sent six I-frames to a secondary. The primary’s N(S) count was three (011 binary) prior to sending the six frames. If the\npoll bit is on in the sixth frame, what will be the N(R) count back from the secondary\nafter the last frame? Assume error-free operation."
  },
  {
    "text": "Consider that several physical links connect two stations. We would like to use a \n“multilink HDLC” that makes efficient use of these links by sending frames on a\nFIFO basis on the next available link.What enhancements to HDLC are needed? A World Wide Web server is usually set up to receive relatively small messages from\nits clients but to transmit potentially very large messages to them."
  },
  {
    "text": "Explain, then,\nwhich type of ARQ protocol (selective reject, go-back-N) would provide less of a bur-\nden to a particularly popular WWW server. CHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nError-Free Sliding-Window Flow Control\nFor sliding-window flow control, the throughput on the line depends on both the window\nsize W and the value of a."
  },
  {
    "text": "For convenience, let us again normalize frame transmission time\nto a value of 1; thus, the propagation time is a."
  },
  {
    "text": "Figure 7.11 illustrates the efficiency of a full\nduplex point-to-point line.3 Station A begins to emit a sequence of frames at time \nThe leading edge of the first frame reaches station B at \nThe first frame is entirely\nabsorbed by \nAssuming negligible processing time, B can immediately acknowl-\n3For simplicity, we assume that a is an integer, so that an integer number of frames exactly fills the line."
  },
  {
    "text": "The argument does not change for noninteger values of a. link, then the propagation time is (106 meters)/(2 * 108 m/s) = 0.5 * 10-2 seconds. At the other extreme, in terms of distance, is the local area network (LAN). Distances range from 0.1 to 10 km, with data rates of 10 Mbps to 1 Gbps; higher\ndata rates tend to be associated with shorter distances."
  },
  {
    "text": "Using a value of\na frame size of 1000 bits, and a data rate of 10 Mbps, the value\nof a is in the range of 0.005 to 0.5. This yields a utilization in the range of 0.5 to\n0.99. For a 100-Mbps LAN, given the shorter distances, comparable utilizations\nare possible. We can see that LANs are typically quite efficient, whereas high-speed\nWANs are not."
  },
  {
    "text": "As a final example, let us consider digital data transmission via\nmodem over a voice-grade line. A typical data rate is 56 kbps. Again, let us con-\nsider a 1000-bit frame. The link distance can be anywhere from a few tens of\nmeters to thousands of kilometers."
  },
  {
    "text": "If we pick, say, as a short distance \nthen a = (56,000 bps * 1000 m) /(2 * 108 m/s * 1000 bits) = 2.8 * 10-4, and utiliza-\ntion is effectively 1.0. Even in a long-distance case, such as \nand efficiency equals 0.26. a = 156,000 * 5 * 1062/12 * 108 * 1000 bits2 = 1.4\nd = 5000 km,\nd = 1000 m,\nV = 2 * 108 m/s,\n1/3701 = 0.00027."
  },
  {
    "text": "a = 10.5 * 10-22/12.7 * 10-62 L 1850,\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nWe have seen that sliding-window flow control is more efficient than stop-and-wait\nflow control. We would expect that when error control functions are added that this\nwould still be true: that is, that go-back-N and selective-reject ARQ are more efficient\nthan stop-and-wait ARQ."
  },
  {
    "text": "Let us develop some approximations to determine the\ndegree of improvement to be expected. First, consider stop-and-wait ARQ. With no errors, the maximum utilization is\nas shown in Equation (7.4).We want to account for the possibility that some\nframes are repeated because of bit errors."
  },
  {
    "text": "To start, note that the utilization U can be\nFor error-free operation using stop-and-wait ARQ,\nis the propagation time. Dividing by \nand remembering that \nagain have Equation (7.4)."
  },
  {
    "text": "If errors occur, we must modify Equation (7.7) to\nTt = total time that line is engaged in the transmission of a single frame\nTf = time for transmitter to emit a single frame\nUtilization\nFigure 7.12\nSliding-Window Utilization as a Function of a\nCHAPTER 7 / DATA LINK CONTROL PROTOCOLS\nNote that for \nboth selective-reject and go-back-N ARQ reduce to stop and wait."
  },
  {
    "text": "Figure 7.136 compares these three error control techniques for a value of \nfigure and the equations are only approximations. For example, we have ignored errors in\nCHAPTER 8 / MULTIPLEXING\nIt was impossible to get a conversation going, everybody was talking too much. To make efficient use of high-speed telecommunications lines, some\nform of multiplexing is used."
  },
  {
    "text": "Multiplexing allows several transmission\nsources to share a larger transmission capacity. The two common\nforms of multiplexing are frequency division multiplexing (FDM) and\ntime division multiplexing (TDM). Frequency division multiplexing can be used with analog signals. A\nnumber of signals are carried simultaneously on the same medium by\nallocating to each signal a different frequency band."
  },
  {
    "text": "Modulation equip-\nment is needed to move each signal to the required frequency band,and\nmultiplexing equipment is needed to combine the modulated signals. Synchronous time division multiplexing can be used with digital signals\nor analog signals carrying digital data."
  },
  {
    "text": "In this form of multiplexing, data\nfrom various sources are carried in repetitive frames.Each frame consists\nof a set of time slots, and each source is assigned one or more time slots\nper frame.The effect is to interleave bits of data from the various sources. Statistical time division multiplexing provides a generally more effi-\ncient service than synchronous TDM for the support of terminals."
  },
  {
    "text": "With statistical TDM, time slots are not preassigned to particular data\nsources. Rather, user data are buffered and transmitted as rapidly as\npossible using available time slots. In Chapter 7, we described efficient techniques for utilizing a data link under\nheavy load."
  },
  {
    "text": "Specifically, with two devices connected by a point-to-point link, it is\ngenerally desirable to have multiple frames outstanding so that the data link does\nnot become a bottleneck between the stations. Now consider the opposite prob-\nlem. Typically, two communicating stations will not utilize the full capacity of a\ndata link. For efficiency, it should be possible to share that capacity."
  },
  {
    "text": "A generic\nterm for such sharing is multiplexing. A common application of multiplexing is in long-haul communications. Trunks on long-haul networks are high-capacity fiber, coaxial, or microwave\nlinks.These links can carry large numbers of voice and data transmissions simul-\ntaneously using multiplexing."
  },
  {
    "text": "Figure 8.1 depicts the multiplexing function in its simplest form.There are n\ninputs to a multiplexer. The multiplexer is connected by a single data link to a\n1 link, n channels\nMultiplexing\ndemultiplexer. The link is able to carry n separate channels of data."
  },
  {
    "text": "The multi-\nplexer combines (multiplexes) data from the n input lines and transmits over a\nhigher-capacity data link.The demultiplexer accepts the multiplexed data stream,\nseparates (demultiplexes) the data according to channel, and delivers data to the\nappropriate output lines."
  },
  {
    "text": "The widespread use of multiplexing in data communications can be\nexplained by the following:\n• The higher the data rate, the more cost-effective the transmission facility. That is, for a given application and over a given distance, the cost per kbps\ndeclines with an increase in the data rate of the transmission facility."
  },
  {
    "text": "Simi-\nlarly, the cost of transmission and receiving equipment, per kbps, declines\nwith increasing data rate. • Most individual data communicating devices require relatively modest\ndata rate support. For example, for many terminal and personal computer\napplications that do not involve Web access or intensive graphics, a data\nrate of between 9600 bps and 64 kbps is generally adequate."
  },
  {
    "text": "The preceding statements were phrased in terms of data communicating\ndevices. Similar statements apply to voice communications. That is, the greater\nthe capacity of a transmission facility, in terms of voice channels, the less the cost\nper individual voice channel, and the capacity required for a single voice channel\nThis chapter concentrates on three types of multiplexing techniques."
  },
  {
    "text": "The\nfirst, frequency division multiplexing (FDM), is the most heavily used and is\nfamiliar to anyone who has ever used a radio or television set. The second is a\nparticular case of time division multiplexing (TDM) known as synchronous\nTDM."
  },
  {
    "text": "This is commonly used for multiplexing digitized voice streams and data\nstreams.The third type seeks to improve on the efficiency of synchronous TDM\nby adding complexity to the multiplexer. It is known by a variety of names,\nincluding statistical TDM, asynchronous TDM, and intelligent TDM. This book\nuses the term statistical TDM, which highlights one of its chief properties."
  },
  {
    "text": "Finally,\nwe look at the digital subscriber line, which combines FDM and synchronous\nTDM technologies. CHAPTER 8 / MULTIPLEXING\nCharacteristics\nFDM is possible when the useful bandwidth of the transmission medium exceeds the\nrequired bandwidth of signals to be transmitted."
  },
  {
    "text": "A number of signals can be carried\nsimultaneously if each signal is modulated onto a different carrier frequency and the\ncarrier frequencies are sufficiently separated that the bandwidths of the signals do\nnot significantly overlap. A general case of FDM is shown in Figure 8.2a."
  },
  {
    "text": "Six signal\n(b) Time division multiplexing\n(a) Frequency division multiplexing\nFDM and TDM\n8.1 / FREQUENCY DIVISION MULTIPLEXING\n1The term baseband is used to designate the band of frequencies of the signal delivered by the source and\npotentially used as a modulating signal. Typically, the spectrum of a baseband signal is significant in a\nband that includes or is in the vicinity of f = 0."
  },
  {
    "text": "sources are fed into a multiplexer, which modulates each signal onto a different fre-\nEach modulated signal requires a certain bandwidth centered on\nits carrier frequency, referred to as a channel. To prevent interference, the channels\nare separated by guard bands, which are unused portions of the spectrum. The composite signal transmitted across the medium is analog."
  },
  {
    "text": "Note, however,\nthat the input signals may be either digital or analog. In the case of digital input, the\ninput signals must be passed through modems to be converted to analog. In either\ncase, each input analog signal must then be modulated to move it to the appropriate\nfrequency band. 1f1, Á , f62."
  },
  {
    "text": "A generic depiction of an FDM system is shown in Figure 8.4.A number of analog\nor digital signals \nare to be multiplexed onto the same transmission\nmedium."
  },
  {
    "text": "Each signal \nis modulated onto a carrier ; because multiple carriers are\nto be used,each is referred to as a subcarrier.Any type of modulation may be used.The\nresulting analog,modulated signals are then summed to produce a composite baseband1\nFigure 8.4b shows the result."
  },
  {
    "text": "The spectrum of signal \nis shifted to\nbe centered on \nFor this scheme to work,\nmust be chosen so that the bandwidths\nof the various signals do not significantly overlap. Otherwise, it will be impossible to\nrecover the original signals. The composite signal may then be shifted as a whole to another carrier \nfrequency by an additional modulation step. We will see examples of this later."
  },
  {
    "text": "This second modulation step need not use the same modulation technique as the first. [mi1t2, i = 1, n]\nEXAMPLE 8.1\nA familiar example of FDM is broadcast and cable television. The television signal discussed in Chapter 3 fits comfortably into a 6-MHz\nbandwidth. Figure 8.3 depicts the transmitted TV signal and its bandwidth."
  },
  {
    "text": "The\nblack-and-white video signal is AM modulated on a carrier signal \nthe baseband video signal has a bandwidth of 4 MHz, we would expect the mod-\nulated signal to have a bandwidth of 8 MHz centered on \nTo conserve band-\nwidth, the signal is passed through a sideband filter so that most of the lower\nsideband is suppressed."
  },
  {
    "text": "The resulting signal extends from about \nA separate color carrier,\nis used to transmit color informa-\ntion. This is spaced far enough from \nthat there is essentially no interference. Finally, the audio portion of the signal is modulated on \noutside the effective\nbandwidth of the other two signals. A bandwidth of 50 kHz is allocated for the\naudio signal."
  },
  {
    "text": "The composite signal fits into a 6-MHz bandwidth with the video,\ncolor, and audio signal carriers at 1.25 MHz, 4.799545 MHz, and 5.75 MHz above\nthe lower edge of the band, respectively. Thus, multiple TV signals can be fre-\nquency division multiplexed on a CATV cable, each with a bandwidth of 6 MHz."
  },
  {
    "text": "Given the enormous bandwidth of coaxial cable (as much as 500 MHz), dozens\nof TV signals can be simultaneously carried using FDM. Of course, using radio-\nfrequency propagation through the atmosphere is also a form of FDM. fcv + 4.2 MHz."
  },
  {
    "text": "fcv - 0.75 MHz\nCHAPTER 8 / MULTIPLEXING\nWhite level\n(a) Amplitude modulation with video signal\n(b) Magnitude spectrum of RF video signal\n4.799545 MHz\nVideo signal\nTransmitted TV Signal\nThe FDM signal s(t) has a total bandwidth B, where \n. This analog\nsignal may be transmitted over a suitable medium."
  },
  {
    "text": "At the receiving end, the FDM\nsignal is demodulated to retrieve \nwhich is then passed through n bandpass\nfilters, each filter centered on \nand having a bandwidth \nway, the signal is again split into its component parts. Each component is then\ndemodulated to recover the original signal. EXAMPLE 8.2\nLet us consider a simple example of transmitting three voice\nsignals simultaneously over a medium."
  },
  {
    "text": "As was mentioned, the bandwidth of a\nvoice signal is generally taken to be 4 kHz, with an effective spectrum of 300 to\n3400 Hz (Figure 8.5a)."
  },
  {
    "text": "The\nfirst is crosstalk, which may occur if the spectra of adjacent component signals over-\nlap significantly. In the case of voice signals, with an effective bandwidth of only\n3100 Hz (300 to 3400), a 4-kHz bandwidth is adequate. The spectra of signals pro-\nduced by modems for voiceband transmission also fit well in this bandwidth. of 8 kHz, extending from 60 to 68 kHz."
  },
  {
    "text": "To make efficient use of bandwidth, we\nelect to transmit only the lower sideband. If three voice signals are used to mod-\nulate carriers at 64, 68, and 72 kHz, and only the lower sideband of each is taken,\nthe spectrum of Figure 8.5c results."
  },
  {
    "text": "CHAPTER 8 / MULTIPLEXING\n(a) Spectrum of voice signal\n(b) Spectrum of voice signal modulated on 64 kHz frequency\n(c) Spectrum of composite signal using subcarriers at 64 kHz, 68 kHz, and 72 kHz\nsideband, s1(t)\nsideband, s2(t)\nsideband, s3(t)\nFDM of Three Voiceband Signals\nAnother potential problem is intermodulation noise, which was discussed in\nChapter 3."
  },
  {
    "text": "On a long link, the nonlinear effects of amplifiers on a signal in one chan-\nnel could produce frequency components in other channels."
  },
  {
    "text": "Analog Carrier Systems\nThe long-distance carrier system provided in the United States and throughout the\nworld is designed to transmit voiceband signals over high-capacity transmission\nlinks, such as coaxial cable and microwave systems.The earliest, and still a very com-\nmon, technique for utilizing high-capacity links is FDM."
  },
  {
    "text": "In the United States,AT&T\nhas designated a hierarchy of FDM schemes to accommodate transmission systems\nof various capacities. A similar, but unfortunately not identical, system has been\nadopted internationally under the auspices of ITU-T (Table 8.1). At the first level of the AT&T hierarchy, 12 voice channels are combined to\nproduce a group signal with a bandwidth of \nin the range 60\nto 108 kHz."
  },
  {
    "text": "The signals are produced in a fashion similar to that described previ-\nously, using subcarrier frequencies of from 64 to 108 kHz in increments of 4 kHz."
  },
  {
    "text": "12 * 4 kHz = 48 kHz,\n8.1 / FREQUENCY DIVISION MULTIPLEXING\nThe next basic building block is the 60-channel supergroup, which is formed by fre-\nquency division multiplexing five group signals.At this step, each group is treated as\na single signal with a 48-kHz bandwidth and is modulated by a subcarrier. The\nsubcarriers have frequencies from 420 to 612 kHz in increments of 48 kHz."
  },
  {
    "text": "The\nresulting signal occupies 312 to 552 kHz. There are several variations to supergroup formation. Each of the five inputs\nto the supergroup multiplexer may be a group channel containing 12 multiplexed\nvoice signals."
  },
  {
    "text": "In addition, any signal up to 48 kHz wide whose bandwidth is con-\ntained within 60 to 108 kHz may be used as input to the supergroup multiplexer.As\nanother variation, it is possible to combine 60 voiceband channels into a super-\ngroup. This may reduce multiplexing costs where an interface with existing group\nmultiplexer is not required."
  },
  {
    "text": "The next level of the hierarchy is the mastergroup, which combines 10 super-\ngroup inputs. Again, any signal with a bandwidth of 240 kHz in the range 312 to \n552 kHz can serve as input to the mastergroup multiplexer. The mastergroup has a\nbandwidth of 2.52 MHz and can support 600 voice frequency (VF) channels. Higher-\nlevel multiplexing is defined above the mastergroup, as shown in Table 8.1."
  },
  {
    "text": "Note that the original voice or data signal may be modulated many times. For\nexample,a data signal may be encoded using QPSK to form an analog voice signal.This\nsignal could then be used to modulate a 76-kHz carrier to form a component of a group\nsignal."
  },
  {
    "text": "This group signal could then be used to modulate a 516-kHz carrier to form a\ncomponent of a supergroup signal.Each stage can distort the original data;this is so,for\nexample, if the modulator/multiplexer contains nonlinearities or introduces noise."
  },
  {
    "text": "Wavelength Division Multiplexing\nThe true potential of optical fiber is fully exploited when multiple beams of light at\ndifferent frequencies are transmitted on the same fiber."
  },
  {
    "text": "This is a form of frequency\ndivision multiplexing (FDM) but is commonly called wavelength division multiplex-\ning (WDM).With WDM, the light streaming through the fiber consists of many col-\nors, or wavelengths, each carrying a separate channel of data."
  },
  {
    "text": "In 1997, a landmark\nwas reached when Bell Laboratories was able to demonstrate a WDM system with\n100 beams each operating at 10 Gbps, for a total data rate of 1 trillion bits per second\nNorth American and International FDM Carrier Standards\nNumber of Voice\n312–552 kHz\n812–2044 kHz\nMastergroup\n564–3084 kHz\nMastergroup\n8.516–12.388 MHz\nSupermaster group\nMastergroup multiplex\n0.564–17.548 MHz\n3.124–60.566 MHz\nJumbogroup multiplex\nCHAPTER 8 / MULTIPLEXING\n(also referred to as 1 terabit per second or 1 Tbps)."
  },
  {
    "text": "Commercial systems with 160\nchannels of 10 Gbps are now available. In a lab environment,Alcatel has carried 256\nchannels at 39.8 Gbps each, a total of 10.1 Tbps, over a 100-km span. A typical WDM system has the same general architecture as other FDM systems."
  },
  {
    "text": "A number of sources generate a laser beam at different wavelengths.These are sent to\na multiplexer, which consolidates the sources for transmission over a single fiber line. Optical amplifiers, typically spaced tens of kilometers apart, amplify all of the wave-\nlengths simultaneously."
  },
  {
    "text": "Finally, the composite signal arrives at a demultiplexer, where\nthe component channels are separated and sent to receivers at the destination point. Most WDM systems operate in the 1550-nm range. In early systems, 200 GHz\nwas allocated to each channel, but today most WDM systems use 50-GHz spacing."
  },
  {
    "text": "The channel spacing defined in ITU-T G.692, which accommodates 80 50-GHz\nchannels, is summarized in Table 8.2. The term dense wavelength division multiplexing (DWDM) is often seen in\nthe literature. There is no official or standard definition of this term. The term con-\nnotes the use of more channels, more closely spaced, than ordinary WDM."
  },
  {
    "text": "In gen-\neral, a channel spacing of 200 GHz or less could be considered dense. Characteristics\nSynchronous time division multiplexing is possible when the achievable data rate\n(sometimes, unfortunately, called bandwidth) of the medium exceeds the data rate\nof digital signals to be transmitted."
  },
  {
    "text": "Multiple digital signals (or analog signals carry-\ning digital data) can be carried on a single transmission path by interleaving por-\ntions of each signal in time."
  },
  {
    "text": "The interleaving can be at the bit level or in blocks of\nITU WDM Channel Spacing (G.692)\nFrequency (THz)\nWavelength in\nVacuum (nm)\n8.2 / SYNCHRONOUS TIME DIVISION MULTIPLEXING\n(a) Transmitter\n(c) Receiver\n(b) TDM frames\nTime slot: may be\nempty or occupied\nSynchronous TDM System\nbytes or larger quantities. For example, the multiplexer in Figure 8.2b has six inputs\nthat might each be, say, 9.6 kbps."
  },
  {
    "text": "A single line with a capacity of at least 57.6 kbps\n(plus overhead capacity) could accommodate all six sources. A generic depiction of a synchronous TDM system is provided in Figure 8.6.A\nnumber of signals \nare to be multiplexed onto the same transmission\nmedium.The signals carry digital data and are generally digital signals.The incoming\ndata from each source are briefly buffered."
  },
  {
    "text": "Each buffer is typically one bit or one\ncharacter in length.The buffers are scanned sequentially to form a composite digital\ndata stream \nThe scan operation is sufficiently rapid so that each buffer is emp-\ntied before more data can arrive.Thus, the data rate of \nmust at least equal the\nsum of the data rates of the \nThe digital signal \nmay be transmitted\n[mi1t2, i = 1, n]\nCHAPTER 8 / MULTIPLEXING\ndirectly, or passed through a modem so that an analog signal is transmitted."
  },
  {
    "text": "In either\ncase, transmission is typically synchronous. The transmitted data may have a format something like Figure 8.6b. The data\nare organized into frames. Each frame contains a cycle of time slots. In each frame,\none or more slots are dedicated to each data source.The sequence of slots dedicated\nto one source, from frame to frame, is called a channel."
  },
  {
    "text": "The slot length equals the\ntransmitter buffer length, typically a bit or a byte (character). The byte-interleaving technique is used with asynchronous and synchronous\nsources. Each time slot contains one character of data. Typically, the start and stop\nbits of each character are eliminated before transmission and reinserted by the\nreceiver, thus improving efficiency."
  },
  {
    "text": "The bit-interleaving technique is used with syn-\nchronous sources and may also be used with asynchronous sources. Each time slot\ncontains just one bit. At the receiver, the interleaved data are demultiplexed and routed to the\nappropriate destination buffer."
  },
  {
    "text": "For each input source \nthere is an identical out-\nput destination that will receive the output data at the same rate at which it was\nSynchronous TDM is called synchronous not because synchronous transmis-\nsion is used, but because the time slots are preassigned to sources and fixed. The\ntime slots for each source are transmitted whether or not the source has data to\nsend."
  },
  {
    "text": "This is, of course, also the case with FDM. In both cases, capacity is wasted to\nachieve simplicity of implementation. Even when fixed assignment is used, however,\nit is possible for a synchronous TDM device to handle sources of different data\nrates. For example, the slowest input device could be assigned one slot per cycle,\nwhile faster devices are assigned multiple slots per cycle."
  },
  {
    "text": "TDM Link Control\nThe reader will note that the transmitted data stream depicted in Figure 8.6b does\nnot contain the headers and trailers that we have come to associate with synchronous\ntransmission.The reason is that the control mechanisms provided by a data link pro-\ntocol are not needed."
  },
  {
    "text": "It is instructive to ponder this point, and we do so by consider-\ning two key data link control mechanisms:flow control and error control.It should be\nclear that, as far as the multiplexer and demultiplexer (Figure 8.1) are concerned,\nflow control is not needed.The data rate on the multiplexed line is fixed,and the mul-\ntiplexer and demultiplexer are designed to operate at that rate."
  },
  {
    "text": "But suppose that one\nof the individual output lines attaches to a device that is temporarily unable to accept\ndata. Should the transmission of TDM frames cease? Clearly not, because the\nremaining output lines are expecting to receive data at predetermined times. The\nsolution is for the saturated output device to cause the flow of data from the corre-\nsponding input device to cease."
  },
  {
    "text": "Thus, for a while, the channel in question will carry\nempty slots, but the frames as a whole will maintain the same transmission rate. The reasoning for error control is the same. It would not do to request retrans-\nmission of an entire TDM frame because an error occurs on one channel."
  },
  {
    "text": "The\ndevices using the other channels do not want a retransmission nor would they know\nthat a retransmission has been requested by some other device on another channel. Again, the solution is to apply error control on a per-channel basis."
  },
  {
    "text": "8.2 / SYNCHRONOUS TIME DIVISION MULTIPLEXING\n(a) Configuration\n(c) Multiplexed data stream\n(b) Input data streams\nInput2\u0007\u0007\u0007 F2\nInput1\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\nf2 F1 d2 f1 d2 f1 d2 d1 d2 d1 C2 d1 A2 C1 F2 A1 f2 F1 f2 f1 d2 f1 d2 d1 d2 d1 d2 d1 C2 C1 A2 A1 F2 F1\nF \u0001 flag field\nA \u0001 address field\nC \u0001 control field\nd \u0001 one octet of data field\nf \u0001 one octet of FCS field\nUse of Data Link Control on TDM Channels\nFlow control and error control can be provided on a per-channel basis\nby using a data link control protocol such as HDLC on a per-channel basis."
  },
  {
    "text": "A\nsimplified example is shown in Figure 8.7. We assume two data sources, each using\nHDLC. One is transmitting a stream of HDLC frames containing three octets of\ndata each, and the other is transmitting HDLC frames containing four octets of\ndata. For clarity, we assume that character-interleaved multiplexing is used,\nalthough bit interleaving is more typical."
  },
  {
    "text": "Notice what is happening.The octets of the\nHDLC frames from the two sources are shuffled together for transmission over the\nmultiplexed line. The reader may initially be uncomfortable with this diagram,\nbecause the HDLC frames have lost their integrity in some sense. For example, each\nframe check sequence (FCS) on the line applies to a disjointed set of bits. Even the\nFCS is not in one piece."
  },
  {
    "text": "However, the pieces are reassembled correctly before they\nare seen by the device on the other end of the HDLC protocol. In this sense, the mul-\ntiplexing/demultiplexing operation is transparent to the attached stations; to each\ncommunicating pair of stations, it appears that they have a dedicated link. One refinement is needed in Figure 8.7."
  },
  {
    "text": "Both ends of the line need to be a com-\nbination multiplexer/demultiplexer with a full-duplex line in between. Then each\nchannel consists of two sets of slots, one traveling in each direction. The individual\ndevices attached at each end can, in pairs, use HDLC to control their own channel. The multiplexer/demultiplexers need not be concerned with these matters."
  },
  {
    "text": "Framing We have seen that a link control protocol is not needed to manage the\noverall TDM link. There is, however, a basic requirement for framing. Because we\nare not providing flag or SYNC characters to bracket TDM frames, some means is\nneeded to assure frame synchronization."
  },
  {
    "text": "It is clearly important to maintain framing\nsynchronization because, if the source and destination are out of step, data on all\nchannels are lost. Perhaps the most common mechanism for framing is known as added-digit\nframing. In this scheme, typically, one control bit is added to each TDM frame."
  },
  {
    "text": "An identifiable pattern of bits, from frame to frame, is used as a “control channel.”\nCHAPTER 8 / MULTIPLEXING\nA typical example is the alternating bit pattern, 101010. . . .This is a pattern unlikely\nto be sustained on a data channel. Thus, to synchronize, a receiver compares the\nincoming bits of one frame position to the expected pattern."
  },
  {
    "text": "If the pattern does not\nmatch, successive bit positions are searched until the pattern persists over multiple\nframes. Once framing synchronization is established, the receiver continues to\nmonitor the framing bit channel. If the pattern breaks down, the receiver must\nagain enter a framing search mode."
  },
  {
    "text": "Pulse Stuffing Perhaps the most difficult problem in the design of a synchro-\nnous time division multiplexer is that of synchronizing the various data sources. If\neach source has a separate clock, any variation among clocks could cause loss of\nsynchronization. Also, in some cases, the data rates of the input data streams are\nnot related by a simple rational number."
  },
  {
    "text": "With pulse stuffing, the outgoing\ndata rate of the multiplexer, excluding framing bits, is higher than the sum of the\nmaximum instantaneous incoming rates.The extra capacity is used by stuffing extra\ndummy bits or pulses into each incoming signal until its rate is raised to that of a\nlocally generated clock signal."
  },
  {
    "text": "The stuffed pulses are inserted at fixed locations in\nthe multiplexer frame format so that they may be identified and removed at the\ndemultiplexer. EXAMPLE 8.3\nAn example, from [COUC01], illustrates the use of synchronous\nTDM to multiplex digital and analog sources (Figure 8.8)."
  },
  {
    "text": "Consider that there are\n11 sources to be multiplexed on a single link:\nAnalog, 2-kHz bandwidth\nAnalog, 4-kHz bandwidth\nAnalog, 2-kHz bandwidth\nSources 4–11: Digital, 7200 bps synchronous\nAs a first step, the analog sources are converted to digital using PCM."
  },
  {
    "text": "Recall from Chapter 5 that PCM is based on the sampling theorem, which dic-\ntates that a signal be sampled at a rate equal to twice its bandwidth. Thus, the\nrequired sampling rate is 4000 samples per second for sources 1 and 3, and 8000\nsamples per second for source 2. These samples, which are analog (PAM), must\nthen be quantized or digitized."
  },
  {
    "text": "Let us assume that 4 bits are used for each analog\nsample. For convenience, these three sources will be multiplexed first, as a unit."
  },
  {
    "text": "At a scan rate of 4 kHz, one PAM sample each is taken from sources 1 and 3, and\ntwo PAM samples are taken from source 2 per scan.These four samples are inter-\nleaved and converted to 4-bit PCM samples.Thus, a total of 16 bits is generated at\na rate of 4000 times per second, for a composite bit rate of 64 kbps."
  },
  {
    "text": "For the digital sources, pulse stuffing is used to raise each source to a rate of\n8 kbps, for an aggregate data rate of 64 kbps. A frame can consist of multiple\ncycles of 32 bits, each containing 16 PCM bits and two bits from each of the eight\ndigital sources."
  },
  {
    "text": "8.2 / SYNCHRONOUS TIME DIVISION MULTIPLEXING\nFrom source 1\n2 kHz, analog\n4 kHz, analog\nTDM PCM signal\nTDM PAM signal\n16 k samples/s\noutput signal\nFrom source 2\nFrom source 3\n2 kHz, analog\nFrom source 4\n7.2 kbps, digital\nFrom source 5\n7.2 kbps, digital\n8 kbps, digital\n8 kbps, digital\n8 kbps, digital\nFrom source 11\n7.2 kbps, digital\nTDM of Analog and Digital Sources [COUC01]\nNorth American and International TDM Carrier Standards\nNorth American\nInternational (ITU-T)\nDesignation\nDigital Carrier Systems\nThe long-distance carrier system provided in the United States and throughout the\nworld was designed to transmit voice signals over high-capacity transmission links,\nsuch as optical fiber, coaxial cable, and microwave."
  },
  {
    "text": "Part of the evolution of these\ntelecommunications networks to digital technology has been the adoption of\nsynchronous TDM transmission structures. In the United States,AT&T developed a\nhierarchy of TDM structures of various capacities; this structure is used in Canada\nand Japan as well as the United States."
  },
  {
    "text": "A similar, but unfortunately not identical,\nhierarchy has been adopted internationally under the auspices of ITU-T (Table 8.3). CHAPTER 8 / MULTIPLEXING\n1. The first bit is a framing bit, used for synchronization. 2. Voice channels:\n\u00078-bit PCM used on five of six frames. \u00077-bit PCM used on every sixth frame; bit 8 of each channel is a signaling bit. 3."
  },
  {
    "text": "Data channels:\n\u0007Channel 24 is used for signaling only in some schemes. \u0007Bits 1–7 used for 56-kbps service\n\u0007Bits 2–7 used for 9.6-, 4.8-, and 2.4-kbps service. DS-1 Transmission Format\nThe basis of the TDM hierarchy (in North America and Japan) is the DS-1\ntransmission format (Figure 8.9), which multiplexes 24 channels."
  },
  {
    "text": "Each frame con-\ntains 8 bits per channel plus a framing bit for \ntransmission, the following rules apply. Each channel contains one word of digitized\nvoice data.The original analog voice signal is digitized using pulse code modulation\n(PCM) at a rate of 8000 samples per second.Therefore, each channel slot and hence\neach frame must repeat 8000 times per second."
  },
  {
    "text": "With a frame length of 193 bits, we\nhave a data rate of \nFor five of every six frames, 8-bit\nPCM samples are used. For every sixth frame, each channel contains a 7-bit PCM\nword plus a signaling bit. The signaling bits form a stream for each voice channel\nthat contains network control and routing information. For example, control signals\nare used to establish a connection or terminate a call."
  },
  {
    "text": "The same DS-1 format is used to provide digital data service. For compatibility\nwith voice, the same 1.544-Mbps data rate is used. In this case, 23 channels of data\nare provided.The twenty-fourth channel position is reserved for a special sync byte,\nwhich allows faster and more reliable reframing following a framing error."
  },
  {
    "text": "Within\neach channel, 7 bits per frame are used for data, with the eighth bit used to indicate\nwhether the channel, for that frame, contains user data or system control data.With\n7 bits per channel, and because each frame is repeated 8000 times per second, a data\nrate of 56 kbps can be provided per channel. Lower data rates are provided using a\ntechnique known as subrate multiplexing."
  },
  {
    "text": "For this technique, an additional bit is\nrobbed from each channel to indicate which subrate multiplexing rate is being pro-\nvided.This leaves a total capacity per channel of \nThis capacity\nis used to multiplex five 9.6-kbps channels, ten 4.8-kbps channels, or twenty 2.4-kbps\nchannels."
  },
  {
    "text": "For example, if channel 2 is used to provide 9.6-kbps service, then up to\nfive data subchannels share this channel.The data for each subchannel appear as six\nbits in channel 2 every fifth frame. 6 * 8000 = 48 kbps. 8000 * 193 = 1.544 Mbps. 24 * 8 + 1 = 193 bits."
  },
  {
    "text": "8.2 / SYNCHRONOUS TIME DIVISION MULTIPLEXING\nSONET/SDH Signal Hierarchy\nSONET Designation\nITU-T Designation\nPayload Rate (Mbps)\n50.112 Mbps\n155.52 Mbps\n150.336 Mbps\n466.56 Mbps\n451.008 Mbps\nSTS-12/OC-12\n622.08 Mbps\n601.344 Mbps\nSTS-18/OC-18\n933.12 Mbps\n902.016 Mbps\nSTS-24/OC-24\n1.24416 Gbps\n1.202688 Gbps\nSTS-36/OC-36\n1.86624 Gbps\n1.804032 Gbps\nSTS-48/OC-48\n2.48832 Gbps\n2.405376 Gbps\nSTS-96/OC-96\n4.87664 Gbps\n4.810752 Gbps\nSTS-192/OC-192\n9.95328 Gbps\n9.621504 Gbps\n39.81312 Gbps\n38.486016 Gbps\n159.25248 Gbps\n153.944064 Gbps\n2In what follows, we will use the term SONET to refer to both specifications."
  },
  {
    "text": "Where differences exist,\nthese will be addressed. 3An OC-N rate is the optical equivalent of an STS-N electrical signal. End-user devices transmit and\nreceive electrical signals; these must be converted to and from optical signals for transmission over opti-\nFinally, the DS-1 format can be used to carry a mixture of voice and data chan-\nnels."
  },
  {
    "text": "In this case, all 24 channels are utilized; no sync byte is provided. Above the DS-1 data rate of 1.544 Mbps, higher-level multiplexing is achieved\nby interleaving bits from DS-1 inputs. For example, the DS-2 transmission system\ncombines four DS-1 inputs into a 6.312-Mbps stream. Data from the four sources\nare interleaved 12 bits at a time."
  },
  {
    "text": "Note that \nThe remaining\ncapacity is used for framing and control bits. SONET (Synchronous Optical Network) is an optical transmission interface orig-\ninally proposed by BellCore and standardized by ANSI."
  },
  {
    "text": "A compatible version,\nreferred to as Synchronous Digital Hierarchy (SDH), has been published by ITU-\nT in Recommendation G.707.2 SONET is intended to provide a specification for\ntaking advantage of the high-speed digital transmission capability of optical fiber. Signal Hierarchy The SONET specification defines a hierarchy of standardized\ndigital data rates (Table 8.4)."
  },
  {
    "text": "The lowest level, referred to as STS-1 (Synchronous\nTransport Signal level 1) or OC-1 (Optical Carrier level 1),3 is 51.84 Mbps.This rate\ncan be used to carry a single DS-3 signal or a group of lower-rate signals, such as\nDS1, DS1C, DS2, plus ITU-T rates (e.g., 2.048 Mbps)."
  },
  {
    "text": "Multiple STS-1 signals can be combined to form an STS-N signal.The signal is\ncreated by interleaving bytes from N STS-1 signals that are mutually synchronized. For the ITU-T Synchronous Digital Hierarchy, the lowest rate is 155.52 Mbps,\nwhich is designated STM-1.This corresponds to SONET STS-3. 1.544 * 4 = 6.176 Mbps."
  },
  {
    "text": "CHAPTER 8 / MULTIPLEXING\nTransport overhead\nSynchronous payload envelope (SPE)\nSection overhead\nLine overhead\nPath overhead\n(a) STS-1 frame format\n(b) STM-N frame format\nSection overhead\n9 \u0006 N octets\nSTM-N payload\n261 \u0006 N octets\n270 \u0006 N octets\nFigure 8.10\nSONET/SDH Frame Formats\nFrame Format The basic SONET building block is the STS-1 frame, which con-\nsists of 810 octets and is transmitted once every \nfor an overall data rate of\n51.84 Mbps (Figure 8.10a)."
  },
  {
    "text": "The frame can logically be viewed as a matrix of 9 rows\nof 90 octets each, with transmission being one row at a time, from left to right and\ntop to bottom. The first three columns \nof the frame are\ndevoted to overhead octets."
  },
  {
    "text": "Nine octets are devoted to section-related overhead\n13 octets * 9 rows = 27 octets2\n(b) Path overhead\n(a) Transport overhead\nFigure 8.11\nSONET STS-1 Overhead Octets\n8.2 / SYNCHRONOUS TIME DIVISION MULTIPLEXING\nSTS-1 Overhead Bits\nSection Overhead\nhex; used to synchronize the beginning of the frame. STS-1 ID identifies the STS-1 number (1 to N) for each STS-1 within an STS-N multiplex."
  },
  {
    "text": "Bit-interleaved parity byte providing even parity over previous STS-N frame after scrambling;\nthe ith bit of this octet contains the even parity value calculated from the ith bit position of all\noctets in the previous frame. Section level 64-kbps PCM orderwire; optional 64-kbps voice channel to be used between \nsection terminating equipment, hubs, and remote terminals."
  },
  {
    "text": "64-kbps channel set aside for user purposes. 192-kbps data communications channel for alarms, maintenance, control, and administration\nbetween sections. Line Overhead\nPointer bytes used in frame alignment and frequency adjustment of payload data. Bit-interleaved parity for line level error monitoring."
  },
  {
    "text": "Two bytes allocated for signaling between line level automatic protection switching equipment;\nuses a bit-oriented protocol that provides for error protection and management of the SONET\noptical link. 576-kbps data communications channel for alarms, maintenance, control, monitoring, and \nadministration at the line level. Reserved for future use. 64-kbps PCM voice channel for line level orderwire."
  },
  {
    "text": "Path Overhead\n64-kbps channel used to send repetitively a 64-octet fixed-length string so a receiving terminal\nCHAPTER 8 / MULTIPLEXING\nFigure 8.11b shows the arrangement of path overhead octets, and Table 8.5 defines\nFigure 8.10b shows the general format for higher-rate frames, using the ITU-T\ndesignation."
  },
  {
    "text": "Characteristics\nIn a synchronous time division multiplexer, it is often the case that many of the time\nslots in a frame are wasted. A typical application of a synchronous TDM involves\nlinking a number of terminals to a shared computer port. Even if all terminals are\nactively in use, most of the time there is no data transfer at any particular terminal."
  },
  {
    "text": "An alternative to synchronous TDM is statistical TDM. The statistical multi-\nplexer exploits this common property of data transmission by dynamically allocating\ntime slots on demand. As with a synchronous TDM, the statistical multiplexer has a\nnumber of I/O lines on one side and a higher-speed multiplexed line on the other. Each I/O line has a buffer associated with it."
  },
  {
    "text": "In the case of the statistical multiplexer,\nthere are n I/O lines, but only k, where \ntime slots available on the TDM\nframe.For input,the function of the multiplexer is to scan the input buffers,collecting\ndata until a frame is filled, and then send the frame. On output, the multiplexer\nreceives a frame and distributes the slots of data to the appropriate output buffers."
  },
  {
    "text": "Because statistical TDM takes advantage of the fact that the attached devices\nare not all transmitting all of the time, the data rate on the multiplexed line is less\nthan the sum of the data rates of the attached devices.Thus, a statistical multiplexer\ncan use a lower data rate to support as many devices as a synchronous multiplexer."
  },
  {
    "text": "Alternatively, if a statistical multiplexer and a synchronous multiplexer both use a\nlink of the same data rate, the statistical multiplexer can support more devices."
  },
  {
    "text": "Figure 8.12 contrasts statistical and synchronous TDM.The figure depicts four\ndata sources and shows the data produced in four time epochs \ncase of the synchronous multiplexer, the multiplexer has an effective output rate of\nfour times the data rate of any of the input devices. During each epoch, data are col-\nlected from all four sources and sent out."
  },
  {
    "text": "For example, in the first epoch, sources C\nand D produce no data. Thus, two of the four time slots transmitted by the multi-\nplexer are empty. In contrast, the statistical multiplexer does not send empty slots if there are\ndata to send. Thus, during the first epoch, only slots for A and B are sent. However,\nthe positional significance of the slots is lost in this scheme."
  },
  {
    "text": "It is not known ahead of\ntime which source’s data will be in any particular slot. Because data arrive from and\nare distributed to I/O lines unpredictably, address information is required to assure\nproper delivery. Thus, there is more overhead per slot for statistical TDM because\neach slot carries an address as well as data."
  },
  {
    "text": "The frame structure used by a statistical multiplexer has an impact on perfor-\nmance. Clearly, it is desirable to minimize overhead bits to improve throughput.Typi-\ncally, a statistical TDM system will use a synchronous protocol such as HDLC.Within\nthe HDLC frame, the data frame must contain control bits for the multiplexing\n1t0, t1, t2, t32."
  },
  {
    "text": "8.3 / STATISTICAL TIME DIVISION MULTIPLEXING\nt0 t1 t2 t3 t4\nTo remote computer\nSynchronous time\ndivision multiplexing\nStatistical time\ndivision multiplexing\nFirst cycle\nSecond cycle\nFirst cycle\nSecond cycle\nUnused capacity\nFigure 8.12\nSynchronous TDM Compared with Statistical TDM\nStatistical TDM subframe\n(a) Overall frame\n(b) Subframe with one source per frame\n(c) Subframe with multiple sources per frame\nFigure 8.13\nStatistical TDM Frame Formats\noperation."
  },
  {
    "text": "Figure 8.13 shows two possible formats. In the first case, only one source of\ndata is included per frame. That source is identified by an address. The length of the\ndata field is variable, and its end is marked by the end of the overall frame. This\nscheme can work well under light load but is quite inefficient under heavy load."
  },
  {
    "text": "A way to improve efficiency is to allow multiple data sources to be packaged\nin a single frame. Now, however, some means is needed to specify the length of\ndata for each source. Thus, the statistical TDM subframe consists of a sequence of\ndata fields, each labeled with an address and a length. Several techniques can be\nused to make this approach even more efficient."
  },
  {
    "text": "The address field can be reduced\nby using relative addressing. That is, each address specifies the number of the cur-\nrent source relative to the previous source, modulo the total number of sources. So, for example, instead of an 8-bit address field, a 4-bit field might suffice. CHAPTER 8 / MULTIPLEXING\nAnother refinement is to use a 2-bit label with the length field."
  },
  {
    "text": "A value of 00,\n01, or 10 corresponds to a data field of 1, 2, or 3 bytes; no length field is necessary.A\nvalue of 11 indicates that a length field is included. Yet another approach is to multiplex one character from each data source that\nhas a character to send in a single data frame. In this case the frame begins with a bit\nmap that has a bit length equal to the number of sources."
  },
  {
    "text": "For each source that trans-\nmits a character during a given frame, the corresponding bit is set to one."
  },
  {
    "text": "Performance\nWe have said that the data rate of the output of a statistical multiplexer is less than the\nsum of the data rates of the inputs.This is allowable because it is anticipated that the\naverage amount of input is less than the capacity of the multiplexed line.The difficulty\nwith this approach is that, while the average aggregate input may be less than the mul-\ntiplexed line capacity, there may be peak periods when the input exceeds capacity."
  },
  {
    "text": "The solution to this problem is to include a buffer in the multiplexer to hold\ntemporary excess input. Table 8.6 gives an example of the behavior of such systems. We assume 10 sources, each capable of 1000 bps, and we assume that the average\nExample of Statistical Multiplexer Performance\nCapacity \u0001 5000 bps\nCapacity \u0001 7000 bps\naInput = 10 sources, 1000 bps/source; average input \nof maximum."
  },
  {
    "text": "8.3 / STATISTICAL TIME DIVISION MULTIPLEXING\ninput per source is 50% of its maximum.Thus, on average, the input load is 5000 bps. Two cases are shown: multiplexers of output capacity 5000 bps and 7000 bps."
  },
  {
    "text": "The\nentries in the table show the number of bits input from the 10 devices each millisec-\nond and the output from the multiplexer.When the input exceeds the output, back-\nlog develops that must be buffered."
  },
  {
    "text": "There is a tradeoff between the size of the buffer used and the data rate of the\nline.We would like to use the smallest possible buffer and the smallest possible data\nrate, but a reduction in one requires an increase in the other."
  },
  {
    "text": "Note that we are not so\nmuch concerned with the cost of the buffer—memory is cheap—as we are with the\nfact that the more buffering there is, the longer the delay.Thus, the tradeoff is really\none between system response time and the speed of the multiplexed line. In this sec-\ntion, we present some approximate measures that examine this tradeoff. These are\nsufficient for most purposes."
  },
  {
    "text": "Let us define the following parameters for a statistical time division multiplexer:\nWe have defined M taking into account the overhead bits introduced by the\nmultiplexer. That is, M represents the maximum rate at which data bits can be\ntransmitted. The parameter K is a measure of the compression achieved by the multiplexer."
  },
  {
    "text": "For example, for a given data rate M, if \nthere are four times as many\ndevices being handled as by a synchronous time division multiplexer using the same\nlink capacity.The value of K can be bounded:\ncorresponds to a synchronous time division multiplexer, because\nthe system has the capacity to service all input devices at the same time. If \nthe input will exceed the multiplexer’s capacity."
  },
  {
    "text": "Some results can be obtained by viewing the multiplexer as a single-server\nqueue.A queuing situation arises when a “customer” arrives at a service facility and,\nfinding it busy, is forced to wait. The delay incurred by a customer is the time spent\nwaiting in the queue plus the time for the service.The delay depends on the pattern\nof arriving traffic and the characteristics of the server."
  },
  {
    "text": "Table 8.7 summarizes results\nfor the case of random (Poisson) arrivals and constant service time. For details, see\nCHAPTER 8 / MULTIPLEXING\nThe average arrival rate \nin bps, is the total potential input (IR) times the fraction\nthat each source is transmitting.The service time \nin seconds, is the time\nit takes to transmit one bit, which is 1/M."
  },
  {
    "text": "Note that\nThe parameter \nis the utilization or fraction of total link capacity being used. For\nexample, if the capacity M is 50 kbps and \nthe load on the system is 25 kbps. The parameter N in Table 8.7 is a measure of the amount of buffer space being used\nin the multiplexer. Finally,\nis a measure of the average delay encountered by an\ninput source."
  },
  {
    "text": "Figure 8.14 gives some insight into the nature of the tradeoff between system\nresponse time and the speed of the multiplexed line. It assumes that data are being\ntransmitted in 1000-bit frames. Figure 8.14a shows the average number of frames\nthat must be buffered as a function of the average utilization of the multiplexed line."
  },
  {
    "text": "The utilization is expressed as a percentage of the total line capacity. Thus, if the\naverage input load is 5000 bps, the utilization is 100% for a line capacity of 5000 bps\nand about 71% for a line capacity of 7000 bps. Figure 8.14b shows the average delay\nexperienced by a frame as a function of utilization and data rate."
  },
  {
    "text": "Note that as the\nutilization rises, so do the buffer requirements and the delay. A utilization above\n80% is clearly undesirable. Note that the average buffer size being used depends only on \ndirectly on M."
  },
  {
    "text": "For example, consider the following two cases:\nr = lTs = aIR\nSingle-Server Queues with Constant Service Times and Poisson (Random) Arrivals\nnumber of arrivals per second\ntime for each arrival\nfraction of time server is busy\nnumber of items in system (waiting and being served)\ntime; mean time an item spends in system (waiting and being served)\ndeviation of \n211 - r2 + r\nsr = standard\nTr = residence\nr = utilization;\nTs = service\n8.3 / STATISTICAL TIME DIVISION MULTIPLEXING\n(a) Mean buffer size versus utilization\n(b) Mean delay versus utilization\nLine utilization\nBuffer size (frames)\nLine utilization\nM \u0001 100 kbps\nM \u0001 50 kbps\nM \u0001 25 kbps\nFigure 8.14\nBuffer Size and Delay for a Statistical Multiplexer\nIn both cases, the value of \nis 0.8 and the mean buffer size is \nportionately, a smaller amount of buffer space per source is needed for multiplexers\nthat handle a larger number of sources."
  },
  {
    "text": "Figure 8.14b also shows that the average\ndelay will be smaller as the link capacity increases, for constant utilization. So far, we have been considering average queue length, and hence the average\namount of buffer capacity needed. Of course, there will be some fixed upper bound\non the buffer size available. The variance of the queue size grows with utilization."
  },
  {
    "text": "Thus, at a higher level of utilization, a larger buffer is needed to hold the backlog. Even so, there is always a finite probability that the buffer will overflow. Figure 8.15\nM = 5000 bps\nM = 500 bps\nR = 100 bps\nR = 100 bps\nCHAPTER 8 / MULTIPLEXING\nshows the strong dependence of overflow probability on utilization."
  },
  {
    "text": "This figure and\nFigure 8.14, suggest that utilization above about 0.8 is undesirable. Cable Modem\nTo support data transfer to and from a cable modem, a cable TV provider dedicates\ntwo channels, one for transmission in each direction. Each channel is shared by a\nnumber of subscribers, and so some scheme is needed for allocating capacity on\neach channel for transmission."
  },
  {
    "text": "Typically, a form of statistical TDM is used, as illus-\ntrated in Figure 8.16. In the downstream direction, cable headend to subscriber, a\ncable scheduler delivers data in the form of small packets."
  },
  {
    "text": "Because the channel is\nshared by a number of subscribers, if more than one subscriber is active, each sub-\nscriber gets only a fraction of the downstream capacity.An individual cable modem\nsubscriber may experience access speeds from 500 kbps to 1.5 Mbps or more,\ndepending on the network architecture and traffic load. The downstream direction\nis also used to grant time slots to subscribers."
  },
  {
    "text": "When a subscriber has data to trans-\nmit, it must first request time slots on the shared upstream channel. Each subscriber\nis given dedicated time slots for this request purpose. The headend scheduler\nresponds to a request packet by sending back an assignment of future time slots to\nbe used by this subscriber. Thus, a number of subscribers can share the same\nupstream channel without conflict."
  },
  {
    "text": "Buffer size (characters)\nProbability of overflow\nFigure 8.15\nProbabilty of Overflow as a Function\nof Buffer Size\n8.4 / ASYMMETRIC DIGITAL SUBSCRIBER LINE\n2 minislots\nfor station X \nfrom station B \nRequest from\nfor station Y \nfrom station X \nFigure 8.16\nCable Modem Scheme [DUTT99]\nIn the implementation and deployment of a high-speed wide area public digital net-\nwork, the most challenging part is the link between subscriber and network: the dig-\nital subscriber line."
  },
  {
    "text": "With billions of potential endpoints worldwide, the prospect of\ninstalling new cable for each new customer is daunting. Instead, network designers\nhave sought ways of exploiting the installed base of twisted-pair wire that links\nvirtually all residential and business customers to telephone networks. These links\nwere installed to carry voice-grade signals in a bandwidth from zero to 4 kHz."
  },
  {
    "text": "How-\never, the wires are capable of transmitting signals over a far broader spectrum—\n1 MHz or more. ADSL is the most widely publicized of a family of new modem technologies\ndesigned to provide high-speed digital data transmission over ordinary telephone\nwire.ADSL is now being offered by a number of carriers and is defined in an ANSI\nstandard."
  },
  {
    "text": "In this section, we first look at the overall design of ADSL and then exam-\nine the key underlying technology, known as DMT. ADSL Design\nThe term asymmetric refers to the fact that ADSL provides more capacity down-\nstream (from the carrier’s central office to the customer’s site) than upstream (from\ncustomer to carrier)."
  },
  {
    "text": "ADSL was originally targeted at the expected need for video\non demand and related services. This application has not materialized. However,\nsince the introduction of ADSL technology, the demand for high-speed access to the\nInternet has grown. Typically, the user requires far higher capacity for downstream\nthan for upstream transmission."
  },
  {
    "text": "Most user transmissions are in the form of key-\nboard strokes or transmission of short e-mail messages, whereas incoming traffic,\nespecially Web traffic, can involve large amounts of data and include images or even\nvideo.Thus,ADSL provides a perfect fit for the Internet requirement."
  },
  {
    "text": "CHAPTER 8 / MULTIPLEXING\nADSL uses frequency division multiplexing (FDM) in a novel way to exploit\nthe 1-MHz capacity of twisted pair. There are three elements of the ADSL strategy\n(Figure 8.17):\n• Reserve lowest 25 kHz for voice, known as POTS (plain old telephone ser-\nvice)."
  },
  {
    "text": "The voice is carried only in the 0 to 4 kHz band; the additional band-\nwidth is to prevent crosstalk between the voice and data channels. • Use either echo cancellation4 or FDM to allocate two bands, a smaller\nupstream band and a larger downstream band. • Use FDM within the upstream and downstream bands."
  },
  {
    "text": "In this case, a single bit\nstream is split into multiple parallel bit streams and each portion is carried in a\nseparate frequency band. 4Echo cancellation is a signal processing technique that allows transmission of digital signals in both\ndirections on a single transmission line simultaneously."
  },
  {
    "text": "In essence, a transmitter must subtract the echo of\nits own transmission from the incoming signal to recover the signal sent by the other side."
  },
  {
    "text": "(a) Frequency division multiplexing\n(b) Echo cancellation\ncancellation\nFigure 8.17\nADSL Channel Configuration\n8.4 / ASYMMETRIC DIGITAL SUBSCRIBER LINE\nBits per hertz\nBits per hertz\nFigure 8.18\nDMT Bits per Channel Allocation\nWhen echo cancellation is used, the entire frequency band for the upstream\nchannel overlaps the lower portion of the downstream channel."
  },
  {
    "text": "This has two advan-\ntages compared to the use of distinct frequency bands for upstream and downstream. • The higher the frequency,the greater the attenuation.With the use of echo cancel-\nlation, more of the downstream bandwidth is in the “good” part of the spectrum. • The echo cancellation design is more flexible for changing upstream capacity."
  },
  {
    "text": "The upstream channel can be extended upward without running into the\ndownstream; instead, the area of overlap is extended. The disadvantage of the use of echo cancellation is the need for echo cancella-\ntion logic on both ends of the line. The ADSL scheme provides a range of up to 5.5 km, depending on the diame-\nter of the cable and its quality. This is sufficient to cover about 95% of all U.S."
  },
  {
    "text": "sub-\nscriber lines and should provide comparable coverage in other nations. Discrete Multitone\nDiscrete multitone (DMT) uses multiple carrier signals at different frequencies,\nsending some of the bits on each channel. The available transmission band\n(upstream or downstream) is divided into a number of 4-kHz subchannels."
  },
  {
    "text": "On ini-\ntialization, the DMT modem sends out test signals on each subchannel to determine\nthe signal-to-noise ratio. The modem then assigns more bits to channels with better\nsignal transmission qualities and less bits to channels with poorer signal transmis-\nsion qualities. Figure 8.18 illustrates this process. Each subchannel can carry a data\nrate of from 0 to 60 kbps."
  },
  {
    "text": "The figure shows a typical situation in which there is\nincreasing attenuation and hence decreasing signal-to-noise ratio at higher frequen-\ncies.As a result, the higher-frequency subchannels carry less of the load."
  },
  {
    "text": "Figure 8.19 provides a general block diagram for DMT transmission.After ini-\ntialization, the bit stream to be transmitted is divided into a number of substreams,\none for each subchannel that will carry data. The sum of the data rates of the sub-\nstreams is equal to the total data rate."
  },
  {
    "text": "Each substream is then converted to an ana-\nlog signal using quadrature amplitude modulation (QAM), described in Chapter 5. This scheme works easily because of QAM’s ability to assign different numbers of\nbits per transmitted signal. Each QAM signal occupies a distinct frequency band, so\nthese signals can be combined by simple addition to produce the composite signal\nfor transmission."
  },
  {
    "text": "CHAPTER 8 / MULTIPLEXING\nPresent ADSL/DMT designs employ 256 downstream subchannels. In theory,\nwith each 4-kHz subchannel carrying 60 kbps, it would be possible to transmit at a\nrate of 15.36 Mbps. In practice, transmission impairments prevent attainment of this\ndata rate. Current implementations operate at from 1.5 to 9 Mbps, depending on\nline distance and quality."
  },
  {
    "text": "ADSL is one of a number of recent schemes for providing high-speed digital trans-\nmission of the subscriber line. Table 8.8 summarizes and compares some of the most\nimportant of these new schemes, which collectively are referred to as xDSL."
  },
  {
    "text": "High Data Rate Digital Subscriber Line\nHDSL was developed in the late 1980s by BellCore to provide a more cost-effective\nmeans of delivering a T1 data rate (1.544 Mbps)."
  },
  {
    "text": "The standard T1 line uses alternate\nmark inversion (AMI) coding,which occupies a bandwidth of about 1.5 MHz.Because\nsuch high frequencies are involved, the attenuation characteristics limit the use of T1\nto a distance of about 1 km between repeaters.Thus, for many subscriber lines one or\nmore repeaters are required, which adds to the installation and maintenance expense."
  },
  {
    "text": "HDSL uses the 2B1Q coding scheme to provide a data rate of up to 2 Mbps\nover two twisted-pair lines within a bandwidth that extends only up to about 196\nkHz.This enables a range of about 3.7 km to be achieved."
  },
  {
    "text": "Echo cancellation is used to achieve full-duplex transmission over a single pair. Very High Data Rate Digital Subscriber Line\nOne of the newest xDSL schemes is VDSL.As of this writing, many of the details of\nthis signaling specification remain to be worked out. The objective is to provide a\nscheme similar to ADSL at a much higher data rate by sacrificing distance."
  },
  {
    "text": "The\nlikely signaling technique is DMT/QAM. VDSL does not use echo cancellation but provides separate bands for differ-\nent services, with the following tentative allocation:\n• POTS: 0–4 kHz\n• ISDN: 4–80 kHz\n• Upstream: 300–700 kHz\n• Downstream:\nA discussion of FDM and TDM carrier systems can be found in [FREE98] and [CARN99]. SONET is treated in greater depth in [STAL99] and in [TEKT01]."
  },
  {
    "text": "Useful articles on SONET\nare [BALL89] and [BOEH90[ A good overview of WDM is [MUKH00]. Two good articles on cable modems are [FELL01] and [CICI01]. [MAXW96] provides a useful a discussion of ADSL. Recommended treatments of\nxDSL are [HAWL97] and [HUMP97]. CHAPTER 8 / MULTIPLEXING\nBallart, R., and Ching, Y. “SONET: Now It’s the Standard Optical Network.”\nIEEE Communications Magazine, March 1989."
  },
  {
    "text": "New York: Wiley,\nHawley, G. “Systems Considerations for the Use of xDSL Technology for\nData Access.” IEEE Communications Magazine, March 1997. Humphrey, M., and Freeman, J. “How xDSL Supports Broadband Services to\nthe Home.” IEEE Network, January/March 1997. Maxwell, K. “Asymmetric Digital Subscriber Line: Interim Technology for\nthe Next Forty Years.” IEEE Communications Magazine, October 1996."
  },
  {
    "text": "How is interference avoided by using frequency division multiplexing? What is echo cancellation? Define upstream and downstream with respect to subscriber lines. Explain how synchronous time division multiplexing (TDM) works. Why is a statistical time division multiplexer more efficient than a synchronous time\ndivision multiplexer?"
  },
  {
    "text": "Using Table 8.3 as a guide, indicate the major difference between North American\nand international TDM carrier standards. Using Figure 8.14 as a guide, indicate the relationship between buffer size and line\nutilization. The information in four analog signals is to be multiplexed and transmitted over a\ntelephone channel that has a 400- to 3100-Hz bandpass."
  },
  {
    "text": "Each of the analog baseband\nsignals is bandlimited to 500 Hz. Design a communication system (block diagram)\nthat will allow the transmission of these four sources over the telephone channel using\nFrequency division multiplexing with SSB (single sideband) subcarriers\nb."
  },
  {
    "text": "Time division multiplexing using PCM; assume 4-bit samples\nShow the block diagrams of the complete system, including the transmission, channel,\nand reception portions. Include the bandwidths of the signals at the various points in\nthe systems. To paraphrase Lincoln: . . . all of the channel some of the time, some of the channel all\nof the time. . . ."
  },
  {
    "text": "Refer to Figure 8.2 and relate the preceding to the figure. Consider a transmission system using frequency division multiplexing.What cost fac-\ntors are involved in adding one more pair of stations to the system? In synchronous TDM, it is possible to interleave bits, one bit from each channel par-\nticipating in a cycle."
  },
  {
    "text": "Explain in terms of data link control and physical layer concepts how error and flow\ncontrol are accomplished in synchronous time division multiplexing. One of the 193 bits in the DS-1 transmission format is used for frame synchroniza-\ntion. Explain its use. In the DS-1 format, what is the control signal data rate for each voice channel?"
  },
  {
    "text": "Twenty-four voice signals are to be multiplexed and transmitted over twisted pair. What is the bandwidth required for FDM?"
  },
  {
    "text": "Assuming a bandwidth efficiency (ratio of\npulse stuffing\nstatistical TDM\nsynchronous TDM\ntime division multiplexing\nwavelength division \nmultiplexing (WDM)\nCHAPTER 8 / MULTIPLEXING\ndata rate to transmission bandwidth, as explained in Chapter 5) of 1 bps/Hz, what is\nthe bandwidth required for TDM using PCM?"
  },
  {
    "text": "Draw a block diagram similar to Figure 8.8 for a TDM PCM system that will accommo-\ndate four 300-bps, synchronous, digital inputs and one analog input with a bandwidth of\n500 Hz.Assume that the analog samples will be encoded into 4-bit PCM words."
  },
  {
    "text": "A character-interleaved time division multiplexer is used to combine the data streams\nof a number of 110-bps asynchronous terminals for data transmission over a 2400-bps\ndigital line.Each terminal sends asynchronous characters consisting of 7 data bits,1 par-\nity bit, 1 start bit, and 2 stop bits."
  },
  {
    "text": "Assume that one synchronization character is sent\nevery 19 data characters and, in addition, at least 3% of the line capacity is reserved for\npulse stuffing to accommodate speed variations from the various terminals. Determine the number of bits per character. b. Determine the number of terminals that can be accommodated by the multiplexer. Sketch a possible framing pattern for the multiplexer."
  },
  {
    "text": "Find the number of the following devices that could be accommodated by a T1-type\nTDM line if 1% of the T1 line capacity is reserved for synchronization purposes. 110-bps teleprinter terminals\nb. 300-bps computer terminals\n1200-bps computer terminals\nd."
  },
  {
    "text": "9600-bps computer output ports\n64-kbps PCM voice-frequency lines\nHow would these numbers change if each of the sources were transmitting an average\nof 10% of the time and a statistical multiplexer was used? Ten 9600-bps lines are to be multiplexed using TDM. Ignoring overhead bits in the\nTDM frame, what is the total capacity required for synchronous TDM?"
  },
  {
    "text": "Assuming\nthat we wish to limit average TDM link utilization to 0.8, and assuming that each\nTDM link is busy 50% of the time, what is the capacity required for statistical\nA synchronous nonstatistical TDM is to be used to combine four 4.8-kbps and one\n9.6-kbps signals for transmission over a single leased line. For framing, a block of\n7 bits (pattern 1011101) is inserted for each 48 data bits."
  },
  {
    "text": "The reframing algorithm (at\nthe receiving demultiplex) is as follows:\nArbitrarily select a bit position. Consider the block of 7 contiguous bits starting with that position. Observe that block of 7 bits each frame for 12 consecutive frames. If 10 of the 12 blocks match the framing pattern the system is “in-frame”; if not\nadvance one bit position and return to step 2. a."
  },
  {
    "text": "Draw the multiplexed bit stream (note that the 9.6kbps input may be treated as\ntwo 4.8-kbps inputs). b. What is the % overhead in the multiplexed bit stream? c. What is the multiplexed output bit rate? d. What is the minimum reframe time? What is the maximum reframe time? What is the Average reframe time? A company has two locations: a headquarters and a factory about 25 km away."
  },
  {
    "text": "The\nfactory has four 300-bps terminals that communicate with the central computer facil-\nities over leased voice-grade lines.The company is considering installing TDM equip-\nment so that only one line will be needed. What cost factors should be considered in\nthe decision?"
  },
  {
    "text": "In synchronous TDM, the I/O lines serviced by the two multiplexers may be either\nsynchronous or asynchronous although the channel between the two multiplexers\nmust be synchronous. Is there any inconsistency in this? Why or why not? Assume that you are to design a TDM carrier, say DS-489, to support 30 voice channels\nusing 6-bit samples and a structure similar to DS-1."
  },
  {
    "text": "Plot F versus L for \nand values of \nand 8.2 kbps. Comment\non the results and compare to Figure 8.14. In statistical TDM, there may be a length field.What alternative could there be to the\ninclusion of a length field?"
  },
  {
    "text": "She and a partner who later joined her effort were granted a patent\nin 1942 (U.S. Patent 2,292,387; 11 August 1942). Lamarr considered this her contribution to the war effort\nand never profited from her invention. Spread spectrum is an important form of encoding for wireless communications."
  },
  {
    "text": "This technique does not fit neatly into the categories defined in Chapter 5, as it\ncan be used to transmit either analog or digital data, using an analog signal. The spread spectrum technique was developed initially for military and\nintelligence requirements. The essential idea is to spread the information signal\nover a wider bandwidth to make jamming and interception more difficult."
  },
  {
    "text": "The\nfirst type of spread spectrum developed is known as frequency hopping.1 A more\nrecent type of spread spectrum is direct sequence. Both of these techniques are\nused in various wireless communications standards and products. After a brief overview, we look at these two spread spectrum techniques. We then examine a multiple access technique based on spread spectrum."
  },
  {
    "text": "Spread spectrum is an important form of encoding for wireless com-\nmunications. The use of spread spectrum makes jamming and inter-\nception more difficult and provides improved reception. The basic idea of spread spectrum is to modulate the signal so as to\nincrease significantly the bandwidth (spread the spectrum) of the\nsignal to be transmitted."
  },
  {
    "text": "Frequency-hopping spread spectrum is a form of spread spectrum in\nwhich the signal is broadcast over a seemingly random series of radio\nfrequencies, hopping from frequency to frequency at fixed intervals. Direct sequence spread spectrum is a form of spread spectrum in\nwhich each bit in the original signal is represented by multiple bits in\nthe transmitted signal, using a spreading code."
  },
  {
    "text": "Code division multiple access exploits the nature of spread spectrum\ntransmission to enable multiple users to independently use the same\nbandwidth with very little interference. All creative people want to do the unexpected."
  },
  {
    "text": "—Ecstasy and Me: My Life as a Woman, Hedy Lamarr\nCHAPTER 9 / SPREAD SPECTRUM\nOutput data\nPseudonoise\nPseudonoise\nGeneral Model of Spread Spectrum Digital Communication System\n2See [STAL05] for a more detailed discussion of pseudorandom numbers. Figure 9.1 highlights the key characteristics of any spread spectrum system."
  },
  {
    "text": "Input is\nfed into a channel encoder that produces an analog signal with a relatively narrow\nbandwidth around some center frequency. This signal is further modulated using a\nsequence of digits known as a spreading code or spreading sequence. Typically, but\nnot always, the spreading code is generated by a pseudonoise, or pseudorandom\nnumber, generator."
  },
  {
    "text": "The effect of this modulation is to increase significantly the\nbandwidth (spread the spectrum) of the signal to be transmitted. On the receiving\nend, the same digit sequence is used to demodulate the spread spectrum signal. Finally, the signal is fed into a channel decoder to recover the data."
  },
  {
    "text": "Several things can be gained from this apparent waste of spectrum:\n• The signals gains immunity from various kinds of noise and multipath distor-\ntion. The earliest applications of spread spectrum were military, where it was\nused for its immunity to jamming. • It can also be used for hiding and encrypting signals. Only a recipient who\nknows the spreading code can recover the encoded information."
  },
  {
    "text": "• Several users can independently use the same higher bandwidth with very lit-\ntle interference.This property is used in cellular telephony applications, with a\ntechnique know as code division multiplexing (CDM) or code division multi-\nple access (CDMA). A comment about pseudorandom numbers is in order."
  },
  {
    "text": "These numbers are\ngenerated by an algorithm using some initial value called the seed.The algorithm is\ndeterministic and therefore produces sequences of numbers that are not statistically\nrandom. However, if the algorithm is good, the resulting sequences will pass many\nreasonable tests of randomness."
  },
  {
    "text": "Such numbers are often referred to as pseudoran-\ndom numbers.2 The important point is that unless you know the algorithm and the\nseed, it is impractical to predict the sequence. Hence, only a receiver that shares this\ninformation with a transmitter will be able to decode the signal successfully."
  },
  {
    "text": "9.2 / FREQUENCY-HOPPING SPREAD SPECTRUM\nFREQUENCY-HOPPING SPREAD SPECTRUM\nWith frequency-hopping spread spectrum (FHSS), the signal is broadcast over a\nseemingly random series of radio frequencies, hopping from frequency to frequency\nat fixed intervals. A receiver, hopping between frequencies in synchronization with\nthe transmitter, picks up the message."
  },
  {
    "text": "Would-be eavesdroppers hear only unintelli-\ngible blips. Attempts to jam the signal on one frequency succeed only at knocking\nout a few bits of it. Basic Approach\nFigure 9.2 shows an example of a frequency-hopping signal.A number of channels are\nallocated for the FH signal.Typically,there are \ncarrier frequencies forming \nnels."
  },
  {
    "text": "The spacing between carrier frequencies and hence the width of each channel\nusually corresponds to the bandwidth of the input signal.The transmitter operates in\none channel at a time for a fixed interval; for example, the IEEE 802.11 standard uses\na 300-ms interval."
  },
  {
    "text": "During that interval, some number of bits (possibly a fraction of a\nbit, as discussed subsequently) is transmitted using some encoding scheme.A spread-\ning code dictates the sequence of channels used. Both transmitter and receiver use the\nsame code to tune into a sequence of channels in synchronization. A typical block diagram for a frequency-hopping system is shown in Figure\n9.3."
  },
  {
    "text": "For transmission, binary data are fed into a modulator using some digital-to-\nanalog encoding scheme, such as frequency shift keying (FSK) or binary phase shift\nkeying (BPSK). The resulting signal is centered on some base frequency."
  },
  {
    "text": "A\nCHAPTER 9 / SPREAD SPECTRUM\n(a) Transmitter\nPseudonoise\nsynthesizer\nfilter (about\nBinary data\nSpread spectrum\nFH spreader\n(b) Receiver\nSpread spectrum\nDemodulator\nBinary data\nPseudonoise\nsynthesizer\nfilter (about\nFH despreader\nFrequency-Hopping Spread Spectrum System\nthe spread spectrum signal is demodulated using the same sequence of PN-derived\nfrequencies and then demodulated to produce the output data."
  },
  {
    "text": "Figure 9.3 indicates that the two signals are multiplied. Let us give an example\nof how this works, using BFSK as the data modulation scheme."
  },
  {
    "text": "We can define the\nFSK input to the FHSS system as [compare to Equation (5.3)]:\nT = bit duration; data rate = 1/T\n¢f = frequency separation\nbi = value of the ith bit of data 1+1 for binary 1, -1 for binary 02\nf0 = base frequency\nA = amplitude of signal\nsd1t2 = A cos12p1f0 + 0.51bi + 12 ¢f2t2\nfor iT 6 t 6 1i + 12T\n9.2 / FREQUENCY-HOPPING SPREAD SPECTRUM\nThus, during the ith bit interval, the frequency of the data signal is \nif the data bit is\nif the data bit is \nThe frequency synthesizer generates a constant-frequency tone whose fre-\nquency hops among a set of \nfrequencies, with the hopping pattern determined by\nk bits from the PN sequence."
  },
  {
    "text": "For simplicity, assume the duration of one hop is the\nsame as the duration of one bit and we ignore phase differences between the data\nand the spreading signal, also called a chipping signal, c(t). Then the\nproduct signal during the ith hop (during the ith bit) is\nis the frequency of the signal generated by the frequency synthesizer during\nthe ith hop."
  },
  {
    "text": "Using the trigonometric identity3\nA bandpass filter (Figure 9.3) is used to block the difference frequency and pass the\nsum frequency, yielding an FHSS signal of\nThus, during the ith bit interval, the frequency of the data signal is \nif the data\nif the data bit is \nAt the receiver, a signal of the form s(t) just defined will be received."
  },
  {
    "text": "This is\nmultiplied by a replica of the spreading signal to yield a product signal of the form\nAgain using the trigonometric identity, we have\nA bandpass filter (Figure 9.3) is used to block the sum frequency and pass the dif-\nference frequency, yielding a signal of the form of \ndefined in Equation (9.1):\nFHSS Using MFSK\nA common modulation technique used in conjunction with FHSS is multiple FSK\n(MFSK)."
  },
  {
    "text": "Recall from Chapter 5 that MFSK uses \ndifferent frequencies\nto encode the digital input L bits at a time."
  },
  {
    "text": "The transmitted signal is of the form\n(Equation 5.4):\nsi1t2 = A cos 2pfit,\n0.25A cos12p1f0 + 0.51bi + 12 ¢f2t2\n+ cos12p1f0 + 0.51bi + 12 ¢f2t2]\np1t2 = s1t2c1t2 = 0.25A[cos12p1f0 + 0.51bi + 12 ¢f + fi + fi2t2\np1t2 = s1t2c1t2 = 0.5A cos12p1f0 + 0.51bi + 12 ¢f + fi2t2cos12pfit2\nf0 + fi + ¢f\ns1t2 = 0.5A cos12p1f0 + 0.51bi + 12 ¢f + fi2t2\n+ cos12p1f0 + 0.51bi + 12 ¢f - fi2t2]\np1t2 = 0.5A [cos12p1f0 + 0.51bi + 12 ¢f + fi2t2\ncos1x - y22,\ncos1x2cos1y2 = 11/221cos1x + y2 +\np1t2 = sd1t2c1t2 = A cos12p1f0 + 0.51bi + 12 ¢f2t2cos12pfit2\n3See the math refresher document at WilliamStallings.com/StudentSupport.html for a summary of\ntrigonometric identities."
  },
  {
    "text": "CHAPTER 9 / SPREAD SPECTRUM\nInput binary data\nPN sequence\n1 1 0 0 1 1 1 1 0 1 1 0 0 0 0 0 1 1\nSlow Frequency Hop Spread Spectrum Using MFSK 1M = 4, k = 22\n4Some authors use a somewhat different definition (e.g., [PICK82]) of multiple hops per bit for fast fre-\nquency hop, multiple bits per hop for slow frequency hop, and one hop per bit if neither fast nor slow.The\nmore common definition, which we use, relates hops to signal elements rather than bits."
  },
  {
    "text": "For FHSS, the MFSK signal is translated to a new frequency every \nby modulating the MFSK signal with the FHSS carrier signal. The effect is to\ntranslate the MFSK signal into the appropriate FHSS channel. For a data rate of R,\nthe duration of a bit is \nseconds and the duration of a signal element is\nseconds."
  },
  {
    "text": "If \nis greater than or equal to \n, the spreading modulation is\nreferred to as slow-frequency-hop spread spectrum; otherwise it is known as \nfast-frequency-hop spread spectrum.4 To summarize,\nSlow-frequency-hop spread spectrum\nFast-frequency-hop spread spectrum\nFigure 9.4 shows an example of slow FHSS, using the MFSK example from\nFigure 5.9."
  },
  {
    "text": "Here we have \nwhich means that four different frequencies are\nused to encode the data input 2 bits at a time. Each signal element is a discrete fre-\nquency tone, and the total MFSK bandwidth is \nWe use an FHSS scheme\nThat is, there are \ndifferent channels, each of width \nFHSS bandwidth is \nEach 2 bits of the PN sequence is used to select one\nof the four channels."
  },
  {
    "text": "L = number of bits per signal element\nM = number of different signal elements = 2L\nfd = denotes the difference frequency\nfc = denotes the carrier frequency\nfi = fc + 12i - 1 - M2fd\n9.2 / FREQUENCY-HOPPING SPREAD SPECTRUM\nInput binary data\nPN sequence\nFast Frequency Hop Spread Spectrum Using MFSK 1M = 4, k = 22\nCHAPTER 9 / SPREAD SPECTRUM\nFigure 9.5 shows an example of fast FHSS, using the same MFSK example."
  },
  {
    "text": "In this case, however, each signal element is represented\nby two frequency tones. Again,\nIn this example\nIn general, fast FHSS provides improved performance compared\nto slow FHSS in the face of noise or jamming."
  },
  {
    "text": "For example, if three or more fre-\nquencies (chips) are used for each signal element, the receiver can decide which\nsignal element was sent on the basis of a majority of the chips being correct."
  },
  {
    "text": "FHSS Performance Considerations\nTypically, a large number of frequencies is used in FHSS so that \nis much larger than\nOne benefit of this is that a large value of k results in a system that is quite resistant\nto jamming."
  },
  {
    "text": "For example, suppose we have an MFSK transmitter with bandwidth \nand a noise jammer of the same bandwidth and fixed power \non the signal carrier fre-\nquency.Then we have a ratio of signal energy per bit to noise power density per Hertz of\nIf frequency hopping is used, the jammer must jam all \nfrequencies."
  },
  {
    "text": "With a fixed\npower, this reduces the jamming power in any one frequency band to \nin signal-to-noise ratio, or processing gain, is\nWith direct sequence spread spectrum (DSSS), each bit in the original signal is rep-\nresented by multiple bits in the transmitted signal, using a spreading code."
  },
  {
    "text": "The\nspreading code spreads the signal across a wider frequency band in direct proportion\nto the number of bits used. Therefore, a 10-bit spreading code spreads the signal\nacross a frequency band that is 10 times greater than a 1-bit spreading code."
  },
  {
    "text": "One technique with direct sequence spread spectrum is to combine the digital\ninformation stream with the spreading code bit stream using an exclusive-OR\n(XOR).The XOR obeys the following rules:\nFigure 9.6 shows an example."
  },
  {
    "text": "Note that an information bit of one inverts the spread-\ning code bits in the combination, while an information bit of zero causes the spread-\ning code bits to be transmitted without inversion. The combination bit stream has\nthe data rate of the original spreading code sequence, so it has a wider bandwidth\nthan the information stream."
  },
  {
    "text": "In this example, the spreading code bit stream is\nclocked at four times the information rate. DSSS Using BPSK\nTo see how this technique works out in practice, assume that a BPSK modulation\nscheme is to be used. Rather than represent binary data with 1 and 0, it is more\nGP = 2k = Ws\nTs = 2Tc = 2T."
  },
  {
    "text": "9.3 / DIRECT SEQUENCE SPREAD SPECTRUM\nconvenient for our purposes to use \nto represent the two binary digits."
  },
  {
    "text": "In\nthat case, a BPSK signal can be represented as was shown in Equation (5.6):\nbit time if the corresponding bit in the bit stream is 1 and\nthe value of \nfor one bit time if the corresponding bit in\nthe bit stream is 0\nTo produce the DSSS signal, we multiply the preceding by c(t), which is the PN\nsequence taking on values of \nAt the receiver, the incoming signal is multiplied again by c(t)."
  },
  {
    "text": "But\nand therefore the original signal is recovered:\nEquation (9.5) can be interpreted in two ways, leading to two different\nimplementations. The first interpretation is to first multiply d(t) and c(t) together\nand then perform the BPSK modulation. That is the interpretation we have been\ndiscussing."
  },
  {
    "text": "Alternatively, we can first perform the BPSK modulation on the \ndata stream d(t) to generate the data signal \nThis signal can then be multi-\nplied by c(t)."
  },
  {
    "text": "s1t2c1t2 = A d1t2c1t2c1t2 cos12pfct2 = sd1t2\nc1t2 * c1t2 = 1\ns1t2 = A d1t2c1t2 cos12pfct2\nd1t2 = the discrete function that takes on the value of +1\nfc = carrier frequency\nA = amplitude of signal\nsd1t2 = Ad1t2 cos12pfct2\nData input A\nLocally generated\nPN bit stream\nTransmitted signal\nTransmitter\nReceived signal C \nLocally generated\nPN bit stream\nidentical to B\nData output\nExample of Direct Sequence Spread Spectrum\nCHAPTER 9 / SPREAD SPECTRUM\n(a) Transmitter\nPseudonoise\nDS spreader\nBinary data\nSpread spectrum\n(b) Receiver\nDS despreader\nSpread spectrum\nDemodulator\nBinary data\nPseudonoise\nDirect Sequence Spread Spectrum System\nAn implementation using the second interpretation is shown in Figure 9.7."
  },
  {
    "text": "Figure 9.8 is an example of this approach. DSSS Performance Considerations\nThe spectrum spreading achieved by the direct sequence technique is easily deter-\nmined (Figure 9.9). In our example, the information signal has a bit width of T,\nwhich is equivalent to a data rate of 1/T. In that case, the spectrum of the signal,\ndepending on the encoding technique, is roughly 2/T."
  },
  {
    "text": "Similarly, the spectrum of the\nPN signal is \nFigure 9.9c shows the resulting spectrum spreading.The amount of\nspreading that is achieved is a direct result of the data rate of the PN stream. As with FHSS, we can get some insight into the performance of DSSS by look-\ning at its effectiveness against jamming."
  },
  {
    "text": "Let us assume a simple jamming signal at\nthe center frequency of the DSSS system.The jamming signal has the form\nand the received signal is\nsr1t2 = s1t2 + sj1t2 + n1t2\nsj1t2 = 22Sj cos12pfct2\n9.3 / DIRECT SEQUENCE SPREAD SPECTRUM\nSpreading code\nExample of Direct-Sequence Spread Spectrum Using BPSK\nThe despreader at the receiver multiplies \nby c(t), so the signal component\ndue to the jamming signal is\nThis is simply a BPSK modulation of the carrier tone."
  },
  {
    "text": "Thus, the carrier power \nspread over a bandwidth of approximately \nHowever, the BPSK demodulator\n(Figure 9.7) following the DSSS despreader includes a bandpass filter matched to\nthe BPSK data, with bandwidth of 2/T. Thus, most of the jamming power is filtered."
  },
  {
    "text": "yj1t2 = 22Sjc1t2cos12pfct2\nSj = jammer signal power\nn1t2 = additive white noise\nsj1t2 = jamming signal\ns1t2 = transmitted signal\nCHAPTER 9 / SPREAD SPECTRUM\n(a) Spectrum of data signal\nSignal energy\n(b) Spectrum of pseudonoise signal\n(c) Spectrum of combined signal\nApproximate Spectrum of Direct Sequence Spread Spectrum Signal\nAlthough a number of factors come into play, as an approximation, we can say that\nthe jamming power passed by the filter is\nThe jamming power has been reduced by a factor of \nthrough the use of\nspread spectrum.The inverse of this factor is the gain in signal-to-noise ratio:\nis the spreading bit rate, R is the data rate,\nis the signal bandwidth, and\nis the spread spectrum signal bandwidth."
  },
  {
    "text": "The result is similar to the result for\nFHSS (Equation 9.3). SjF = Sj12/T2/12/Tc2 = Sj1Tc/T2\n9.4 / CODE DIVISION MULTIPLE ACCESS\n1 \u00031\u00031 1 \u00031 1\n1 1 \u00031 \u00031 1 1\n1 1 \u00031 1 1 \u00031\nMessage \"1101\" encoded\nFigure 9.10\nCDMA Example\nBasic Principles\nCDMA is a multiplexing technique used with spread spectrum."
  },
  {
    "text": "The scheme works in\nthe following manner.We start with a data signal with rate D, which we call the bit data\nrate.We break each bit into k chips according to a fixed pattern that is specific to each\nuser,called the user’s code.The new channel has a chip data rate of kD chips per second."
  },
  {
    "text": "As an illustration we consider a simple example5 with \nIt is simplest to charac-\nterize a code as a sequence of 1s and \nFigure 9.10 shows the codes for three users,\nA, B, and C, each of which is communicating with the same base station receiver,\nR."
  },
  {
    "text": "Thus, the code for user A is \nSimilarly, user B has\nand user C has \nWe now consider the case of user A communicating with the base station.The\nbase station is assumed to know A’s code. For simplicity, we assume that communi-\ncation is already synchronized so that the base station knows when to look for\ncodes."
  },
  {
    "text": "If A wants to send a 1 bit, A transmits its code as a chip pattern\nIf a 0 bit is to be sent, A transmits the complement (1s and\nreversed) of its code,\nAt the base station the receiver\ndecodes the chip patterns. In our simple version, if the receiver R receives a chip\nand the receiver is seeking to communicate\nd = 6d1, d2, d3, d4, d5, d67,\n6 -1, 1, 1, -1, 1, -17. 61, -1, -1, 1, -1, 17."
  },
  {
    "text": "cC = 61, 1, -1, 1, 1, -17. cB = 61, 1, -1, -1, 1, 17,\ncA = 61, -1, -1, 1, -1, 17. 5This example was provided by Professor Richard Van Slyke of the Polytechnic University of Brooklyn."
  },
  {
    "text": "CHAPTER 9 / SPREAD SPECTRUM\nCHAPTER 9 / SPREAD SPECTRUM\nFigure 9.11\nCDMA in a DSSS Environment\nother users are not despread by the spreading code from user 1 and hence retain their\nbandwidth of \nThus the unwanted signal energy remains spread over a large band-\nwidth and the wanted signal is concentrated in a narrow bandwidth.The bandpass fil-\nter at the demodulator can therefore recover the desired signal."
  },
  {
    "text": "[DIXO94] provides comprehensive treatment of spread spectrum. [TANT98] contains\nreprints of many important papers in the field, including [PICK82], which provides an excel-\nlent introduction to spread spectrum. Dixon, R. Spread Spectrum Systems with Commercial Applications. New York:\nWiley, 1994. Pickholtz, R.; Schilling, D.; and Milstein, L."
  },
  {
    "text": "List three benefits of spread spectrum. What is frequency-hopping spread spectrum? Explain the difference between slow FHSS and fast FHSS. What is direct sequence spread spectrum? What is the relationship between the bit rate of a signal before and after it has been\nencoded using DSSS? What is CDMA? Assume we wish to transmit a 56-kbps data stream using spread spectrum."
  },
  {
    "text": "Find the channel bandwidth required to achieve a 56-kbps channel capacity when\n0.01, and 0.001. b. In an ordinary (not spread spectrum) system, a reasonable goal for bandwidth\nefficiency might be 1 bps/Hz.That is, to transmit a data stream of 56 kbps, a band-\nwidth of 56 kHz is used. In this case, what is the minimum SNR that can be\nendured for transmission without appreciable errors?"
  },
  {
    "text": "Compare to the spread\nspectrum case. Hint: Review the discussion of channel capacity in Section 3.4. An FHSS system employs a total bandwidth of \nand an individual\nchannel bandwidth of 100 Hz. What is the minimum number of PN bits required for\neach frequency hop? An FHSS system using MFSK with \nemploys 1000 different frequencies.What\nis the processing gain?"
  },
  {
    "text": "The following table illustrates the operation of an FHSS system for one complete\nperiod of the PN sequence. Ws = 400 MHz\nPN sequence\nCHAPTER 9 / SPREAD SPECTRUM\nWhat is the period of the PN sequence, in terms of bits in the sequence? b. The system makes use of a form of FSK.What form of FSK is it? What is the number of bits per signal element? d. What is the number of FSK frequencies?"
  },
  {
    "text": "What is the length of a PN sequence per hop? Is this a slow or fast FH system? What is the total number of possible carrier frequencies? h. Show the variation of the base, or demodulated, frequency with time. The following table illustrates the operation of a FHSS system using the same PN\nsequence as Problem 9.4. PN sequence\nPN sequence\nPN sequence\nWhat is the period of the PN sequence? b."
  },
  {
    "text": "The system makes use of a form of FSK.What form of FSK is it? What is the number of bits per signal element? d. What is the number of FSK frequencies? What is the length of a PN sequence per hop? Is this a slow or fast FH system? What is the total number of possible carrier frequencies? h. Show the variation of the base, or demodulated, frequency with time."
  },
  {
    "text": "Consider an MFSK scheme with \nMake a frequency assignment for each of the eight possible 3-bit data combinations. b. We wish to apply FHSS to this MFSK scheme with \nthat is, the system will\nhop among four different carrier frequencies. Expand the results of part (a) to\nfrequency assignments. Figure 9.12, based on one in [BELL00], depicts a simplified scheme for CDMA\nencoding and decoding."
  },
  {
    "text": "There are seven logical channels, all using DSSS with a\nspreading code of 7 bits.Assume that all sources are synchronized. If all seven sources\ntransmit a data bit, in the form of a 7-bit sequence, the signals from all sources com-\nbine at the receiver so that two positive or two negative values reinforce and a posi-\ntive and negative value cancel."
  },
  {
    "text": "Determine the receiver output measurement for channel 1 and the bit value\nRepeat part (b) for channel 2."
  },
  {
    "text": "By far, the most widely used technique for pseudorandom number generation is the\nlinear congruential method.The algorithm is parameterized with four numbers, as fol-\nThe sequence of pseudorandom numbers \nis obtained via the following iterative\nIf m, a, c, and \nare integers, then this technique will produce a sequence of integers\nwith each integer in the range \nAn essential characteristic of a pseudo-\nrandom number generator is that the generated sequence should appear random."
  },
  {
    "text": "Although the sequence is not random, because it is generated deterministically, there\nis a variety of statistical tests that can be used to assess the degree to which a sequence\nexhibits randomness.Another desirable characteristic is that the function should be a\nfull-period generating function. That is, the function should generate all the numbers\nbetween 0 and m before repeating."
  },
  {
    "text": "With the linear congruential algorithm, a choice of parameters that provides a full\nperiod does not necessarily provide a good randomization. For example, consider the\ntwo generators:\nXn+1 = 17Xn2mod 13\nXn+1 = 16Xn2mod 13\n0 … Xn 6 m."
  },
  {
    "text": "Xn+1 = 1aXn + c2mod m\nthe starting value, or seed 0 … X0 6 m\n the increment\n the multiplier  0 … a 6 m\n the modulus m 7 0\nChannel 0 code\nComposite signal\nIndividual channel\nFigure 9.12\nExample Seven-Channel CDMA Encoding and Decoding\nCHAPTER 9 / SPREAD SPECTRUM\nWrite out the two sequences to show that both are full period. Which one appears\nmore random to you?"
  },
  {
    "text": "We would like m to be very large so that there is the potential for producing a long\nseries of distinct random numbers. A common criterion is that m be nearly equal to\nthe maximum representable nonnegative integer for a given computer. Thus, a value\nof m near to or equal to \nis typically chosen."
  },
  {
    "text": "Many experts recommend a value of\nYou may wonder why one should not simply use \nbecause this latter num-\nber can be represented with no additional bits, and the mod operation should be eas-\nier to perform. In general, the modulus \nis preferable to \nWhy is this so?"
  },
  {
    "text": "In any use of pseudorandom numbers, whether for encryption, simulation, or statisti-\ncal design, it is dangerous to trust blindly the random number generator that happens\nto be available in your computer’s system library. [PARK88] found that many con-\ntemporary textbooks and programming packages make use of flawed algorithms for\npseudorandom number generation."
  },
  {
    "text": "This exercise will enable you to test your system. The test is based on a theorem attributed to Ernesto Cesaro (see [KNUT98] for a\nproof), which states that the probability is equal to \nthat the greatest common\ndivisor of two randomly chosen integers is 1."
  },
  {
    "text": "Use this theorem in a program to deter-\nmine statistically the value of \nThe main program should call three subprograms:\nthe random number generator from the system library to generate the random inte-\ngers; a subprogram to calculate the greatest common divisor of two integers using\nEuclid’s algorithm; and a subprogram that calculates square roots."
  },
  {
    "text": "If these latter two\nprograms are not available, you will have to write them as well. The main program\nshould loop through a large number of random numbers to give an estimate of the\naforementioned probability. From this, it is a simple matter to solve for your estimate\nIf the result is close to 3.14, congratulations!"
  },
  {
    "text": "If not, then the result is probably low,\nusually a value of around 2.7.Why would such an inferior result be obtained? Wide Area Networks\nart Two dealt with the transfer of data between devices that are directly\nconnected, generally by a point-to-point link."
  },
  {
    "text": "Often, however, this\narrangement is impractical, and a data communication network is\nrequired to transmit data between devices, either because the devices are very\nfar apart or because there are many devices to be interconnected. In general\nterms, communications networks can be categorized as wide area networks\n(WANs) and local area networks (LANs)."
  },
  {
    "text": "Part Three focuses on WANs, while\nPart Four covers LANs. Two perspectives on the material in this part are of particular significance as\nthey relate to the treatment of internetworking in Part Five. First, the\nconstituent networks of the Internet and other internetworks are LANs and\nWANs."
  },
  {
    "text": "Thus, a full understanding of the technology and architecture of inter-\nnetworks includes an understanding of the underlying networks. Second, and\nperhaps more important, many of the technologies developed for switched data\nWANs (including packet-switching, frame relay, and ATM networks) carry over\ninto the design of internetworks."
  },
  {
    "text": "This is especially true in the cases of routing\nand congestion control. Chapter 10 Circuit Switching and Packet Switching\nOur treatment of the technology and architecture of circuit-switching net-\nworks begins with the internal operation of a single switch."
  },
  {
    "text": "This is in con-\ntrast to packet-switching networks, which are best explained by the\ncollective behavior of the set of switches that make up a network. Thus,\nChapter 10 begins by examining digital switching concepts, including\nspace and time division switching. The remainder of Chapter 10 introduces packet-switching technol-\nogy."
  },
  {
    "text": "The chapter covers the basic principles of packet switching and ana-\nlyzes datagram and virtual circuit approaches. The chapter also covers\nframe relay networks. Chapter 11 Asynchronous Transfer Mode\nChapter 11 focuses on the transmission technology that is the foundation\nof broadband ISDN: asynchronous transfer mode (ATM)."
  },
  {
    "text": "ATM is also\nfinding widespread application beyond its use as part of broadband ISDN. ATM is in essence a packet-switching technology, but it is far more\nstreamlined and efficient than traditional packet switching and is designed\nto support very high data rates. This chapter begins with a description of\nthe ATM protocol and format."
  },
  {
    "text": "Then the physical layer issues relating to\nthe transmission of ATM cells are discussed. Chapter 12 Routing in Switched Networks\nOne significant technical issue associated with switched networks is rout-\ning. Because the source and destination nodes are not directly connected,\nthe network must route each packet, from node to node, through the net-\nwork."
  },
  {
    "text": "Chapter 12 discusses the common routing algorithms used both in\nswitched data networks, such as frame relay and ATM, and in the Internet. Chapter 13 Congestion Control in Data Networks\nA critical design issue for switched data networks and the Internet is con-\ngestion control."
  },
  {
    "text": "Chapter 13 begins with an explanation of the nature of\ncongestion in switched networks and both the importance and difficulty of\ncontrolling congestion. The chapter provides a general discussion of con-\ngestion control in traditional packet-switching networks and also exam-\nines frame relay congestion control."
  },
  {
    "text": "The focus of the remainder of the\nchapter is on congestion and traffic control for ATM networks.This is one\nof the most complex aspects of ATM and is the subject of intensive ongo-\ning research. This chapter surveys those techniques that have been\naccepted as having broad utility in ATM environments."
  },
  {
    "text": "All of the tech-\nniques surveyed in this chapter also have relevance in the context of the\nChapter 14: Cellular Wireless Networks\nChapter 14 begins with a discussion of the important design issues related\nto cellular wireless networks. Next, the chapter covers the traditional\nmobile telephony service, now known as first-generation analog."
  },
  {
    "text": "Chapter\n14 then examines second-generation digital cellular networks. Finally, an\noverview of third-generation networks is provided."
  },
  {
    "text": "It was a long\nand awkward journey but he enjoyed it. —King Solomon’s Carpet, Barbara Vine (Ruth Rendell)\nCircuit switching is used in public telephone networks and is the basis\nfor private networks built on leased lines and using on-site circuit\nswitches. Circuit switching was developed to handle voice traffic but\ncan also handle digital data, although this latter use is often inefficient."
  },
  {
    "text": "Switching and transmission resources\nwithin the network are reserved for the exclusive use of the circuit for\nthe duration of the connection.The connection is transparent:Once it is\nestablished, it appears to attached devices as if there were a direct con-\nPacket switching was designed to provide a more efficient facility\nthan circuit switching for bursty data traffic."
  },
  {
    "text": "With packet switching, a\nstation transmits data in small blocks, called packets. Each packet con-\ntains some portion of the user data plus control information needed\nfor proper functioning of the network."
  },
  {
    "text": "A key distinguishing element of packet-switching networks is whether\nthe internal operation is datagram or virtual circuit.With internal vir-\ntual circuits, a route is defined between two endpoints and all packets\nfor that virtual circuit follow the same route.With internal datagrams,\neach packet is treated independently, and packets intended for the\nsame destination may follow different routes."
  },
  {
    "text": "X.25 is the standard protocol for the interface between an end system\nand a packet-switching network. Frame relay is a form of packet switching that provides a streamlined\ninterface compared to X.25, with improved performance."
  },
  {
    "text": "Part Two describes how information can be encoded and transmitted over a com-\nmunications link.We now turn to the broader discussion of networks, which can\nbe used to interconnect many devices.The chapter begins with a general discus-\nsion of switched communications networks.The remainder of the chapter focuses\non wide area networks and, in particular, on traditional approaches to wide area\nnetwork design: circuit switching and packet switching."
  },
  {
    "text": "10.1 / SWITCHED COMMUNICATIONS NETWORKS\n1We use this term here in a very general sense, to include voice, image, and video, as well as ordinary data\n(e.g., numerical, text). Since the invention of the telephone, circuit switching has been the dominant\ntechnology for voice communications, and it has remained so well into the digital\nera."
  },
  {
    "text": "This chapter looks at the key characteristics of a circuit-switching network."
  },
  {
    "text": "Around 1970, research began on a new form of architecture for long-dis-\ntance digital data communications: packet switching.Although the technology of\npacket switching has evolved substantially since that time, it is remarkable that\n(1) the basic technology of packet switching is fundamentally the same today as it\nwas in the early 1970s networks, and (2) packet switching remains one of the few\neffective technologies for long-distance data communications."
  },
  {
    "text": "This chapter provides an overview of packet-switching technology.We will\nsee, in this chapter and later in this part, that many of the advantages of packet\nswitching (flexibility, resource sharing, robustness, responsiveness) come with a\ncost.The packet-switching network is a distributed collection of packet-switching\nnodes."
  },
  {
    "text": "Ideally, all packet-switching nodes would always know the state of the\nentire network. Unfortunately, because the nodes are distributed, there is a time\ndelay between a change in status in one portion of the network and knowledge of\nthat change elsewhere."
  },
  {
    "text": "Furthermore, there is overhead involved in communicat-\ning status information.As a result,a packet-switching network can never perform\n“perfectly,” and elaborate algorithms are used to cope with the time delay and\noverhead penalties of network operation. These same issues will appear again\nwhen we discuss internetworking in Part Five."
  },
  {
    "text": "Finally, this chapter provides an overview of a popular form of packet\nswitching known as frame relay. 10.1 SWITCHED COMMUNICATIONS NETWORKS\nFor transmission of data1 beyond a local area, communication is typically achieved\nby transmitting data from source to destination through a network of intermediate\nswitching nodes; this switched network design is typically used to implement LANs\nas well."
  },
  {
    "text": "The switching nodes are not concerned with the content of the data; rather,\ntheir purpose is to provide a switching facility that will move the data from node to\nnode until they reach their destination. Figure 10.1 illustrates a simple network.The\ndevices attached to the network may be referred to as stations. The stations may\nbe computers, terminals, telephones, or other communicating devices."
  },
  {
    "text": "We refer to\nthe switching devices whose purpose is to provide communication as nodes. Nodes\nare connected to one another in some topology by transmission links."
  },
  {
    "text": "Each station\nattaches to a node, and the collection of nodes is referred to as a communications\nIn a switched communication network, data entering the network from a\nstation are routed to the destination by being switched from node to node."
  },
  {
    "text": "For\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nFigure 10.1\nSimple Switching Network\nexample, in Figure 10.1, data from station A intended for station F are sent to\nnode 4. They may then be routed via nodes 5 and 6 or nodes 7 and 6 to the desti-\nnation. Several observations are in order:\n1. Some nodes connect only to other nodes (e.g., 5 and 7)."
  },
  {
    "text": "Their sole task is the\ninternal (to the network) switching of data. Other nodes have one or more sta-\ntions attached as well; in addition to their switching functions, such nodes\naccept data from and deliver data to the attached stations. 2. Node-station links are generally dedicated point-to-point links."
  },
  {
    "text": "Node-node links\nare usually multiplexed, using either frequency division multiplexing (FDM) or\ntime division multiplexing (TDM). 3. Usually, the network is not fully connected; that is, there is not a direct link\nbetween every possible pair of nodes. However, it is always desirable to have\nmore than one possible path through the network for each pair of stations."
  },
  {
    "text": "This enhances the reliability of the network. Two different technologies are used in wide area switched networks: circuit\nswitching and packet switching. These two technologies differ in the way the\nnodes switch information from one link to another on the way from source to\ndestination."
  },
  {
    "text": "10.2 / CIRCUIT-SWITCHING NETWORKS\n10.2 CIRCUIT-SWITCHING NETWORKS\nCommunication via circuit switching implies that there is a dedicated communica-\ntion path between two stations. That path is a connected sequence of links between\nnetwork nodes. On each physical link, a logical channel is dedicated to the connec-\ntion."
  },
  {
    "text": "Communication via circuit switching involves three phases, which can be\nexplained with reference to Figure 10.1. 1. Circuit establishment. Before any signals can be transmitted, an end-to-end\n(station-to-station) circuit must be established."
  },
  {
    "text": "For example, station A sends a\nrequest to node 4 requesting a connection to station E.Typically, the link from A\nto 4 is a dedicated line, so that part of the connection already exists. Node 4 must\nfind the next leg in a route leading to E."
  },
  {
    "text": "Based on routing information and mea-\nsures of availability and perhaps cost, node 4 selects the link to node 5, allocates a\nfree channel (using FDM or TDM) on that link, and sends a message requesting\nconnection to E. So far, a dedicated path has been established from A through\n4 to 5."
  },
  {
    "text": "Because a number of stations may attach to 4, it must be able to establish\ninternal paths from multiple stations to multiple nodes. How this is done is dis-\ncussed later in this section.The remainder of the process proceeds similarly.Node\n5 allocates a channel to node 6 and internally ties that channel to the channel from\nnode 4. Node 6 completes the connection to E."
  },
  {
    "text": "In completing the connection, a\ntest is made to determine if E is busy or is prepared to accept the connection. 2. Data transfer. Data can now be transmitted from A through the network to E."
  },
  {
    "text": "The transmission may be analog or digital, depending on the nature of the net-\nwork.As the carriers evolve to fully integrated digital networks, the use of digital\n(binary) transmission for both voice and data is becoming the dominant method. The path is A-4 link, internal switching through 4, 4-5 channel, internal switching\nthrough 5, 5-6 channel, internal switching through 6, 6-E link."
  },
  {
    "text": "Generally, the con-\nnection is full duplex. 3. Circuit disconnect. After some period of data transfer, the connection is ter-\nminated, usually by the action of one of the two stations. Signals must be prop-\nagated to nodes 4, 5, and 6 to deallocate the dedicated resources. Note that the connection path is established before data transmission begins."
  },
  {
    "text": "Thus, channel capacity must be reserved between each pair of nodes in the path, and\neach node must have available internal switching capacity to handle the requested\nconnection. The switches must have the intelligence to make these allocations and\nto devise a route through the network. Circuit switching can be rather inefficient."
  },
  {
    "text": "Channel capacity is dedicated for\nthe duration of a connection, even if no data are being transferred. For a voice con-\nnection, utilization may be rather high, but it still does not approach 100%. For a\nclient/server or terminal-to-computer connection, the capacity may be idle during\nmost of the time of the connection."
  },
  {
    "text": "In terms of performance, there is a delay prior to\nsignal transfer for call establishment. However, once the circuit is established, the\nnetwork is effectively transparent to the users. Information is transmitted at a fixed\ndata rate with no delay other than the propagation delay through the transmission\nlinks.The delay at each node is negligible."
  },
  {
    "text": "CHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nFigure 10.2\nExample Connection Over a Public Circuit-Switching Network\nLong-distance\nLong-distance\nDigital PBX\nIntercity trunk\nConnecting trunk\nConnecting trunk\nSubscriber loop\nCircuit switching was developed to handle voice traffic but is now also used for\ndata traffic."
  },
  {
    "text": "The best-known example of a circuit-switching network is the public\ntelephone network (Figure 10.2). This is actually a collection of national networks\ninterconnected to form the international service. Although originally designed and\nimplemented to service analog telephone subscribers, it handles substantial data\ntraffic via modem and is gradually being converted to a digital network."
  },
  {
    "text": "Another\nwell-known application of circuit switching is the private branch exchange (PBX),\nused to interconnect telephones within a building or office. Circuit switching is also\nused in private networks. Typically, such a network is set up by a corporation or\nother large organization to interconnect its various sites."
  },
  {
    "text": "Such a network usually\nconsists of PBX systems at each site interconnected by dedicated, leased lines\nobtained from one of the carriers, such as AT&T. A final common example of the\napplication of circuit switching is the data switch. The data switch is similar to the\nPBX but is designed to interconnect digital data processing devices, such as termi-\nnals and computers."
  },
  {
    "text": "A public telecommunications network can be described using four generic\narchitectural components:\n• Subscribers: The devices that attach to the network. It is still the case that\nmost subscriber devices to public telecommunications networks are tele-\nphones, but the percentage of data traffic increases year by year."
  },
  {
    "text": "• Subscriber line: The link between the subscriber and the network, also\nreferred to as the subscriber loop or local loop. Almost all local loop connec-\ntions use twisted-pair wire. The length of a local loop is typically in a range\nfrom a few kilometers to a few tens of kilometers. • Exchanges: The switching centers in the network."
  },
  {
    "text": "A switching center that\ndirectly supports subscribers is known as an end office.Typically, an end office\nwill support many thousands of subscribers in a localized area.There are over\n19,000 end offices in the United States, so it is clearly impractical for each end\n10.2 / CIRCUIT-SWITCHING NETWORKS\noffice to have a direct link to each of the other end offices; this would require\non the order of \nlinks."
  },
  {
    "text": "Rather, intermediate switching nodes are used. • Trunks: The branches between exchanges. Trunks carry multiple voice-\nfrequency circuits using either FDM or synchronous TDM. We referred to\nthese as carrier systems in Chapter 8. Subscribers connect directly to an end office, which switches traffic between\nsubscribers and between a subscriber and other exchanges."
  },
  {
    "text": "The other exchanges\nare responsible for routing and switching traffic between end offices. This distinc-\ntion is shown in Figure 10.3. To connect two subscribers attached to the same end\noffice, a circuit is set up between them in the same fashion as described before."
  },
  {
    "text": "If\ntwo subscribers connect to different end offices, a circuit between them consists of\na chain of circuits through one or more intermediate offices. In the figure, a con-\nnection is established between lines a and b by simply setting up the connection\nthrough the end office.The connection between c and d is more complex."
  },
  {
    "text": "In c’s end\noffice, a connection is established between line c and one channel on a TDM trunk\nto the intermediate switch. In the intermediate switch, that channel is connected to\na channel on a TDM trunk to d’s end office. In that end office, the channel is con-\nnected to line d. Circuit-switching technology has been driven by those applications that han-\ndle voice traffic."
  },
  {
    "text": "One of the key requirements for voice traffic is that there must be\nvirtually no transmission delay and certainly no variation in delay.A constant signal\ntransmission rate must be maintained, because transmission and reception occur at\nthe same signal rate.These requirements are necessary to allow normal human con-\nversation."
  },
  {
    "text": "Further, the quality of the received signal must be sufficiently high to pro-\nvide, at a minimum, intelligibility. Circuit switching achieved its widespread, dominant position because it is well\nsuited to the analog transmission of voice signals. In today’s digital world, its ineffi-\nciencies are more apparent."
  },
  {
    "text": "However, despite the inefficiency, circuit switching will\nFigure 10.3\nCircuit Establishment\nIntermediate\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nremain an attractive choice for both local area and wide area networking. One of its\nkey strengths is that it is transparent."
  },
  {
    "text": "Once a circuit is established, it appears as a\ndirect connection to the two attached stations; no special networking logic is needed\nat the station. 10.3 CIRCUIT-SWITCHING CONCEPTS\nThe technology of circuit switching is best approached by examining the operation\nof a single circuit-switching node."
  },
  {
    "text": "A network built around a single circuit-switching\nnode consists of a collection of stations attached to a central switching unit.The cen-\ntral switch establishes a dedicated path between any two devices that wish to com-\nmunicate. Figure 10.4 depicts the major elements of such a one-node network. The\ndotted lines inside the switch symbolize the connections that are currently active."
  },
  {
    "text": "The heart of a modern system is a digital switch. The function of the digital\nswitch is to provide a transparent signal path between any pair of attached devices."
  },
  {
    "text": "The path is transparent in that it appears to the attached pair of devices that there is\nFigure 10.4\nElements of a Circuit-Switch Node\nControl unit\nFull-duplex lines\nto attached devices\nDigital switch\n10.3 / CIRCUIT-SWITCHING CONCEPTS\na direct connection between them. Typically, the connection must allow full-duplex\ntransmission."
  },
  {
    "text": "The network interface element represents the functions and hardware needed\nto connect digital devices, such as data processing devices and digital telephones, to\nthe network."
  },
  {
    "text": "Analog telephones can also be attached if the network interface con-\ntains the logic for converting to digital signals.Trunks to other digital switches carry\nTDM signals and provide the links for constructing multiple-node networks. The control unit performs three general tasks. First, it establishes connections."
  },
  {
    "text": "This is generally done on demand,that is,at the request of an attached device.To estab-\nlish the connection, the control unit must handle and acknowledge the request, deter-\nmine if the intended destination is free, and construct a path through the switch. Second, the control unit must maintain the connection."
  },
  {
    "text": "Because the digital switch uses\ntime division principles, this may require ongoing manipulation of the switching ele-\nments.However,the bits of the communication are transferred transparently (from the\npoint of view of the attached devices).Third, the control unit must tear down the con-\nnection, either in response to a request from one of the parties or for its own reasons."
  },
  {
    "text": "An important characteristic of a circuit-switching device is whether it is block-\ning or nonblocking. Blocking occurs when the network is unable to connect two sta-\ntions because all possible paths between them are already in use. A blocking\nnetwork is one in which such blocking is possible."
  },
  {
    "text": "Hence a nonblocking network\npermits all stations to be connected (in pairs) at once and grants all possible con-\nnection requests as long as the called party is free."
  },
  {
    "text": "When a network is supporting\nonly voice traffic, a blocking configuration is generally acceptable, because it is\nexpected that most phone calls are of short duration and that therefore only a frac-\ntion of the telephones will be engaged at any time. However, when data processing\ndevices are involved, these assumptions may be invalid."
  },
  {
    "text": "For example, for a data\nentry application, a terminal may be continuously connected to a computer for\nhours at a time. Hence, for data applications, there is a requirement for a nonblock-\ning or “nearly nonblocking” (very low probability of blocking) configuration. We turn now to an examination of the switching techniques internal to a single\ncircuit-switching node."
  },
  {
    "text": "Space Division Switching\nSpace division switching was originally developed for the analog environment and\nhas been carried over into the digital realm.The fundamental principles are the same,\nwhether the switch is used to carry analog or digital signals. As its name implies, a\nspace division switch is one in which the signal paths are physically separate from one\nanother (divided in space)."
  },
  {
    "text": "Each connection requires the establishment of a physical\npath through the switch that is dedicated solely to the transfer of signals between the\ntwo endpoints.The basic building block of the switch is a metallic crosspoint or semi-\nconductor gate that can be enabled and disabled by a control unit. Figure 10.5 shows a simple crossbar matrix with 10 full-duplex I/O lines."
  },
  {
    "text": "The\nmatrix has 10 inputs and 10 outputs; each station attaches to the matrix via one input\nand one output line. Interconnection is possible between any two lines by enabling\nthe appropriate crosspoint. Note that a total of 100 crosspoints is required."
  },
  {
    "text": "The\ncrossbar switch has a number of limitations:\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nFigure 10.5\nSpace Division Switch\nInput lines\nOutput lines\n• The number of crosspoints grows with the square of the number of attached\nstations.This is costly for a large switch. • The loss of a crosspoint prevents connection between the two devices whose\nlines intersect at that crosspoint."
  },
  {
    "text": "• The crosspoints are inefficiently utilized; even when all of the attached devices\nare active, only a small fraction of the crosspoints are engaged. To overcome these limitations, multiple-stage switches are employed."
  },
  {
    "text": "Figure\n10.6 is an example of a three-stage switch.This type of arrangement has two advan-\ntages over a single-stage crossbar matrix:\n• The number of crosspoints is reduced, increasing crossbar utilization. In this\nexample,the total number of crosspoints for 10 stations is reduced from 100 to 48. • There is more than one path through the network to connect two endpoints,\nincreasing reliability."
  },
  {
    "text": "Of course, a multistage network requires a more complex control scheme. To\nestablish a path in a single-stage network, it is only necessary to enable a single gate. In a multistage network, a free path through the stages must be determined and the\nappropriate gates enabled. A consideration with a multistage space division switch is that it may be blocking."
  },
  {
    "text": "It should be clear from Figure 10.5 that a single-stage crossbar matrix is nonblocking;\nthat is, a path is always available to connect an input to an output.That this may not be\nthe case with a multiple-stage switch can be seen in Figure 10.6.The heavier lines indi-\ncate the lines that are already in use."
  },
  {
    "text": "In this state, input line 10, for example, cannot be\nconnected to output line 3, 4, or 5, even though all of these output lines are available.A\n10.4 / SOFTSWITCH ARCHITECTURE\nFigure 10.6\nThree-Stage Space Division Switch\n2 \u0007 2 switch\n2 \u0007 2 switch\nmultiple-stage switch can be made nonblocking by increasing the number or size of the\nintermediate switches, but of course this increases the cost."
  },
  {
    "text": "Time Division Switching\nThe technology of switching has a long history, most of it covering an era when ana-\nlog signal switching predominated. With the advent of digitized voice and synchro-\nnous time division multiplexing techniques, both voice and data can be transmitted\nvia digital signals.This has led to a fundamental change in the design and technology\nof switching systems."
  },
  {
    "text": "Instead of relatively dumb space division systems, modern dig-\nital systems rely on intelligent control of space and time division elements."
  },
  {
    "text": "Virtually all modern circuit switches use digital time division techniques for\nestablishing and maintaining “circuits.” Time division switching involves the parti-\ntioning of a lower-speed bit stream into pieces that share a higher-speed stream with\nother bit streams.The individual pieces, or slots, are manipulated by control logic to\nroute data from input to output.There are a number of variations on this basic con-\ncept, which are beyond the scope of this book\n10.4 SOFTSWITCH ARCHITECTURE\nThe latest trend in the development of circuit-switching technology is generally referred\nto as the softswitch."
  },
  {
    "text": "In essence, a softswitch is a general-purpose computer running spe-\ncialized software that turns it into a smart phone switch."
  },
  {
    "text": "Softswitches cost significantly\nless than traditional circuit switches and can provide more functionality.In particular,in\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\naddition to handling the traditional circuit-switching functions, a softswitch can convert\na stream of digitized voice bits into packets.This opens up a number of options for trans-\nmission, including the increasingly popular voice over IP (Internet Protocol) approach."
  },
  {
    "text": "In any telephone network switch, the most complex element is the software\nthat controls call processing. This software performs call routing and implements\ncall-processing logic for hundreds of custom calling features.Typically, this software\nruns on a proprietary processor that is integrated with the physical circuit-switching\nhardware."
  },
  {
    "text": "A more flexible approach is to physically separate the call processing\nfunction from the hardware switching function. In softswitch terminology, the phys-\nical switching function is performed by a media gateway (MG) and the call process-\ning logic resides in a media gateway controller (MGC)."
  },
  {
    "text": "Figure 10.7 contrasts the architecture of a traditional telephone network circuit\nswitch with the softswitch architecture. In the latter case, the MG and MGC are dis-\ntinct entities and may be provided by different vendors."
  },
  {
    "text": "To facilitate interoperability,\ntwo Internet standards have been issued for a media gateway control protocol\nbetween the MG and MGC:RFC 2805 (Media Gateway Control Protocol Architecture\nFigure 10.7\nComparison between Traditional Circuit Switching and Softswitch\n(a) Traditional circuit switching\nSupervisory events\n(e.g., off-hook, on-hook)\nSupervisory events\n(e.g., off-hook, on-hook)\nRequest to generate progress\ntones (e.g., ringback, engaged)."
  },
  {
    "text": "Instructions to establish switch\nfabric connections. Circuit-switched\n(b) Softswitch architecture\nRequest to generate progress\ntones (e.g., ringback, engaged). Instructions to establish switch\nfabric connections. Circuit-or packet-\nCircuit-or packet-\n10.5 / PACKET-SWITCHING PRINCIPLES\nand Requirements) and RFC 3525 (Gateway Control Protocol Version 1)."
  },
  {
    "text": "Softswitch\nfunctionality is also defined in the H series or ITU-T Recommendations,which covers\naudiovisual and multimedia systems. 10.5 PACKET-SWITCHING PRINCIPLES\nThe long-haul circuit-switching telecommunications network was originally designed\nto handle voice traffic, and the majority of traffic on these networks continues to be\nvoice."
  },
  {
    "text": "A key characteristic of circuit-switching networks is that resources within the\nnetwork are dedicated to a particular call. For voice connections, the resulting circuit\nwill enjoy a high percentage of utilization because, most of the time, one party or the\nother is talking."
  },
  {
    "text": "However, as the circuit-switching network began to be used increas-\ningly for data connections, two shortcomings became apparent:\n• In a typical user/host data connection (e.g., personal computer user logged on\nto a database server), much of the time the line is idle.Thus, with data connec-\ntions, a circuit-switching approach is inefficient."
  },
  {
    "text": "• In a circuit-switching network, the connection provides for transmission at a\nconstant data rate. Thus, each of the two devices that are connected must\ntransmit and receive at the same data rate as the other.This limits the utility of\nthe network in interconnecting a variety of host computers and workstations."
  },
  {
    "text": "Each\npacket contains a portion (or all for a short message) of the user’s data plus some\ncontrol information. The control information, at a minimum, includes the informa-\ntion that the network requires to be able to route the packet through the network\nand deliver it to the intended destination. At each node en route, the packet is\nreceived, stored briefly, and passed on to the next node."
  },
  {
    "text": "Let us return to Figure 10.1, but now assume that it depicts a simple packet-\nswitching network.Consider a packet to be sent from station A to station E.The packet\nincludes control information that indicates that the intended destination is E."
  },
  {
    "text": "The\nFigure 10.8\nThe Use of Packets\nApplication data\nControl information\n(packet header)\nPacket-switching\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\npacket is sent from A to node 4."
  },
  {
    "text": "Node 4 stores the packet, determines the next leg of\nthe route (say 5), and queues the packet to go out on that link (the 4–5 link).When the\nlink is available,the packet is transmitted to node 5,which forwards the packet to node\n6, and finally to E.This approach has a number of advantages over circuit switching:\n• Line efficiency is greater, because a single node-to-node link can be dynami-\ncally shared by many packets over time.The packets are queued up and trans-\nmitted as rapidly as possible over the link."
  },
  {
    "text": "By contrast, with circuit switching,\ntime on a node-to-node link is preallocated using synchronous time division\nmultiplexing. Much of the time, such a link may be idle because a portion of its\ntime is dedicated to a connection that is idle."
  },
  {
    "text": "• A packet-switching network can perform data-rate conversion.Two stations of\ndifferent data rates can exchange packets because each connects to its node at\nits proper data rate. • When traffic becomes heavy on a circuit-switching network, some calls are\nblocked; that is, the network refuses to accept additional connection requests\nuntil the load on the network decreases."
  },
  {
    "text": "On a packet-switching network, pack-\nets are still accepted, but delivery delay increases. • Priorities can be used. If a node has a number of packets queued for transmis-\nsion, it can transmit the higher-priority packets first. These packets will there-\nfore experience less delay than lower-priority packets."
  },
  {
    "text": "Switching Technique\nIf a station has a message to send through a packet-switching network that is of\nlength greater than the maximum packet size, it breaks the message up into packets\nand sends these packets, one at a time, to the network."
  },
  {
    "text": "A question arises as to how\nthe network will handle this stream of packets as it attempts to route them through\nthe network and deliver them to the intended destination.Two approaches are used\nin contemporary networks: datagram and virtual circuit."
  },
  {
    "text": "In the datagram approach,each packet is treated independently,with no reference\nto packets that have gone before.This approach is illustrated in Figure 10.9,which shows\na time sequence of snapshots of the progress of three packets through the network."
  },
  {
    "text": "Each node chooses the next node on a packet’s path, taking into account information\nreceived from neighboring nodes on traffic, line failures, and so on. So the packets, each\nwith the same destination address,do not all follow the same route,and they may arrive\nout of sequence at the exit point."
  },
  {
    "text": "In this example, the exit node restores the packets to\ntheir original order before delivering them to the destination. In some datagram net-\nworks,it is up to the destination rather than the exit node to do the reordering.Also,it is\npossible for a packet to be destroyed in the network."
  },
  {
    "text": "For example, if a packet-switching\nnode crashes momentarily, all of its queued packets may be lost.Again, it is up to either\nthe exit node or the destination to detect the loss of a packet and decide how to recover\nit. In this technique, each packet, treated independently, is referred to as a datagram. In the virtual circuit approach, a preplanned route is established before any\npackets are sent."
  },
  {
    "text": "Once the route is established, all the packets between a pair of com-\nmunicating parties follow this same route through the network. This is illustrated in\nFigure 10.10."
  },
  {
    "text": "Because the route is fixed for the duration of the logical connection, it is\nsomewhat similar to a circuit in a circuit-switching network and is referred to as a\n10.5 / PACKET-SWITCHING PRINCIPLES\nFigure 10.9\nPacket Switching: Datagram Approach\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nFigure 10.10\nPacket Switching:Virtual-Circuit Approach\n10.5 / PACKET-SWITCHING PRINCIPLES\nvirtual circuit."
  },
  {
    "text": "Each packet contains a virtual circuit identifier as well as data. Each\nnode on the preestablished route knows where to direct such packets; no routing\ndecisions are required. At any time, each station can have more than one virtual cir-\ncuit to any other station and can have virtual circuits to more than one station."
  },
  {
    "text": "So the main characteristic of the virtual circuit technique is that a route\nbetween stations is set up prior to data transfer. Note that this does not mean that\nthis is a dedicated path, as in circuit switching."
  },
  {
    "text": "A transmitted packet is buffered at\neach node, and queued for output over a line, while other packets on other virtual\ncircuits may share the use of the line.The difference from the datagram approach is\nthat, with virtual circuits, the node need not make a routing decision for each\npacket. It is made only once for all packets using that virtual circuit."
  },
  {
    "text": "If two stations wish to exchange data over an extended period of time, there\nare certain advantages to virtual circuits. First, the network may provide services\nrelated to the virtual circuit, including sequencing and error control. Sequencing\nrefers to the fact that, because all packets follow the same route, they arrive in the\noriginal order."
  },
  {
    "text": "Error control is a service that assures not only that packets arrive in\nproper sequence, but also that all packets arrive correctly."
  },
  {
    "text": "For example, if a packet in\na sequence from node 4 to node 6 fails to arrive at node 6, or arrives with an error,\nnode 6 can request a retransmission of that packet from node 4.Another advantage\nis that packets should transit the network more rapidly with a virtual circuit; it is not\nnecessary to make a routing decision for each packet at each node."
  },
  {
    "text": "One advantage of the datagram approach is that the call setup phase is\navoided. Thus, if a station wishes to send only one or a few packets, datagram deliv-\nery will be quicker. Another advantage of the datagram service is that, because it is\nmore primitive, it is more flexible."
  },
  {
    "text": "For example, if congestion develops in one part of\nthe network, incoming datagrams can be routed away from the congestion.With the\nuse of virtual circuits, packets follow a predefined route, and thus it is more difficult\nfor the network to adapt to congestion.A third advantage is that datagram delivery\nis inherently more reliable."
  },
  {
    "text": "With the use of virtual circuits, if a node fails, all virtual\ncircuits that pass through that node are lost. With datagram delivery, if a node fails,\nsubsequent packets may find an alternate route that bypasses that node. A data-\ngram-style of operation is common in internetworks, discussed in Part Five."
  },
  {
    "text": "Packet Size\nThere is a significant relationship between packet size and transmission time, as\nshown in Figure 10.11. In this example, it is assumed that there is a virtual circuit from\nstation X through nodes a and b to station Y."
  },
  {
    "text": "The message to be sent comprises\n40 octets, and each packet contains 3 octets of control information, which is placed at\nthe beginning of each packet and is referred to as a header. If the entire message is\nsent as a single packet of 43 octets (3 octets of header plus 40 octets of data), then the\npacket is first transmitted from station X to node a (Figure 10.11a)."
  },
  {
    "text": "When the entire\npacket is received, it can then be transmitted from a to b. When the entire packet is\nreceived at node b, it is then transferred to station Y. Ignoring switching time, total\ntransmission time is 129 octet-times (\ntransmissions)."
  },
  {
    "text": "Suppose now that we break the message up into two packets, each containing\n20 octets of the message and, of course, 3 octets each of header, or control information."
  },
  {
    "text": "43 octets * 3 packet\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nFigure 10.11\nEffect of Packet Size on Transmission Time\n(a) 1-packet message\n(b) 2-packet message\n(c) 5-packet message\n(d) 10-packet message\nIn this case, node a can begin transmitting the first packet as soon as it has\narrived from X,without waiting for the second packet.Because of this overlap\nin transmission, the total transmission time drops to 92 octet-times."
  },
  {
    "text": "By break-\ning the message up into five packets, each intermediate node can begin trans-\nmission even sooner and the savings in time is greater, with a total of\n77 octet-times for transmission. However, this process of using more and\nsmaller packets eventually results in increased, rather than reduced, delay as\nillustrated in Figure 10.11d."
  },
  {
    "text": "This is because each packet contains a fixed\namount of header, and more packets mean more of these headers. Further-\nmore, the example does not show the processing and queuing delays at each\n10.5 / PACKET-SWITCHING PRINCIPLES\nnode. These delays are also greater when more packets are handled for a single mes-\nsage."
  },
  {
    "text": "However, we shall see in the next chapter that an extremely small packet size (53\noctets) can result in an efficient network design. Comparison of Circuit Switching and Packet Switching\nHaving looked at the internal operation of packet switching, we can now return to a\ncomparison of this technique with circuit switching."
  },
  {
    "text": "We first look at the important\nissue of performance and then examine other characteristics. Performance A simple comparison of circuit switching and the two forms of\npacket switching is provided in Figure 10.12.The figure depicts the transmission of a\nmessage across four nodes, from a source station attached to node 1 to a destination\nstation attached to node 4."
  },
  {
    "text": "In this figure, we are concerned with three types of delay:\n• Propagation delay: The time it takes a signal to propagate from one node to\nthe next.This time is generally negligible.The speed of electromagnetic signals\nthrough a wire medium, for example, is typically \n• Transmission time: The time it takes for a transmitter to send out a block of data."
  },
  {
    "text": "For example,it takes 1 s to transmit a 10,000-bit block of data onto a 10-kbps line. • Node delay: The time it takes for a node to perform the necessary processing\nas it switches data. 2 * 108 m/s."
  },
  {
    "text": "Figure 10.12\nEvent Timing for Circuit Switching and Packet Switching\n(a) Circuit switching\nPropagation\nAcknowledge-\nment signal\n(b) Virtual circuit packet switching\nAcknowledge-\nment packet\n(c) Datagram packet switching\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nFor circuit switching, there is a certain amount of delay before the message can\nbe sent."
  },
  {
    "text": "First, a Call Request signal is sent through the network, to set up a connec-\ntion to the destination. If the destination station is not busy, a Call Accepted signal\nreturns. Note that a processing delay is incurred at each node during the call\nrequest; this time is spent at each node setting up the route of the connection."
  },
  {
    "text": "On\nthe return, this processing is not needed because the connection is already set up. After the connection is set up, the message is sent as a single block, with no notice-\nable delay at the switching nodes. Virtual circuit packet switching appears quite similar to circuit switching. A\nvirtual circuit is requested using a Call Request packet, which incurs a delay at each\nnode."
  },
  {
    "text": "The virtual circuit is accepted with a Call Accept packet. In contrast to the\ncircuit-switching case, the call acceptance also experiences node delays, even\nthough the virtual circuit route is now established. The reason is that this packet is\nqueued at each node and must wait its turn for transmission. Once the virtual cir-\ncuit is established, the message is transmitted in packets."
  },
  {
    "text": "It should be clear that this\nphase of the operation can be no faster than circuit switching, for comparable net-\nworks. This is because circuit switching is an essentially transparent process, pro-\nviding a constant data rate across the network. Packet switching involves some\ndelay at each node in the path. Worse, this delay is variable and will increase with\nincreased load."
  },
  {
    "text": "Datagram packet switching does not require a call setup. Thus, for short mes-\nsages, it will be faster than virtual circuit packet switching and perhaps circuit\nswitching."
  },
  {
    "text": "However, because each individual datagram is routed independently, the\nprocessing for each datagram at each node may be longer than for virtual circuit\npackets.Thus, for long messages, the virtual circuit technique may be superior."
  },
  {
    "text": "Figure 10.12 is intended only to suggest what the relative performance of the\ntechniques might be; actual performance depends on a host of factors, including the\nsize of the network, its topology, the pattern of load, and the characteristics of typi-\ncal exchanges."
  },
  {
    "text": "Other Characteristics Besides performance, there are a number of other\ncharacteristics that may be considered in comparing the techniques we have\nbeen discussing. Table 10.1 summarizes the most important of these. Most of\nthese characteristics have already been discussed. A few additional comments\nAs was mentioned, circuit switching is essentially a transparent service."
  },
  {
    "text": "Once a connection is established, a constant data rate is provided to the con-\nnected stations. This is not the case with packet switching, which typically intro-\nduces variable delay, so that data arrive in a choppy manner. Indeed, with\ndatagram packet switching, data may arrive in a different order than they were\ntransmitted."
  },
  {
    "text": "An additional consequence of transparency is that there is no over-\nhead required to accommodate circuit switching. Once a connection is established,\nthe analog or digital data are passed through, as is, from source to destination."
  },
  {
    "text": "For packet switching, analog data must be converted to digital before transmis-\nsion; in addition, each packet includes overhead bits, such as the destination\n10.6 / X.25\nComparison of Communication Switching Techniques\nCircuit Switching\nDatagram Packet Switching\nVirtual Circuit Packet\nDedicated transmission path\nNo dedicated path\nNo dedicated path\nContinuous transmission of \nTransmission of packets\nTransmission of packets\nFast enough for interactive\nFast enough for interactive\nFast enough for interactive\nMessages are not stored\nPackets may be stored until \nPackets stored until delivered\nThe path is established for \nRoute established for each \nRoute established for entire \nentire conversation\nconversation\nCall setup delay; negligible \nPacket transmission delay\nCall setup delay; packet\ntransmission delay\ntransmission delay\nBusy signal if called party \nSender may be notified if \nSender notified of connection\npacket not delivered\nOverload may block call \nOverload increases packet \nOverload may block call\nsetup; no delay for established \nsetup; increases packet delay\nElectromechanical or \nSmall switching nodes\nSmall switching nodes\ncomputerized switching nodes\nUser responsible for message \nNetwork may be responsible \nNetwork may be responsible\nloss protection\nfor individual packets\nfor packet sequences\nUsually no speed or code \nSpeed and code conversion\nSpeed and code conversion\nFixed bandwidth\nDynamic use of bandwidth\nDynamic use of bandwidth\nNo overhead bits after call \nOverhead bits in each packet\nOverhead bits in each packet\nOne technical aspect of packet-switching networks remains to be examined: the inter-\nface between attached devices and the network.We have seen that a circuit-switching\nnetwork provides a transparent communications path for attached devices that makes\nit appear that the two communicating stations have a direct link."
  },
  {
    "text": "However, in the case\nof packet-switching networks, the attached stations must organize their data into\npackets for transmission.This requires a certain level of cooperation between the net-\nwork and the attached stations.This cooperation is embodied in an interface standard. The standard used for traditional packet-switching networks is X.25."
  },
  {
    "text": "X.25 is an ITU-T standard that specifies an interface between a host system\nand a packet-switching network.The functionality of X.25 is specified on three levels:\n• Physical level\n• Link level\n• Packet level\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nThe physical level deals with the physical interface between an attached station\n(computer, terminal) and the link that attaches that station to the packet-switching\nnode.It makes use of the physical-level specification in a standard known as X.21,but\nin many cases other standards, such as EIA-232, are substituted."
  },
  {
    "text": "The link level pro-\nvides for the reliable transfer of data across the physical link, by transmitting the data\nas a sequence of frames.The link level standard is referred to as LAPB (Link Access\nProtocol–Balanced). LAPB is a subset of HDLC, which was described in Chapter 7."
  },
  {
    "text": "The packet level provides a virtual circuit service.This service enables any sub-\nscriber to the network to set up logical connections, called virtual circuits, to other\nsubscribers. An example is shown in Figure 10.13 (compare Figure 10.1)."
  },
  {
    "text": "In this\nexample, station A has a virtual circuit connection to C; station B has two virtual cir-\ncuits established, one to C and one to D; and stations E and F each have a virtual cir-\ncuit connection to D. In this context, the term virtual circuit refers to the logical connection between\ntwo stations through the network; this is perhaps best termed an external virtual cir-\ncuit."
  },
  {
    "text": "Earlier, we used the term virtual circuit to refer to a specific preplanned route\nthrough the network between two stations; this could be called an internal virtual\ncircuit. Typically, there is a one-to-one relationship between external and internal\nvirtual circuits. However, it is also possible to employ X.25 with a datagram-style\nnetwork."
  },
  {
    "text": "What is important for an external virtual circuit is that there is a logical\nrelationship, or logical channel, established between two stations, and all of the data\nFigure 10.13\nThe Use of Virtual Circuits\nPacket-switching\nSolid line \u0001 physical link\nDashed line \u0001 virtual circuit\n10.7 / FRAME RELAY\nFigure 10.14\nUser Data and X.25 Protocol Control Information\nX.25 packet\nassociated with that logical channel are considered as part of a single stream of data\nbetween the two stations."
  },
  {
    "text": "For example, in Figure 10.13, station D keeps track of data\npackets arriving from three different workstations (B, E, F) on the basis of the vir-\ntual circuit number associated with each incoming packet. Figure 10.14 illustrates the relationship among the levels of X.25."
  },
  {
    "text": "User data\nare passed down to X.25 level 3, which appends control information as a header, cre-\nating a packet.This control information serves several purposes, including\n1. Identifying by number a particular virtual circuit with which this data is to be\n2."
  },
  {
    "text": "Providing sequence numbers that can be used for flow and error control on a\nvirtual circuit basis\nThe entire X.25 packet is then passed down to the LAPB entity, which\nappends control information at the front and back of the packet, forming a LAPB\nframe (see Figure 7.7).Again, the control information in the frame is needed for the\noperation of the LAPB protocol."
  },
  {
    "text": "The operation of the X.25 packet level is similar to that of HDLC as described\nin Chapter 7. Each X.25 data packet includes send and receive sequence numbers. The send sequence number, P(S), is used to number sequentially all outgoing data\npackets on a particular virtual circuit."
  },
  {
    "text": "The receive sequence number, P(R), is an\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nThe traditional approach to packet switching makes use of X.25, which not only\ndetermines the user-network interface but also influences the internal design of the\nnetwork.The following are key features of the X.25 approach:\n• Call control packets, used for setting up and clearing virtual circuits, are car-\nried on the same channel and same virtual circuit as data packets."
  },
  {
    "text": "• Multiplexing of virtual circuits takes place at layer 3. • Both layer 2 and layer 3 include flow control and error control mechanisms."
  },
  {
    "text": "The X.25 approach results in considerable overhead.At each hop through the\nnetwork, the data link control protocol involves the exchange of a data frame and\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\n• Frame delimiting, alignment, and transparency\n• Frame multiplexing/demultiplexing using the address field\n• Inspection of the frame to ensure that it consists of an integral number of\noctets prior to zero bit insertion or following zero bit extraction\n• Inspection of the frame to ensure that it is neither too long nor too short\n• Detection of transmission errors\n• Congestion control functions\nThe last function listed is new to LAPF."
  },
  {
    "text": "The remaining functions listed are\nalso functions of LAPD. The core functions of LAPF in the user plane constitute a sublayer of the data\nlink layer. This provides the bare service of transferring data link frames from one\nsubscriber to another, with no flow control or error control.Above this, the user may\nchoose to select additional data link or network-layer end-to-end functions."
  },
  {
    "text": "Based on the core functions, a network offers\nframe relay as a connection-oriented link layer service with the following properties:\n• Preservation of the order of frame transfer from one edge of the network to\n• A small probability of frame loss\nAs with X.25, frame relay involves the use of logical connections, in this case\ncalled data link connections rather than virtual circuits.The frames transmitted over\nthese data link connections are not protected by a data link control pipe with flow\nand error control."
  },
  {
    "text": "Another difference between X.25 and frame relay is that the lat-\nter devotes a separate data link connection to call control. The setting up and tear-\ning down of data link connections is done over this permanent control-oriented data\nlink connection. The frame relay architecture significantly reduces the amount of work\nrequired of the network."
  },
  {
    "text": "User data are transmitted in frames with virtually no pro-\ncessing by the intermediate network nodes, other than to check for errors and to\nroute based on connection number. A frame in error is simply discarded, leaving\nerror recovery to higher layers."
  },
  {
    "text": "User Data Transfer\nThe operation of frame relay for user data transfer is best explained by considering\nthe frame format, illustrated in Figure 10.16a.This is the format defined for the min-\nimum-function LAPF protocol (known as LAPF core protocol).The format is simi-\nlar to that of LAPD and LAPB with one obvious omission: There is no Control\nfield.This has the following implications:\n• There is only one frame type, used for carrying user data.There are no control\n• It is not possible to perform all control on the connection; a logical connection\ncan only carry user data."
  },
  {
    "text": "• It is not possible to perform flow control and error control, because there are\nno sequence numbers."
  },
  {
    "text": "10.7 / FRAME RELAY\n(a) Frame format\n(b) Address field—2 octets (default)\n(c) Address field—3 octets \nLower DLCI or DL-CORE control\nLower DLCI or DL-CORE control\n(d) Address field—4 octets \nAddress field extension bit\nCommand/response bit\nForward explicit congestion\nnotification\nBackward explicit congestion\nnotification\nData link connection identifier\nDLCI or DL-CORE control indicator\nDiscard eligibility\nInformation\nThe Flag and Frame Check Sequence (FCS) fields function as in HDLC."
  },
  {
    "text": "The information field carries higher-layer data. If the user selects to implement\nadditional data link control functions end to end, then a data link frame can be\ncarried in this field. Specifically, a common selection will be to use the full LAPF\nprotocol (known as LAPF control protocol), to perform functions above the\nLAPF core functions."
  },
  {
    "text": "Note that the protocol implemented in this fashion is\nstrictly between the end subscribers and is transparent to the frame relay net-\nThe address field has a default length of 2 octets and may be extended to 3\nor 4 octets. It carries a data link connection identifier (DLCI) of 10, 16, or 23 bits."
  },
  {
    "text": "The DLCI serves the same function as the virtual circuit number in X.25: It\nallows multiple logical frame relay connections to be multiplexed over a single\nchannel. As in X.25, the connection identifier has only local significance: Each\nend of the logical connection assigns its own DLCI from the pool of locally\nunused numbers, and the network must map from one to the other."
  },
  {
    "text": "The alterna-\ntive, using the same DLCI on both ends, would require some sort of global man-\nagement of DLCI values. The length of the Address field, and hence of the DLCI, is determined by the\nAddress field extension (EA) bits."
  },
  {
    "text": "Two good books on\nthe subject are [BELL00] and [FREE04]. The literature on packet switching is enormous. Books with good treatments of this\nsubject include [BERT92] and [SPRA91]. [ROBE78] is a classic paper on how packet switch-\ning technology evolved. [RYBZ80] is a good tutorial on X.25. [BARA02] and [HEGG84] are\nalso interesting. A more in-depth treatment of frame relay can be found in [STAL99]."
  },
  {
    "text": "An excellent\nbook-length treatment is [BUCK00]. [CHER89] is a good tutorial on frame relay. Baran, P. “The Beginnings of Packet Switching: Some Underlying Concepts.”\nIEEE Communications Magazine, July 2002. Bellamy, J. Digital Telephony. New York:Wiley, 2000. Bertsekas, D., and Gallager, R. Data Networks. Englewood Cliffs, NJ: Prentice\nHall, 1992. Buckwalter, J."
  },
  {
    "text": "Frame Relay: Technology and Practice. Reading, MA: Addison-\nWesley, 2000. Cherukuri, R., and Derby, R. “Frame Relay: Protocols and Private Network\nApplications.” Proceedings, IEEE INFOCOM ’89, 1989. Freeman, R. Telecommunication System Engineering. New York: Wiley, 1996. Heggestad, H. “An Overview of Packet Switching Communications.” IEEE\nCommunications Magazine, April 1984. Roberts, L."
  },
  {
    "text": "“The Evolution of Packet Switching.” Proceedings of the IEEE,\nNovember 1978. Rybzzynski, A. “X.25 Interface and End-to-End Virtual Circuit Characteris-\ntics.” IEEE Transactions on Communications, April 1980. Spragins, J,; Hammond, J.; and Pawlikowski, K. Telecommunications Protocols\nand Design. Reading, MA:Addison-Wesley, 1991. Stallings, W. ISDN and Broadband ISDN, with Frame Relay and ATM."
  },
  {
    "text": "What are the four generic architectural components of a public communications net-\nwork? Define each term. What is the principal application that has driven the design of circuit-switching net-\nWhat are the advantages of packet switching compared to circuit switching? Explain the difference between datagram and virtual circuit operation."
  },
  {
    "text": "What is the significance of packet size in a packet-switching network? What types of delay are significant in assessing the performance of a packet-switching\nHow does frame relay differ from X.25?"
  },
  {
    "text": "What are the relative advantages and disadvantages of frame relay compared to\nConsider a simple telephone network consisting of two end offices and one interme-\ndiate switch with a 1-MHz full-duplex trunk between each end office and the inter-\nmediate switch.Assume a 4-kHz channel for each voice call.The average telephone is\nused to make four calls per 8-hour workday, with a mean call duration of six minutes."
  },
  {
    "text": "Ten percent of the calls are long distance. What is the maximum number of tele-\nphones an end office can support? If a crossbar matrix has n input lines and m output lines, how many crosspoints are\nb. How many crosspoints would be required if there were no distinction between\ninput and output lines (i.e., if any line could be interconnected to any other line\nserviced by the crossbar)?"
  },
  {
    "text": "Show the minimum configuration. Consider a three-stage switch such as Figure 10.6. Assume that there are a total of N\ninput lines and N output lines for the overall three-stage switch. If n is the number of\ninput lines to a stage 1 crossbar and the number of output lines to a stage 3 crossbar,\nthen there are N/n stage 1 crossbars and N/n stage 3 crossbars."
  },
  {
    "text": "Assume each stage 1\ncrossbar has one output line going to each stage 2 crossbar, and each stage 2 crossbar\ncircuit switching\ncircuit-switching network\ncontrol signaling\ncrossbar matrix\ndigital switch\nspace division switching\nframe relay\nmedia gateway controller\npacket switching\nsubscriber line\nsubscriber loop\ntime division switching\nvirtual circuit\nCHAPTER 10 / CIRCUIT SWITCHING AND PACKET SWITCHING\nhas one output line going to each stage 3 crossbar."
  },
  {
    "text": "For such a configuration it can be\nshown that, for the switch to be nonblocking, the number of stage 2 crossbar matrices\nWhat is the total number of crosspoints among all the crossbar switches? b. For a given value of N, the total number of crosspoints depends on the value of n. That is, the value depends on how many crossbars are used in the first stage to\nhandle the total number of input lines."
  },
  {
    "text": "Assuming a large number of input lines to\neach crossbar (large value of n), what is the minimum number of crosspoints for a\nnonblocking configuration as a function of n? For a range of N from \nplot the number of crosspoints for a single-stage\nswitch and an optimum three-stage crossbar switch."
  },
  {
    "text": "Explain the flaw in the following reasoning: Packet switching requires control and\naddress bits to be added to each packet. This introduces considerable overhead in\npacket switching. In circuit switching, a transparent circuit is established. No extra bits\nare needed. Therefore, there is no overhead in circuit switching."
  },
  {
    "text": "Because there is no\noverhead in circuit switching, line utilization must be more efficient than in packet\nDefine the following parameters for a switching network:\npute the end-to-end delay for circuit switching, virtual circuit packet switching,\nCHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nPhysical layer\nATM adaptation layer (AAL)\nHigher layer\nControl plane\nManagement plane\nLayer management\nPlane management\nFigure 11.1\nATM Protocol Architecture\ncase of ATM, the information flow on each logical connection is organized into fixed-\nsize packets, called cells."
  },
  {
    "text": "ATM is a streamlined protocol with minimal error and flow control capabili-\nties. This reduces the overhead of processing ATM cells and reduces the number of\noverhead bits required with each cell, thus enabling ATM to operate at high data\nrates. Further, the use of fixed-size cells simplifies the processing required at each\nATM node, again supporting the use of ATM at high data rates."
  },
  {
    "text": "The standards issued for ATM by ITU-T are based on the protocol architec-\nture shown in Figure 11.1, which illustrates the basic architecture for an interface\nbetween user and network. The physical layer involves the specification of a trans-\nmission medium and a signal encoding scheme.The data rates specified at the phys-\nical layer range from 25.6 Mbps to 622.08 Mbps."
  },
  {
    "text": "Other data rates, both higher and\nlower, are possible. Two layers of the protocol architecture relate to ATM functions. There is an\nATM layer common to all services that provides packet transfer capabilities, and an\nATM adaptation layer (AAL) that is service dependent.The ATM layer defines the\ntransmission of data in fixed-size cells and defines the use of logical connections."
  },
  {
    "text": "The use of ATM creates the need for an adaptation layer to support information\ntransfer protocols not based on ATM.The AAL maps higher-layer information into\nATM cells to be transported over an ATM network, then collects information from\nATM cells for delivery to higher layers."
  },
  {
    "text": "The protocol reference model involves three separate planes:\n• User plane: Provides for user information transfer, along with associated con-\ntrols (e.g., flow control, error control)\n• Control plane: Performs call control and connection control functions\n• Management plane: Includes plane management, which performs manage-\nment functions related to a system as a whole and provides coordination\nbetween all the planes, and layer management, which performs management\nfunctions relating to resources and parameters residing in its protocol entities\n11.2 / ATM LOGICAL CONNECTIONS\n11.2 ATM LOGICAL CONNECTIONS\nLogical connections in ATM are referred to as virtual channel connections (VCCs)."
  },
  {
    "text": "A VCC is analogous to a virtual circuit in X.25; it is the basic unit of switching in an\nATM network. A VCC is set up between two end users through the network and a\nvariable-rate, full-duplex flow of fixed-size cells is exchanged over the connection. VCCs are also used for user-network exchange (control signaling) and network-net-\nwork exchange (network management and routing)."
  },
  {
    "text": "For ATM, a second sublayer of processing has been introduced that deals with\nthe concept of virtual path (Figure 11.2). A virtual path connection (VPC) is a bun-\ndle of VCCs that have the same endpoints. Thus, all of the cells flowing over all of\nthe VCCs in a single VPC are switched together."
  },
  {
    "text": "The virtual path concept was developed in response to a trend in high-speed\nnetworking in which the control cost of the network is becoming an increasingly\nhigher proportion of the overall network cost. The virtual path technique helps\ncontain the control cost by grouping connections sharing common paths through\nthe network into a single unit."
  },
  {
    "text": "Network management actions can then be applied to\na small number of groups of connections instead of a large number of individual\nconnections."
  },
  {
    "text": "Several advantages can be listed for the use of virtual paths:\n• Simplified network architecture: Network transport functions can be sepa-\nrated into those related to an individual logical connection (virtual channel)\nand those related to a group of logical connections (virtual path). • Increased network performance and reliability: The network deals with fewer,\naggregated entities."
  },
  {
    "text": "• Reduced processing and short connection setup time: Much of the work is\ndone when the virtual path is set up. By reserving capacity on a virtual path\nconnection in anticipation of later call arrivals, new virtual channel connec-\ntions can be established by executing simple control functions at the endpoints\nof the virtual path connection; no call processing is required at transit nodes."
  },
  {
    "text": "Thus, the addition of new virtual channels to an existing virtual path involves\nminimal processing. • Enhanced network services: The virtual path is used internal to the network\nbut is also visible to the end user.Thus, the user may define closed user groups\nor closed networks of virtual channel bundles."
  },
  {
    "text": "transmission path\nVirtual path\nVirtual channels\nFigure 11.2\nATM Connection Relationships\nCHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nRequest for\nVCC originates\nEstablish a\nBlock VCC or\nrequest more\nVPC exists? Can quality\nbe satisfied? Figure 11.3\nCall Establishent Using Virtual Paths\nFigure 11.3 suggests in a general way the call establishment process using\nvirtual channels and virtual paths."
  },
  {
    "text": "The process of setting up a virtual path con-\nnection is decoupled from the process of setting up an individual virtual channel\nconnection:\n• The virtual path control mechanisms include calculating routes, allocating\ncapacity, and storing connection state information."
  },
  {
    "text": "• To set up a virtual channel, there must first be a virtual path connection to the\nrequired destination node with sufficient available capacity to support the vir-\ntual channel, with the appropriate quality of service. A virtual channel is set up\nby storing the required state information (virtual channel/virtual path mapping)."
  },
  {
    "text": "11.2 / ATM LOGICAL CONNECTIONS\nVirtual Path/Virtual Channel Terminology\nVirtual Channel (VC)\nA generic term used to describe unidirectional transport of ATM cells\nassociated by a common unique identifier value."
  },
  {
    "text": "Virtual Channel Link\nA means of unidirectional transport of ATM cells between a point where a\nVCI value is assigned and the point where that value is translated or termi-\nVirtual Channel Identifier \nA unique numerical tag that identifies a particular VC link for a given \nVirtual Channel Connection \nA concatenation of VC links that extends between two points where ATM\nservice users access the ATM layer.VCCs are provided for the purpose of\nuser-user, user-network, or network-network information transfer."
  },
  {
    "text": "Cell\nsequence integrity is preserved for cells belonging to the same VCC. Virtual Path\nA generic term used to describe unidirectional transport of ATM cells\nbelonging to virtual channels that are associated by a common unique\nidentifier value."
  },
  {
    "text": "Virtual Path Link\nA group of VC links, identified by a common value of VPI, between a point\nwhere a VPI value is assigned and the point where that value is translated\nor terminated. Virtual Path Identifier (VPI)\nIdentifies a particular VP link."
  },
  {
    "text": "Virtual Path Connection (VPC)\nA concatenation of VP links that extends between the point where the VCI\nvalues are assigned and the point where those values are translated or\nremoved, i.e., extending the length of a bundle of VC links that share the\nsame VPI.VPCs are provided for the purpose of user-user, user-network,\nor network-network information transfer."
  },
  {
    "text": "The terminology of virtual paths and virtual channels used in the standard is a\nbit confusing and is summarized in Table 11.1."
  },
  {
    "text": "Whereas most of the network-layer\nprotocols that we deal with in this book relate only to the user-network interface, the\nconcepts of virtual path and virtual channel are defined in the ITU-T Recommenda-\ntions with reference to both the user-network interface and the internal network\nVirtual Channel Connection Uses\nThe endpoints of a VCC may be end users, network entities, or an end user and a\nnetwork entity."
  },
  {
    "text": "In all cases, cell sequence integrity is preserved within a VCC: that is,\ncells are delivered in the same order in which they are sent. Let us consider exam-\nples of the three uses of a VCC:\n• Between end users: Can be used to carry end-to-end user data; can also be\nused to carry control signaling between end users, as explained later."
  },
  {
    "text": "A VPC\nbetween end users provides them with an overall capacity; the VCC organiza-\ntion of the VPC is up to the two end users, provided the set of VCCs does not\nexceed the VPC capacity. CHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\n• Between an end user and a network entity: Used for user-to-network control\nsignaling, as discussed subsequently."
  },
  {
    "text": "A user-to-network VPC can be used to\naggregate traffic from an end user to a network exchange or network server. • Between two network entities: Used for network traffic management and\nrouting functions. A network-to-network VPC can be used to define a com-\nmon route for the exchange of network management information."
  },
  {
    "text": "Virtual Path/Virtual Channel Characteristics\nITU-T Recommendation I.150 lists the following as characteristics of virtual chan-\nnel connections:\n• Quality of service (QoS): A user of a VCC is provided with a QoS specified by\nparameters such as cell loss ratio (ratio of cells lost to cells transmitted) and\ncell delay variation."
  },
  {
    "text": "• Switched and semipermanent virtual channel connections: A switched VCC is\nan on-demand connection, which requires a call control signaling for setup and\ntearing down.A semipermanent VCC is one that is of long duration and is set\nup by configuration or network management action."
  },
  {
    "text": "• Cell sequence integrity: The sequence of transmitted cells within a VCC is pre-\n• Traffic parameter negotiation and usage monitoring: Traffic parameters can\nbe negotiated between a user and the network for each VCC. The network\nmonitors the input of cells to the VCC, to ensure that the negotiated parame-\nters are not violated."
  },
  {
    "text": "The types of traffic parameters that can be negotiated include average rate,peak\nrate, burstiness, and peak duration. The network may need a number of strategies to\ndeal with congestion and to manage existing and requested VCCs.At the crudest level,\nthe network may simply deny new requests for VCCs to prevent congestion."
  },
  {
    "text": "Addi-\ntionally, cells may be discarded if negotiated parameters are violated or if congestion\nbecomes severe. In an extreme situation, existing connections might be terminated. I.150 also lists characteristics of VPCs. The first four characteristics listed are\nidentical to those for VCCs."
  },
  {
    "text": "That is, QoS; switched and semipermanent VPCs; cell\nsequence integrity; and traffic parameter negotiation and usage monitoring are all\nalso characteristics of a VPC. There are a number of reasons for this duplication. First, this provides some flexibility in how the network service manages the require-\nments placed upon it."
  },
  {
    "text": "Second, the network must be concerned with the overall\nrequirements for a VPC, and within a VPC may negotiate the establishment of vir-\ntual channels with given characteristics. Finally, once a VPC is set up, it is possible\nfor the end users to negotiate the creation of new VCCs. The VPC characteristics\nimpose a discipline on the choices that the end users may make."
  },
  {
    "text": "In addition, a fifth characteristic is listed for VPCs:\n• Virtual channel identifier restriction within a VPC: One or more virtual chan-\nnel identifiers, or numbers, may not be available to the user of the VPC but\nmay be reserved for network use. Examples include VCCs used for network\nmanagement."
  },
  {
    "text": "11.3 / ATM CELLS\nControl Signaling\nIn ATM, a mechanism is needed for the establishment and release of VPCs and\nVCCs. The exchange of information involved in this process is referred to as con-\ntrol signaling and takes place on separate connections from those that are being\nFor VCCs, I.150 specifies four methods for providing an establishment/release\nfacility."
  },
  {
    "text": "One or a combination of these methods will be used in any particular net-\n1. Semipermanent VCCs may be used for user-to-user exchange. In this case, no\ncontrol signaling is required. 2. If there is no preestablished call control signaling channel, then one must be set\nup. For that purpose, a control signaling exchange must take place between the\nuser and the network on some channel."
  },
  {
    "text": "Hence we need a permanent channel,\nprobably of low data rate, that can be used to set up VCCs that can be used for\ncall control. Such a channel is called a meta-signaling channel, as the channel is\nused to set up signaling channels. 3. The meta-signaling channel can be used to set up a VCC between the user and\nthe network for call control signaling."
  },
  {
    "text": "This user-to-network signaling virtual\nchannel can then be used to set up VCCs to carry user data. 4. The meta-signaling channel can also be used to set up a user-to-user signaling\nvirtual channel. Such a channel must be set up within a preestablished VPC. It\ncan then be used to allow the two end users, without network intervention, to\nestablish and release user-to-user VCCs to carry user data."
  },
  {
    "text": "For VPCs, three methods are defined in I.150:\n1. A VPC can be established on a semipermanent basis by prior agreement. In\nthis case, no control signaling is required. 2. VPC establishment/release may be customer controlled. In this case, the cus-\ntomer uses a signaling VCC to request the VPC from the network. 3. VPC establishment/release may be network controlled."
  },
  {
    "text": "In this case, the net-\nwork establishes a VPC for its own convenience.The path may be network-to-\nnetwork, user-to-network, or user-to-user. 11.3 ATM CELLS\nThe asynchronous transfer mode makes use of fixed-size cells, consisting of a 5-octet\nheader and a 48-octet information field. There are several advantages to the use of\nsmall, fixed-size cells."
  },
  {
    "text": "First, the use of small cells may reduce queuing delay for a\nhigh-priority cell, because it waits less if it arrives slightly behind a lower-priority\ncell that has gained access to a resource (e.g., the transmitter)."
  },
  {
    "text": "Second, it appears\nthat fixed-size cells can be switched more efficiently, which is important for the very\nhigh data rates of ATM [PARE88].With fixed-size cells, it is easier to implement the\nswitching mechanism in hardware."
  },
  {
    "text": "CHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nGeneric Flow Control Virtual Path Identifier\nVirtual Path Identifier\nVirtual Channel Identifier\nPayload Type\nHeader Error Control\n(a) User-network interface\nInformation field\n(48 octets)\n(b) Network-network interface\nVirtual Path Identifier\nVirtual Channel Identifier\nHeader Error Control\nInformation field\n(48 octets)\nPayload Type\nFigure 11.4\nATM Cell Format\nHeader Format\nFigure 11.4a shows the cell header format at the user-network interface."
  },
  {
    "text": "Figure\n11.4b shows the cell header format internal to the network. The Generic Flow Control (GFC) field does not appear in the cell header internal\nto the network, but only at the user-network interface."
  },
  {
    "text": "Hence, it can be used for control\nof cell flow only at the local user-network interface.The field could be used to assist the\ncustomer in controlling the flow of traffic for different qualities of service. In any case,\nthe GFC mechanism is used to alleviate short-term overload conditions in the network."
  },
  {
    "text": "I.150 lists as a requirement for the GFC mechanism that all terminals be able\nto get access to their assured capacities. This includes all constant-bit-rate (CBR)\nterminals as well as the variable-bit-rate (VBR) terminals that have an element of\nguaranteed capacity (CBR and VBR are explained in Section 11.5). The current\nGFC mechanism is described in a subsequent subsection."
  },
  {
    "text": "The Virtual Path Identifier (VPI) constitutes a routing field for the network.It is\n8 bits at the user-network interface and 12 bits at the network-network interface.The\n11.3 / ATM CELLS\nPayload Type (PT) Field Coding\nInterpretation\nUser data cell,\ncongestion not experienced,\nUser data cell,\ncongestion not experienced,\nUser data cell,\ncongestion experienced,\nUser data cell,\ncongestion experienced,\nOAM segment associated cell\nOAM end-to-end associated cell\nResource management cell\nReserved for future function\nOAM = Operations, Administration, and Maintenance\nSDU = Service Data Unit\nSDU-type = 1\nSDU-type = 0\nSDU-type = 1\nSDU-type = 0\n1This is the term used in ATM Forum documents."
  },
  {
    "text": "In ITU-T documents, this bit is referred to as the \nATM-user-to-ATM-user (AAU) indication bit.The meaning is the same. latter allows support for an expanded number of VPCs internal to the network, to\ninclude those supporting subscribers and those required for network management. The Virtual Channel Identifier (VCI) is used for routing to and from the end user."
  },
  {
    "text": "The Payload Type (PT) field indicates the type of information in the information\nfield.Table 11.2 shows the interpretation of the PT bits.A value of 0 in the first bit indi-\ncates user information (that is, information from the next higher layer)."
  },
  {
    "text": "In this case, the\nsecond bit indicates whether congestion has been experienced; the third bit, known as\nthe Service Data Unit (SDU)1 type bit, is a one-bit field that can be used to discrimi-\nnate two types of ATM SDUs associated with a connection.The term SDU refers to the\n48-octet payload of the cell.A value of 1 in the first bit of the Payload Type field indi-\ncates that this cell carries network management or maintenance information.This indi-\ncation allows the insertion of network-management cells onto a user’s VCC without\nimpacting the user’s data."
  },
  {
    "text": "Thus, the PT field can provide inband control information. The Cell Loss Priority (CLP) bit is used to provide guidance to the network\nin the event of congestion. A value of 0 indicates a cell of relatively higher prior-\nity, which should not be discarded unless no other alternative is available.A value\nof 1 indicates that this cell is subject to discard within the network."
  },
  {
    "text": "The user\nmight employ this field so that extra cells (beyond the negotiated rate) may be\ninserted into the network, with a CLP of 1, and delivered to the destination if the\nnetwork is not congested. The network may set this field to 1 for any data cell\nthat is in violation of an agreement concerning traffic parameters between the\nuser and the network."
  },
  {
    "text": "In this case, the switch that does the setting realizes that\nthe cell exceeds the agreed traffic parameters but that the switch is capable of\nhandling the cell. At a later point in the network, if congestion is encountered,\nthis cell has been marked for discard in preference to cells that fall within agreed\ntraffic limits."
  },
  {
    "text": "CHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nThe Header Error Control (HEC) field is used for both error control and syn-\nchronization, as explained subsequently. Generic Flow Control\nI.150 specifies the use of the GFC field to control traffic flow at the user-network\ninterface (UNI) in order to alleviate short-term overload conditions.The actual flow\ncontrol mechanism is defined in I.361."
  },
  {
    "text": "GFC flow control is part of a proposed con-\ntrolled cell transfer (CCT) capability intended to meet the requirements of non-\nATM LANs connected to a wide area ATM network [LUIN97]. In particular, CCT\nis intended to provide good service for high-volume bursty traffic with variable-\nlength messages. In the remainder of this subsection, we examine the GFC mecha-\nnism, as so far standardized."
  },
  {
    "text": "When the equipment at the UNI is configured to support the GFC mecha-\nnism, two sets of procedures are used: uncontrolled transmission and controlled\ntransmission. In essence, every connection is identified as either subject to flow\ncontrol or not."
  },
  {
    "text": "Of those subject to flow control, there may be one group of con-\ntrolled connections (Group A) that is the default, or controlled traffic may be\nclassified into two groups of controlled connections (Group A and Group B);\nthese are known, respectively, as the one-queue and two-queue models. Flow\ncontrol is exercised in the direction from the subscriber to the network by the\nnetwork side."
  },
  {
    "text": "First, we consider the operation of the GFC mechanism when there is only\none group of controlled connections. The controlled equipment, called terminal\nequipment (TE), initializes two variables: TRANSMIT is a flag initialized to\nSET (1), and GO_CNTR, which is a credit counter, is initialized to 0."
  },
  {
    "text": "A third\nvariable, GO_VALUE, is either initialized to 1 or set to some larger value at\nconfiguration time. The rules for transmission by the controlled device are as\ncells on uncontrolled connections may be sent at any\nno cells may be sent on either controlled or uncon-\ntrolled connections. 2."
  },
  {
    "text": "If a HALT signal is received from the controlling equipment,TRANSMIT is set\nto 0 and remains at zero until a NO_HALT signal is received, at which time\nTRANSMIT is set to 1. and there is no cell to transmit on any uncontrolled connec-\ntions, then\nthen the TE may send a cell on a controlled connec-\ntion.The TE marks that cell as a cell on a controlled connection and decre-\nments GO_CNTR."
  },
  {
    "text": "then the TE may not send a cell on a controlled con-\n4. The TE sets GO_CNTR to GO_VALUE upon receiving a SET signal; a null\nsignal has no effect on GO_CNTR."
  },
  {
    "text": "GO_CNTR = 0,\nGO_CNTR 7 0,\nTRANSMIT = 1\nTRANSMIT = 0,\nTRANSMIT = 1,\n11.3 / ATM CELLS\nGeneric Flow Control (GFC) Field Coding\nUncontrolled\n1-Queue Model\n2-Queue Model\n1-Queue Model\n2-Queue Model\nSET(1)/NULL(0)\nSET(1)/NULL(0)\ncell belongs to \ncell belongs to\nfor Group A\ncontrolled(1)/\nGroup A(1)/\nuncontrolled(0)\nSET(1)/NULL(0) \ncell belongs to \nfor Group B\nGroup B(1)/\nequipment is \nequipment is\nuncontrolled(0)/ \nuncontrolled(0)/\ncontrolled(1)\ncontrolled(1)\nControlled : controlling\nControlling : controlled\nThe HALT signal is used logically to limit the effective ATM data rate and\nshould be cyclic."
  },
  {
    "text": "For example, to reduce the data rate over a link by half, the HALT\ncommand is issued by the controlling equipment so as to be in effect 50% of the\ntime. This is done in a predictable, regular pattern over the lifetime of the physical\nconnection."
  },
  {
    "text": "For the two-queue model, there are two counters, each with a current counter\nvalue and an initialization value: GO_CNTR_A, GO_VALUE_A, GO_CNTR_B,\nand GO_VALUE_B. This enables the network to control two separate groups of\nconnections. Table 11.3 summarizes the rules for setting GFC bits."
  },
  {
    "text": "Header Error Control\nEach ATM cell includes an 8-bit HEC field that is calculated based on the remain-\ning 32 bits of the header. The polynomial used to generate the code is\nIn most existing protocols that include an error control field,\nsuch as HDLC, the data that serve as input to the error code calculation are in gen-\neral much longer than the size of the resulting error code."
  },
  {
    "text": "This allows for error\ndetection. In the case of ATM, the input to the calculation is only 32 bits, compared\nto 8 bits for the code.The fact that the input is relatively short allows the code to be\nused not only for error detection but also, in some cases, for actual error correction. This is because there is sufficient redundancy in the code to recover from certain\nerror patterns."
  },
  {
    "text": "Figure 11.5 depicts the operation of the HEC algorithm at the receiver.At ini-\ntialization, the receiver’s error correction algorithm is in the default mode for sin-\ngle-bit error correction."
  },
  {
    "text": "As each cell is received, the HEC calculation and\ncomparison is performed.As long as no errors are detected, the receiver remains in\nerror correction mode.When an error is detected, the receiver will correct the error\nif it is a single-bit error or will detect that a multibit error has occurred. In either\ncase, the receiver now moves to detection mode."
  },
  {
    "text": "In this mode, no attempt is made to\nX8 + X2 + X + 1. CHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nNo error detected\n(no action)\nMultibit error detected\n(cell discarded)\nSingle-bit error detected\n(correction)\nNo error detected\n(no action)\nError detected\n(cell discarded)\nFigure 11.5\nHEC Operation at Receiver\n2The SDH-based approach is not defined for 25.6 Mbps."
  },
  {
    "text": "correct errors.The reason for this change is a recognition that a noise burst or other\nevent might cause a sequence of errors, a condition for which the HEC is insuffi-\ncient for error correction.The receiver remains in detection mode as long as errored\ncells are received. When a header is examined and found not to be in error, the\nreceiver switches back to correction mode."
  },
  {
    "text": "The flowchart of Figure 11.6 shows the\nconsequence of errors in the cell header. The error protection function provides both recovery from single-bit header\nerrors and a low probability of the delivery of cells with errored headers under\nbursty error conditions."
  },
  {
    "text": "The error characteristics of fiber-based transmission sys-\ntems appear to be a mix of single-bit errors and relatively large burst errors. For\nsome transmission systems, the error correction capability, which is more time-con-\nsuming, might not be invoked."
  },
  {
    "text": "Figure 11.7, based on one in ITU-T I.432, indicates how random bit errors\nimpact the probability of occurrence of discarded cells and valid cells with errored\nheaders when HEC is employed. 11.4 TRANSMISSION OF ATM CELLS\nI.432 specifies that ATM cells may be transmitted at one of several data rates:\n622.08 Mbps, 155.52 Mbps, 51.84 Mbps, or 25.6 Mbps."
  },
  {
    "text": "We need to specify the trans-\nmission structure that will be used to carry this payload. Two approaches are de-\nfined in I.432: a cell-based physical layer and an SDH-based physical layer.2 We\nexamine each of these approaches in turn. Cell-Based Physical Layer\nFor the cell-based physical layer,no framing is imposed.The interface structure consists\nof a continuous stream of 53-octet cells."
  },
  {
    "text": "Because there is no external frame imposed in\nthe cell-based approach, some form of synchronization is needed. Synchronization is\n11.4 / TRANSMISSION OF ATM CELLS\n(intended service)\nApparently valid cell with\nerrored header\n(unintended service)\ntermined to be\nincorrectable? Unsuccessful\nFigure 11.6\nEffect of Error in Cell Header\nachieved on the basis of the HEC field in the cell header."
  },
  {
    "text": "The procedure is as follows\n(Figure 11.8):\n1. In the HUNT state, a cell delineation algorithm is performed bit by bit to\ndetermine if the HEC coding law is observed (i.e., match between received\nHEC and calculated HEC). Once a match is achieved, it is assumed that one\nheader has been found, and the method enters the PRESYNC state."
  },
  {
    "text": "CHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nDiscarded cell\nprobability\nProbability of\nvalid cells with\nerrored headers\nOutcome probability\nBit error probability\nFigure 11.7\nImpact of Random Bit Errors on HEC Performance\nCell by cell\nCell by cell\nCorrect HEC\nA consecutive\nincorrect HEC\nD consecutive\ncorrect HEC\nFigure 11.8\nCell Delineation State Diagram\n11.4 / TRANSMISSION OF ATM CELLS\nfor 155.52 Mbps\nBit error probability (Re)\nIn-sync time Td(A) in cell units\nFigure 11.9\nImpact of Random Bit Errors on Cell-Delineation Performance\n2."
  },
  {
    "text": "In the PRESYNC state,a cell structure is now assumed.The cell delineation algo-\nrithm is performed cell by cell until the encoding law has been confirmed consec-\nutively times. 3. In the SYNC state, the HEC is used for error detection and correction (see\nFigure 11.5)."
  },
  {
    "text": "Cell delineation is assumed to be lost if the HEC coding law is\nrecognized consecutively as incorrect \nThe values of \nare design parameters. Greater values of \nlonger delays in establishing synchronization but in greater robustness against false\ndelineation. Greater values of \nresult in longer delays in recognizing a misalign-\nment but in greater robustness against false misalignment."
  },
  {
    "text": "Figures 11.9 and 11.10,\nbased on I.432, show the impact of random bit errors on cell delineation perfor-\nmance for various values of \nThe first figure shows the average amount of\ntime that the receiver will maintain synchronization in the face of errors, with \na parameter."
  },
  {
    "text": "The second figure shows the average amount of time to acquire syn-\nchronization as a function of error rate, with as a parameter. The advantage of using a cell-based transmission scheme is the simplified\ninterface that results when both transmission and transfer mode functions are based\non a common structure."
  },
  {
    "text": "SDH-Based Physical Layer\nThe SDH-based physical layer imposes a structure on the ATM cell stream. In this\nsection, we look at the I.432 specification for 155.52 Mbps; similar structures are\nused at other data rates."
  },
  {
    "text": "For the SDH-based physical layer, framing is imposed\nCHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nFor 155.52 Mbps\nBit error probability (Re)\nAcquisition time Ta(D) in cell units\nFigure 11.10\nAcquisition Time versus Bit-Error Probability\nusing the STM-1 (STS-3) frame. Figure 11.11 shows the payload portion of an\nSTM-1 frame (see Figure 8.11)."
  },
  {
    "text": "This payload may be offset from the beginning of\nthe frame, as indicated by the pointer in the section overhead of the frame. As can\nbe seen, the payload consists of a 9-octet path overhead portion and the remainder,\nwhich contains ATM cells. Because the payload capacity (2340 octets) is not an\ninteger multiple of the cell length (53 octets), a cell may cross a payload boundary."
  },
  {
    "text": "260 columns\nFigure 11.11\nSTM-1 Payload for SDH-Based ATM Cell Transmission\n11.5 / ATM SERVICE CATEGORIES\nThe H4 octet in the path overhead is set at the sending side to indicate the next\noccurrence of a cell boundary.That is, the value in the H4 field indicates the number\nof octets to the first cell boundary following the H4 octet. The permissible range of\nvalues is 0 to 52."
  },
  {
    "text": "The advantages of the SDH-based approach include the following:\n• It can be used to carry either ATM-based or STM-based (synchronous trans-\nfer mode) payloads, making it possible to initially deploy a high-capacity fiber-\nbased transmission infrastructure for a variety of circuit-switched and\ndedicated applications and then readily migrate to the support of ATM."
  },
  {
    "text": "• Some specific connections can be circuit switched using an SDH channel. For\nexample, a connection carrying constant-bit-rate video traffic can be mapped\ninto its own exclusive payload envelope of the STM-1 signal, which can be cir-\ncuit switched.This may be more efficient than ATM switching."
  },
  {
    "text": "• Using SDH synchronous multiplexing techniques, several ATM streams can\nbe combined to build interfaces with higher bit rates than those supported by\nthe ATM layer at a particular site. For example, four separate ATM streams,\neach with a bit rate of 155 Mbps (STM-1), can be combined to build a 622-\nMbps (STM-4) interface."
  },
  {
    "text": "11.5 ATM SERVICE CATEGORIES\nAn ATM network is designed to be able to transfer many different types of traffic simul-\ntaneously,including real-time flows such as voice,video,and bursty TCP flows.Although\neach such traffic flow is handled as a stream of 53-octet cells traveling through a virtual\nchannel, the way in which each data flow is handled within the network depends on the\ncharacteristics of the traffic flow and the requirements of the application."
  },
  {
    "text": "For example,\nreal-time video traffic must be delivered within minimum variation in delay. We examine the way in which an ATM network handles different types of traf-\nfic flows in Chapter 13."
  },
  {
    "text": "In this section, we summarize ATM service categories, which\nare used by an end system to identify the type of service required.The following ser-\nvice categories have been defined by the ATM Forum:\n• Real-Time Service\n—Constant bit rate (CBR)\n—Real-time variable bit rate (rt-VBR)\n• Non-Real-Time Service\n—Non-real-time variable bit rate (nrt-VBR)\n—Available bit rate (ABR)\n—Unspecified bit rate (UBR)\n—Guaranteed frame rate (GFR)\nReal-Time Services\nThe most important distinction among applications concerns the amount of delay and\nthe variability of delay,referred to as jitter,that the application can tolerate.Real-time\nCHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\napplications typically involve a flow of information to a user that is intended to repro-\nduce that flow at a source."
  },
  {
    "text": "For example, a user expects a flow of audio or video infor-\nmation to be presented in a continuous, smooth fashion."
  },
  {
    "text": "A lack of continuity or\nexcessive loss results in significant loss of quality.Applications that involve interaction\nbetween people have tight constraints on delay.Typically, any delay above a few hun-\ndred milliseconds becomes noticeable and annoying.Accordingly, the demands in the\nATM network for switching and delivery of real-time data are high."
  },
  {
    "text": "Constant Bit Rate (CBR) The CBR service is perhaps the simplest service to\ndefine. It is used by applications that require a fixed data rate that is continuously\navailable during the connection lifetime and a relatively tight upper bound on trans-\nfer delay. CBR is commonly used for uncompressed audio and video information."
  },
  {
    "text": "Example of CBR applications include\n• Videoconferencing\n• Interactive audio (e.g., telephony)\n• Audio/video distribution (e.g., television, distance learning, pay-per-view)\n• Audio/video retrieval (e.g., video-on-demand, audio library)\nReal-Time Variable Bit Rate (rt-VBR)\nThe rt-VBR category is\nintended for time-sensitive applications; that is, those requiring tightly con-\nstrained delay and delay variation."
  },
  {
    "text": "The principal difference between applica-\ntions appropriate for rt-VBR and those appropriate for CBR is that rt-VBR\napplications transmit at a rate that varies with time. Equivalently, an rt-VBR\nsource can be characterized as somewhat bursty. For example, the standard\napproach to video compression results in a sequence of image frames of varying\nsizes."
  },
  {
    "text": "Because real-time video requires a uniform frame transmission rate, the\nactual data rate varies. The rt-VBR service allows the network more flexibility than CBR. The net-\nwork is able to statistically multiplex a number of connections over the same dedi-\ncated capacity and still provide the required service to each connection."
  },
  {
    "text": "Non-Real-Time Services\nNon-real-time services are intended for applications that have bursty traffic charac-\nteristics and do not have tight constraints on delay and delay variation.Accordingly,\nthe network has greater flexibility in handling such traffic flows and can make\ngreater use of statistical multiplexing to increase network efficiency."
  },
  {
    "text": "Non-Real-Time Variable Bit Rate (nrt-VBR) For some non-real-time\napplications, it is possible to characterize the expected traffic flow so that the net-\nwork can provide substantially improved QoS in the areas of loss and delay."
  },
  {
    "text": "Such\napplications can use the nrt-VBR service.With this service, the end system specifies\na peak cell rate, a sustainable or average cell rate, and a measure of how bursty or\nclumped the cells may be.With this information, the network can allocate resources\nto provide relatively low delay and minimal cell loss."
  },
  {
    "text": "The nrt-VBR service can be used for data transfers that have critical response-\ntime requirements. Examples include airline reservations, banking transactions, and\nprocess monitoring. 11.5 / ATM SERVICE CATEGORIES\nUnspecified Bit Rate (UBR) At any given time, a certain amount of the capac-\nity of an ATM network is consumed in carrying CBR and the two types of VBR traf-\nfic."
  },
  {
    "text": "Additional capacity is available for one or both of the following reasons: (1) Not\nall of the total resources have been committed to CBR and VBR traffic, and (2) the\nbursty nature of VBR traffic means that at some times less than the committed\ncapacity is being used."
  },
  {
    "text": "All of this unused capacity could be made available for the\nUBR service.This service is suitable for applications that can tolerate variable delays\nand some cell losses, which is typically true of TCP-based traffic.With UBR, cells are\nforwarded on a first-in-first-out (FIFO) basis using the capacity not consumed by\nother services; both delays and variable losses are possible."
  },
  {
    "text": "No initial commitment is\nmade to a UBR source and no feedback concerning congestion is provided; this is\nreferred to as a best-effort service."
  },
  {
    "text": "Examples of UBR applications include\n• Text/data/image transfer, messaging, distribution, retrieval\n• Remote terminal (e.g., telecommuting)\nAvailable Bit Rate (ABR) Bursty applications that use a reliable end-to-end pro-\ntocol such as TCP can detect congestion in a network by means of increased round-\ntrip delays and packet discarding. This is discussed in Chapter 20."
  },
  {
    "text": "However, TCP has\nno mechanism for causing the resources within the network to be shared fairly among\nmany TCP connections. Further,TCP does not minimize congestion as efficiently as is\npossible using explicit information from congested nodes within the network."
  },
  {
    "text": "To improve the service provided to bursty sources that would otherwise use UBR,\nthe ABR service has been defined.An application using ABR specifies a peak cell rate\n(PCR) that it will use and a minimum cell rate (MCR) that it requires.The network allo-\ncates resources so that all ABR applications receive at least their MCR capacity."
  },
  {
    "text": "Any\nunused capacity is then shared in a fair and controlled fashion among all ABR sources. The ABR mechanism uses explicit feedback to sources to assure that capacity is fairly\nallocated.Any capacity not used by ABR sources remains available for UBR traffic. An example of an application using ABR is LAN interconnection. In this case,\nthe end systems attached to the ATM network are routers."
  },
  {
    "text": "Figure 11.12 suggests how a network allocates resources during a steady-state\nperiod of time (no additions or deletions of virtual channels)."
  },
  {
    "text": "Available bit rate\nunspecified bit rate\nVariable bit rate\nConstant bit rate\nFigure 11.12\nATM Bit Rate Services\nCHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nGuaranteed Frame Rate (GFR) The most recent addition to the set of ATM\nservice categories is GFR, which is designed specifically to support IP backbone\nsubnetworks."
  },
  {
    "text": "GFR provides better service than UBR for frame-based traffic,\nincluding IP and Ethernet. A major goal of GFR is to optimize the handling of\nframe-based traffic that passes from a LAN through a router onto an ATM back-\nbone network."
  },
  {
    "text": "Such ATM networks are increasingly being used in large enterprise,\ncarrier, and Internet service provider networks to consolidate and extend IP ser-\nvices over the wide area. While ABR is also an ATM service meant to provide a\ngreater measure of guaranteed packet performance over ATM backbones, ABR is\nrelatively difficult to implement between routers over an ATM network."
  },
  {
    "text": "With the\nincreased emphasis on using ATM to support IP-based traffic, especially traffic that\noriginates on Ethernet LANs, GFR may offer the most attractive alternative for\nproviding ATM service. One of the techniques used by GFR to provide improved performance com-\npared to UBR is to require that network elements be aware of frame or packet bound-\naries."
  },
  {
    "text": "Thus, when congestion requires the discard of cells, network elements must\ndiscard all of the cells that comprise a single frame. GFR also allows a user to reserve\ncapacity for each GFR VC.The user is guaranteed that this minimum capacity will be\nsupported.Additional frames may be transmitted if the network is not congested."
  },
  {
    "text": "Garrett,M.“A Service Architecture for ATM:From Applications to Scheduling.”\nIEEE Network, May/June 1996. McDysan, D., and Spohn, D. ATM: Theory and Application. New York:\nMcGraw-Hill, 1999. Sato, K.; Ohta, S.; and Tokizawa, I. “Broad-Band ATM Network Architecture\nBased on Virtual Paths.” IEEE Transactions on Communications,August 1990."
  },
  {
    "text": "What are the relative advantages and disadvantages of ATM compared to frame relay? What is the difference between a virtual channel and a virtual path? What are the advantages of the use of virtual paths? What are the characteristics of a virtual channel connection? What are the characteristics of a virtual path connection? List and briefly explain the fields in an ATM cell."
  },
  {
    "text": "Briefly explain two methods for transmitting ATM cells. List and briefly define the ATM service categories. List all 16 possible values of the GFC field and the interpretation of each value (some\nvalues are illegal). One key design decision for ATM was whether to use fixed or variable length cells."
  },
  {
    "text": "Let us consider this decision from the point of view of efficiency.We can define trans-\nmission efficiency as\nNumber of information octets\nNumber of information octets + Number of overhead octets\nasynchronous transfer mode\nATM adaptation layer \navailable bit rate (ABR)\ncell loss priority (CLP)\nconstant bit rate (CBR)\ngeneric flow control (GFR)\nguaranteed frame rate\nheader error control (HEC)\nnon-real-time variable bit \nrate (nrt-VBR)\npayload type\nreal-time variable bit rate \nservice data unit (SDU)\nunspecified bit rate (UBR)\nvariable bit rate (VBR)\nvirtual channel\nvirtual path\nCHAPTER 11 / ASYNCHRONOUS TRANSFER MODE\nConsider the use of fixed-length packets."
  },
  {
    "text": "In this case the overhead consists of the\nheader octets. Define\nDerive an expression for N. Hint: The expression will need to use the operator\ninteger greater than or equal to Y. b. If cells have variable length, then overhead is determined by the header, plus the\nflags to delimit the cells or an additional length field in the header."
  },
  {
    "text": "Let \noverhead octets required to enable the use of variable-length cells. Derive an expression for N in terms of X, H, and Hv. Plot N versus message size for fixed- and\nvariable-length cells. Comment on the results. Another key design decision for ATM is the size of the data field for fixed-size cells. Let us consider this decision from the point of view of efficiency and delay."
  },
  {
    "text": "Assume that an extended transmission takes place, so that all cells are completely\nfilled. Derive an expression for the efficiency N as a function of H and L. b. Packetization delay is the delay introduced into a transmission stream by the need\nto buffer bits until an entire packet is filled before transmission."
  },
  {
    "text": "Derive an expres-\nsion for this delay as a function of L and the data rate R of the source. Common data rates for voice coding are 32 kbps and 64 kbps. Plot packetization\ndelay as a function of L for these two data rates; use a left-hand y-axis with a maxi-\nmum value of 2 ms. On the same graph, plot transmission efficiency as a function of\nL; use a right-hand y-axis with a maximum value of 100%."
  },
  {
    "text": "Comment on the results. Consider compressed video transmission in an ATM network. Suppose standard\nATM cells must be transmitted through five switches.The data rate is 43 Mbps. What is the transmission time for one cell through one switch? b. Each switch may be transmitting a cell from other traffic all of which we assume\nto have lower (non-preemptive for the cell) priority."
  },
  {
    "text": "If the switch is busy trans-\nmitting a cell, our cell has to wait until the other cell completes transmission. If\nthe switch is free our cell is transmitted immediately.What is the maximum time\nfrom when a typical video cell arrives at the first switch (and possibly waits)\nuntil it is finished being transmitted by the fifth and last one?"
  },
  {
    "text": "Assume that you\ncan ignore propagation time, switching time, and everything else but the trans-\nmission time and the time spent waiting for another cell to clear a switch. Now suppose we know that each switch is utilized 60% of the time with the other low\npriority traffic."
  },
  {
    "text": "By this we mean that with probability 0.6 when we look at a switch it\nis busy.Suppose that if there is a cell being transmitted by a switch,the average delay\nspent waiting for a cell to finish transmission is one-half a cell transmission time. What is the average time from the input of the first switch to clearing the fifth? d."
  },
  {
    "text": "However, the measure of most interest is not delay but jitter, which is the variabil-\nity in the delay. Use parts (b) and (c) to calculate the maximum and average vari-\nability, respectively, in the delay. In all cases assume that the various random events are independent of one another;\nfor example, we ignore the burstiness typical of such traffic."
  },
  {
    "text": "In order to support IP service over an ATM network, IP datagrams must first be seg-\nmented into a number of ATM cells before sending them over the ATM network. As\nATM does not provide cell loss recovery, the loss of any of these cells will result in the\nloss of the entire IP packet. Given\nDerive an expression for PP, and comment on the resulting expression. b."
  },
  {
    "text": "You say contemptuously that when one has left Sloane Square one must come to Vic-\ntoria. I say that one might do a thousand things instead, and that whenever I really\ncome there I have the sense of hairbreadth escape. And when I hear the guard shout\nout the word ‘Victoria’, it is not an unmeaning word. It is to me the cry of a herald\nannouncing conquest."
  },
  {
    "text": "It is to me indeed ‘Victoria’; it is the victory of Adam.”\n—The Man Who Was Thursday, G.K. Chesterton\nA variety of routing algorithms have been developed for packet-\nswitching, frame relay, and ATM networks, and for the Internet and\ninternetworks.These algorithms share many common principles."
  },
  {
    "text": "Routing schemes can be categorized based on a number of factors, such\nas what criterion is used to determine the best route between two\nnodes, what strategy is used for obtaining information needed to deter-\nmine route, and whether a distributed or centralized algorithm is used."
  },
  {
    "text": "The routing function attempts to find the least-cost route through the\nnetwork, with cost based on number of hops, expected delay, or other\nmetrics.Adaptive routing algorithms typically rely on the exchange of\ninformation about traffic conditions among nodes. A key design issue in switched networks, including packet-switching, frame relay,\nand ATM networks, and with internets, is that of routing."
  },
  {
    "text": "In general terms, the\nrouting function seeks to design routes through the network for individual pairs\nof communicating end nodes such that the network is used efficiently. This chapter begins with a brief overview of issues involved in routing\ndesign."
  },
  {
    "text": "Next, we look at the routing function in packet-switching networks and\nthen examine least-cost algorithms that are a central part of routing in switched\nnetworks. These topics cover issues that are relevant to routing in internets as\nwell as packet-switching networks. 12.1 ROUTING IN PACKET-SWITCHING NETWORKS\nOne of the most complex and crucial design aspects of switched data networks is\nrouting."
  },
  {
    "text": "This section surveys key characteristic that can be used to classify routing\nstrategies. The principles described in this section are also applicable to internet-\nwork routing, discussed in Part Five. 12.1 / ROUTING IN PACKET-SWITCHING NETWORKS\n1The term hop is used somewhat loosely in the literature."
  },
  {
    "text": "The more common definition, which we use, is\nthat the number of hops along a path from a given source to a given destination is the number of links\nbetween network nodes (packet-switching nodes, ATM switches, routers, etc.) that a packet traverses\nalong that path."
  },
  {
    "text": "Sometimes the number of hops is defined to include the link between the source station\nand the network and the link between the destination station and the network.This latter definition pro-\nduces a value two greater than the definition we use. Characteristics\nThe primary function of a packet-switching network is to accept packets from a source\nstation and deliver them to a destination station."
  },
  {
    "text": "To accomplish this, a path or route\nthrough the network must be determined; generally, more than one route is possible. Thus, a routing function must be performed. The requirements for this function\n• Correctness\n• Simplicity\n• Optimality\n• Robustness\n• Efficiency\n• Stability\nThe first two items on the list, correctness and simplicity, are self-explanatory."
  },
  {
    "text": "Robustness has to do with the ability of the network to deliver packets via some route\nin the face of localized failures and overloads.Ideally,the network can react to such con-\ntingencies without the loss of packets or the breaking of virtual circuits. The designer\nwho seeks robustness must cope with the competing requirement for stability."
  },
  {
    "text": "Tech-\nniques that react to changing conditions have an unfortunate tendency to either react\ntoo slowly to events or to experience unstable swings from one extreme to another. For\nexample, the network may react to congestion in one area by shifting most of the load\nto a second area. Now the second area is overloaded and the first is underutilized, caus-\ning a second shift."
  },
  {
    "text": "During these shifts, packets may travel in loops through the network. A tradeoff also exists between fairness and optimality. Some performance cri-\nteria may give higher priority to the exchange of packets between nearby stations\ncompared to an exchange between distant stations."
  },
  {
    "text": "This policy may maximize aver-\nage throughput but will appear unfair to the station that primarily needs to commu-\nnicate with distant stations."
  },
  {
    "text": "Finally, any routing technique involves some processing overhead at each\nnode and often a transmission overhead as well, both of which impair network effi-\nciency.The penalty of such overhead needs to be less than the benefit accrued based\non some reasonable metric, such as increased robustness or fairness."
  },
  {
    "text": "With these requirements in mind, we are in a position to assess the various\ndesign elements that contribute to a routing strategy. Table 12.1 lists these elements. Some of these categories overlap or are dependent on one another. Nevertheless, an\nexamination of this list serves to clarify and organize routing concepts."
  },
  {
    "text": "Performance Criteria The selection of a route is generally based on some per-\nformance criterion.The simplest criterion is to choose the minimum-hop route (one\nthat passes through the least number of nodes) through the network.1 This is an\neasily measured criterion and should minimize the consumption of network\nresources. A generalization of the minimum-hop criterion is least-cost routing."
  },
  {
    "text": "In\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nElements of Routing Techniques for Packet-Switching Networks\nPerformance Criteria\nNetwork Information Source\nNumber of hops\nAdjacent node\nNodes along route\nDecision Time\nPacket (datagram)\nNetwork Information Update Timing\nSession (virtual circuit)\nDecision Place\nMajor load change\nEach node (distributed)\nTopology change\nCentral node (centralized)\nOriginating node (source)\nFigure 12.1\nExample Network Configuration\nthis case, a cost is associated with each link, and, for any pair of attached stations, the\nroute through the network that accumulates the least cost is sought."
  },
  {
    "text": "For example,\nFigure 12.1 illustrates a network in which the two arrowed lines between a pair of\nnodes represent a link between these nodes, and the corresponding numbers repre-\nsent the current link cost in each direction. The shortest path (fewest hops) from\nnode 1 to node 6 is 1-3-6 \nbut the least-cost path is 1-4-5-6\nCosts are assigned to links to support one or more design\nobjectives."
  },
  {
    "text": "For example, the cost could be inversely related to the data rate (i.e., the\nhigher the data rate on a link, the lower the assigned cost of the link) or the current\nqueuing delay on the link. In the first case, the least-cost route should provide the\nhighest throughput. In the second case, the least-cost route should minimize delay. 1cost = 1 + 1 + 2 = 42."
  },
  {
    "text": "1cost = 5 + 5 = 102,\n12.1 / ROUTING IN PACKET-SWITCHING NETWORKS\nIn either the minimum-hop or least-cost approach, the algorithm for determin-\ning the optimum route for any pair of stations is relatively straightforward, and the\nprocessing time would be about the same for either computation. Because the least-\ncost criterion is more flexible, this is more common than the minimum-hop criterion."
  },
  {
    "text": "Several least-cost routing algorithms are in common use. These are described\nin Section 12.3. Decision Time and Place Routing decisions are made on the basis of some\nperformance criterion.Two key characteristics of the decision are the time and place\nthat the decision is made. Decision time is determined by whether the routing decision is made on a\npacket or virtual circuit basis."
  },
  {
    "text": "When the internal operation of the network is data-\ngram, a routing decision is made individually for each packet. For internal virtual\ncircuit operation, a routing decision is made at the time the virtual circuit is estab-\nlished. In the simplest case, all subsequent packets using that virtual circuit follow\nthe same route."
  },
  {
    "text": "In more sophisticated network designs, the network may dynami-\ncally change the route assigned to a particular virtual circuit in response to changing\nconditions (e.g., overload or failure of a portion of the network). The term decision place refers to which node or nodes in the network are\nresponsible for the routing decision."
  },
  {
    "text": "Most common is distributed routing, in which\neach node has the responsibility of selecting an output link for routing packets as\nthey arrive. For centralized routing, the decision is made by some designated node,\nsuch as a network control center. The danger of this latter approach is that the loss\nof the network control center may block operation of the network."
  },
  {
    "text": "The distributed\napproach is perhaps more complex but is also more robust.A third alternative, used\nin some networks, is source routing. In this case, the routing decision is actually\nmade by the source station rather than by a network node and is then communi-\ncated to the network. This allows the user to dictate a route through the network\nthat meets criteria local to that user."
  },
  {
    "text": "The decision time and decision place are independent design variables. For\nexample, in Figure 12.1, suppose that the decision place is each node and that the\nvalues depicted are the costs at a given instant in time: the costs may change. If a\npacket is to be delivered from node 1 to node 6, it might follow the route 1-4-5-6,\nwith each leg of the route determined locally by the transmitting node."
  },
  {
    "text": "Now let the\nvalues change such that 1-4-5-6 is no longer the optimum route. In a datagram net-\nwork, the next packet may follow a different route, again determined by each node\nalong the way. In a virtual circuit network, each node will remember the routing\ndecision that was made when the virtual circuit was established, and simply pass on\nthe packets without making a new decision."
  },
  {
    "text": "Network Information Source and Update Timing Most routing strate-\ngies require that decisions be based on knowledge of the topology of the network,\ntraffic load, and link cost. Surprisingly, some strategies use no such information and\nyet manage to get packets through; flooding and some random strategies (discussed\nlater) are in this category."
  },
  {
    "text": "With distributed routing,in which the routing decision is made by each node,the\nindividual node may make use of only local information, such as the cost of each out-\ngoing link. Each node might also collect information from adjacent (directly\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nconnected) nodes, such as the amount of congestion experienced at that node."
  },
  {
    "text": "Finally,\nthere are algorithms in common use that allow the node to gain information from all\nnodes on any potential route of interest. In the case of centralized routing, the central\nnode typically makes use of information obtained from all nodes. A related concept is that of information update timing, which is a function of\nboth the information source and the routing strategy."
  },
  {
    "text": "Clearly, if no information is\nused (as in flooding), there is no information to update. If only local information is\nused, the update is essentially continuous. That is, an individual node always knows\nits local conditions. For all other information source categories (adjacent nodes, all\nnodes), update timing depends on the routing strategy. For a fixed strategy, the\ninformation is never updated."
  },
  {
    "text": "For an adaptive strategy, information is updated from\ntime to time to enable the routing decision to adapt to changing conditions. As you might expect, the more information available, and the more frequently\nit is updated, the more likely the network is to make good routing decisions. On the\nother hand, the transmission of that information consumes network resources."
  },
  {
    "text": "Routing Strategies\nA large number of routing strategies have evolved for dealing with the routing\nrequirements of packet-switching networks. Many of these strategies are also\napplied to internetwork routing, which we cover in Part Five. In this section, we sur-\nvey four key strategies: fixed, flooding, random, and adaptive."
  },
  {
    "text": "Fixed Routing For fixed routing, a single, permanent route is configured for each\nsource-destination pair of nodes in the network. Either of the least-cost routing\nalgorithms described in Section 12.3 could be used. The routes are fixed, or at least\nonly change when there is a change in the topology of the network."
  },
  {
    "text": "Thus, the link\ncosts used in designing routes cannot be based on any dynamic variable such as traf-\nfic.They could, however, be based on expected traffic or capacity. Figure 12.2 suggests how fixed routing might be implemented. A central rout-\ning matrix is created, to be stored perhaps at a network control center."
  },
  {
    "text": "The matrix\nshows, for each source-destination pair of nodes, the identity of the next node on the\nNote that it is not necessary to store the complete route for each possible\npair of nodes. Rather, it is sufficient to know, for each pair of nodes, the identity of\nthe first node on the route. To see this, suppose that the least-cost route from X to\nY begins with the X-A link."
  },
  {
    "text": "Call the remainder of the route \nthis is the part\nfrom A to Y. Define \nas the least-cost route from A to Y. Now, if the cost of \ngreater than that of \nthen the X-Y route can be improved by using \nIf the cost of \nis less than \nis not the least-cost route from A to Y. Thus, at each point along a route, it is only necessary to know\nthe identity of the next node, not the entire route."
  },
  {
    "text": "In our example, the route from\nnode 1 to node 6 begins by going through node 4.Again consulting the matrix, the\nroute from node 4 to node 6 goes through node 5. Finally, the route from node 5 to\nnode 6 is a direct link to node 6.Thus, the complete route from node 1 to node 6 is\nFrom this overall matrix, routing tables can be developed and stored at each\nnode."
  },
  {
    "text": "From the reasoning in the preceding paragraph, it follows that each node need\n12.1 / ROUTING IN PACKET-SWITCHING NETWORKS\nNode 4 Directory\nDestination\nNode 5 Directory\nDestination\nNode 6 Directory\nDestination\nNode 3 Directory\nDestination\nNode 2 Directory\nDestination\nNode 1 Directory\nDestination\nFigure 12.2\nFixed Routing (using Figure 12.1)\nonly store a single column of the routing directory."
  },
  {
    "text": "The node’s directory shows the\nnext node to take for each destination. With fixed routing, there is no difference between routing for datagrams and\nvirtual circuits. All packets from a given source to a given destination follow the\nsame route. The advantage of fixed routing is its simplicity, and it should work well\nin a reliable network with a stable load."
  },
  {
    "text": "Its disadvantage is its lack of flexibility. It\ndoes not react to network congestion or failures. A refinement to fixed routing that would accommodate link and node outages\nwould be to supply the nodes with an alternate next node for each destination. For\nexample, the alternate next nodes in the node 1 directory might be 4, 3, 2, 3, 3. Flooding Another simple routing technique is flooding."
  },
  {
    "text": "This technique requires\nno network information whatsoever and works as follows. A packet is sent by a\nsource node to every one of its neighbors. At each node, an incoming packet is\nretransmitted on all outgoing links except for the link on which it arrived."
  },
  {
    "text": "For exam-\nple, if node 1 in Figure 12.1 has a packet to send to node 6, it send a copy of that\npacket (with a destination address of 6), to nodes 2, 3, and 4. Node 2 will send a copy\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\n2For each pair of end systems attached to the network, there is a minimum-hop path. The length of the\nlongest such minimum-hop path is the diameter of the network."
  },
  {
    "text": "to nodes 3 and 4. Node 4 will send a copy to nodes 2, 3, and 5. And so it goes. Even-\ntually, a number of copies of the packet will arrive at node 6. The packet must have\nsome unique identifier (e.g., source node and sequence number, or virtual circuit\nnumber and sequence number) so that node 6 knows to discard all but the first copy."
  },
  {
    "text": "Unless something is done to stop the incessant retransmission of packets, the\nnumber of packets in circulation just from a single source packet grows without\nbound. One way to prevent this is for each node to remember the identity of those\npackets it has already retransmitted. When duplicate copies of the packet arrive,\nthey are discarded."
  },
  {
    "text": "A simpler technique is to include a hop count field with each\npacket. The count can originally be set to some maximum value, such as the diame-\nter (length of the longest minimum-hop path through the network)2 of the network. Each time a node passes on a packet, it decrements the count by one. When the\ncount reaches zero, the packet is discarded."
  },
  {
    "text": "An example of the latter tactic is shown in Figure 12.3. The label on each\npacket in the figure indicates the current value of the hop count field in that packet. A packet is to be sent from node 1 to node 6 and is assigned a hop count of 3. On the\nfirst hop, three copies of the packet are created, and the hop count is decrement to\n2."
  },
  {
    "text": "For the second hop of all these copies, a total of nine copies are created. One of\nthese copies reaches node 6, which recognizes that it is the intended destination and\ndoes not retransmit. However, the other nodes generate a total of 22 new copies for\ntheir third and final hop. Each packet now has a hope count of 1."
  },
  {
    "text": "Note that if a node\nis not keeping track of packet identifier, it may generate multiple copies at this third\nstage.All packets received from the third hop are discarded, because the hop count\nis exhausted. In all, node 6 has received four additional copies of the packet. The flooding technique has three remarkable properties:\n• All possible routes between source and destination are tried."
  },
  {
    "text": "Thus, no matter\nwhat link or node outages have occurred, a packet will always get through if at\nleast one path between source and destination exists. • Because all routes are tried, at least one copy of the packet to arrive at the des-\ntination will have used a minimum-hop route."
  },
  {
    "text": "• All nodes that are directly or indirectly connected to the source node are\nBecause of the first property, the flooding technique is highly robust and\ncould be used to send emergency messages. An example application is a military\nnetwork that is subject to extensive damage."
  },
  {
    "text": "Because of the second property, flood-\ning might be used initially to set up the route for a virtual circuit.The third property\nsuggests that flooding can be useful for the dissemination of important information\nto all nodes; we will see that it is used in some schemes to disseminate routing\ninformation."
  },
  {
    "text": "The principal disadvantage of flooding is the high traffic load that it generates,\nwhich is directly proportional to the connectivity of the network. 12.1 / ROUTING IN PACKET-SWITCHING NETWORKS\n(a) First hop\n(b) Second hop\n(c) Third hop\nFigure 12.3\nFlooding Example 1hop count = 32\nRandom Routing Random routing has the simplicity and robustness of\nflooding with far less traffic load."
  },
  {
    "text": "With random routing, a node selects only\none outgoing path for retransmission of an incoming packet. The outgoing\nlink is chosen at random, excluding the link on which the packet arrived. If\nall links are equally likely to be chosen, then a node may simply utilize out-\ngoing links in a round-robin fashion."
  },
  {
    "text": "CHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nA refinement of this technique is to assign a probability to each outgoing link and to\nselect the link based on that probability.The probability could be based on data rate,\nin which case we have\nThe sum is taken over all candidate outgoing links. This scheme should pro-\nvide good traffic distribution."
  },
  {
    "text": "Note that the probabilities could also be based on\nfixed link costs. Like flooding, random routing requires the use of no network information. Because the route taken is random, the actual route will typically not be the least-\ncost route nor the minimum-hop route. Thus, the network must carry a higher than\noptimum traffic load, although not nearly as high as for flooding."
  },
  {
    "text": "Adaptive Routing In virtually all packet-switching networks, some sort of adap-\ntive routing technique is used.That is, the routing decisions that are made change as\nconditions on the network change. The principal conditions that influence routing\ndecisions are\n• Failure: When a node or link fails, it can no longer be used as part of a route."
  },
  {
    "text": "• Congestion: When a particular portion of the network is heavily congested, it is\ndesirable to route packets around rather than through the area of congestion. For adaptive routing to be possible, information about the state of the network\nmust be exchanged among the nodes."
  },
  {
    "text": "There are several drawbacks associated with\nthe use of adaptive routing, compared to fixed routing:\n• The routing decision is more complex; therefore, the processing burden on\nnetwork nodes increases."
  },
  {
    "text": "• In most cases, adaptive strategies depend on status information that is collected\nat one place but used at another.There is a tradeoff here between the quality of\nthe information and the amount of overhead. The more information that is\nexchanged, and the more frequently it is exchanged, the better will be the rout-\ning decisions that each node makes."
  },
  {
    "text": "On the other hand, this information is itself\na load on the constituent networks, causing a performance degradation. • An adaptive strategy may react too quickly, causing congestion-producing\noscillation, or too slowly, being irrelevant."
  },
  {
    "text": "Despite these real dangers, adaptive routing strategies are by far the most\nprevalent, for two reasons:\n• An adaptive routing strategy can improve performance, as seen by the net-\nRi = data rate on link i\nPi = probability of selecting link i\n12.1 / ROUTING IN PACKET-SWITCHING NETWORKS\n• An adaptive routing strategy can aid in congestion control, which is discussed\nin Chapter 13."
  },
  {
    "text": "Because an adaptive routing strategy tends to balance loads, it\ncan delay the onset of severe congestion. These benefits may or may not be realized, depending on the soundness of the\ndesign and the nature of the load. By and large, adaptive routing is an extraordinar-\nily complex task to perform properly."
  },
  {
    "text": "As demonstration of this, most major packet-\nswitching networks, such as ARPANET and its successors, and many commercial\nnetworks, have endured at least one major overhaul of their routing strategy."
  },
  {
    "text": "A convenient way to classify adaptive routing strategies is on the basis of\ninformation source: local, adjacent nodes, all nodes.An example of an adaptive rout-\ning strategy that relies only on local information is one in which a node routes each\npacket to the outgoing link with the shortest queue length, Q. This would have the\neffect of balancing the load on outgoing links."
  },
  {
    "text": "However, some outgoing links may\nnot be headed in the correct general direction.We can improve matters by also tak-\ning into account preferred direction, much as with random routing. In this case, each\nlink emanating from the node would have a bias \nfor each destination i, such that\nlower values of \nindicate more preferred directions."
  },
  {
    "text": "For each incoming packet\nheaded for node i, the node would choose the outgoing link that minimizes \nThus a node would tend to send packets in the right direction, with a concession\nmade to current traffic delays. As an example, Figure 12.4 show the status of node 4 of Figure 12.1 at a certain\npoint in time. Node 4 has links to four other nodes."
  },
  {
    "text": "Packets have been arriving and a\nbacklog has built up, with a queue of packets waiting for each of the outgoing links. A packet arrives from node 1 destined for node 6.To which outgoing link should the\npacket be routed?"
  },
  {
    "text": "Based on current queue lengths and the values of bias \nNode 4's Bias\nDestination 6\nNext Node Bias\nFigure 12.4\nExample of Isolated Adaptive Routing\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\neach outgoing link, the minimum value of \nis 4, on the link to node 3. Thus,\nnode 4 routes the packet through node 3."
  },
  {
    "text": "Adaptive schemes based only on local information are rarely used because\nthey do not exploit easily available information. Strategies based on information\nfrom adjacent nodes or all nodes are commonly found. Both take advantage of\ninformation that each node has about delays and outages that it experiences. Such\nadaptive strategies can be either distributed or centralized."
  },
  {
    "text": "In the distributed case,\neach node exchanges delay information with other nodes. Based on incoming infor-\nmation, a node tries to estimate the delay situation throughout the network, and\napplies a least-cost routing algorithm."
  },
  {
    "text": "In the centralized case, each node reports its\nlink delay status to a central node, which designs routes based on this incoming\ninformation and sends the routing information back to the nodes. 12.2 EXAMPLES: ROUTING IN ARPANET\nIn this section, we look at several examples of routing strategies."
  },
  {
    "text": "All of these were\ninitially developed for ARPANET, which is a packet-switching network that was the\nfoundation of the present-day Internet. It is instructive to examine these strategies\nfor several reasons. First, these strategies and similar ones are also used in other\npacket-switching networks, including a number of networks on the Internet."
  },
  {
    "text": "Second,\nrouting schemes based on the ARPANET work have also been used for internet-\nwork routing in the Internet and in private internetworks. And finally, the\nARPANET routing scheme evolved in a way that illuminates some of the key\ndesign issues related to routing algorithms."
  },
  {
    "text": "First Generation\nThe original routing algorithm, designed in 1969, was a distributed adaptive algo-\nrithm using estimated delay as the performance criterion and a version of the Bell-\nman-Ford algorithm (Section 12.3)."
  },
  {
    "text": "For this algorithm, each node maintains two\nsij = the next node in the current minimum-delay route from i to j\nSi = successor node vector for node i\nN = number of nodes in the network\ndij = current estimate of minimum delay from node i to node j 1dii = 02\nDi = delay vector for node i\n12.2 / EXAMPLES: ROUTING IN ARPANET\nPeriodically (every 128 ms), each node exchanges its delay vector with all of its\nneighbors."
  },
  {
    "text": "On the basis of all incoming delay vectors, a node k updates both of its\nvectors as follows:\nFigure 12.5 provides an example of the original ARPANET algorithm, using the\nnetwork of Figure 12.6. This is the same network as that of Figure 12.1, with some of\nthe link costs having different values (and assuming the same cost in both directions)."
  },
  {
    "text": "Figure 12.5a shows the routing table for node 1 at an instant in time that reflects the\nlki = current estimate of delay from k to i\nA = set of neighbor nodes for k\nusing i that minimizes the preceding expression\ni H A [dij + lki]\n(c) Node 1's routing table\nafter update and link\ncosts used in update\n(b) Delay vectors sent to node 1\nfrom neighbor nodes\n(a) Node 1's routing\ntable before update\nFigure 12.5\nOriginal ARPANET Routing Algorithm\nFigure 12.6\nNetwork for Example of Figure 12.5a\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nlink costs of Figure 12.6."
  },
  {
    "text": "For each destination, a delay is specified, and the next node\non the route that produces that delay.At some point, the link costs change to those of\nFigure 12.1. Assume that node 1’s neighbors (nodes 2, 3, and 4) learn of the change\nbefore node 1."
  },
  {
    "text": "Each of these nodes updates its delay vector and sends a copy to all of\nits neighbors,including node 1 (Figure 12.5b).Node 1 discards its current routing table\nand builds a new one, based solely on the incoming delay vector and its own estimate\nof link delay to each of its neighbors.The result is shown in Figure 12.5c."
  },
  {
    "text": "The estimated link delay is simply the queue length for that link.Thus, in build-\ning a new routing table, the node will tend to favor outgoing links with shorter queues. This tends to balance the load on outgoing links. However, because queue lengths\nvary rapidly with time, the distributed perception of the shortest route could change\nwhile a packet is en route."
  },
  {
    "text": "This could lead to a thrashing situation in which a packet\ncontinues to seek out areas of low congestion rather than aiming at the destination. Second Generation\nAfter some years of experience and several minor modifications, the original rout-\ning algorithm was replaced by a quite different one in 1979 [MCQU80]."
  },
  {
    "text": "The major\nshortcomings of the old algorithm were as follows:\n• The algorithm did not consider line speed, merely queue length. Thus, higher-\ncapacity links were not given the favored status they deserved."
  },
  {
    "text": "• Queue length is, in any case, an artificial measure of delay, because some vari-\nable amount of processing time elapses between the arrival of a packet at a\nnode and its placement in an outbound queue. • The algorithm was not very accurate. In particular, it responded slowly to con-\ngestion and delay increases."
  },
  {
    "text": "The new algorithm is also a distributed adaptive one, using delay as the perfor-\nmance criterion, but the differences are significant."
  },
  {
    "text": "Rather than using queue length as\na surrogate for delay, the delay is measured directly.At a node, each incoming packet\nis timestamped with an arrival time.A departure time is recorded when the packet is\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\n• The overutilization of some links can lead to the spread of congestion within\nthe network (this will be seen in the discussion of congestion in Chapter 13)."
  },
  {
    "text": "• The large swings in measured delay values result in the need for more fre-\nquent routing update messages. This increases the load on the network at just\nthe time when the network is already stressed. The ARPANET designers concluded that the essence of the problem was that\nevery node was trying to obtain the best route for all destinations,and that these efforts\nconflicted."
  },
  {
    "text": "It was concluded that under heavy loads, the goal of routing should be to\ngive the average route a good path instead of attempting to give all routes the best path. The designers decided that it was unnecessary to change the overall routing\nalgorithm. Rather, it was sufficient to change the function that calculates link costs."
  },
  {
    "text": "This was done in such a way as to damp routing oscillations and reduce routing\noverhead. The calculation begins with measuring the average delay over the last\n10 seconds.This value is then transformed with the following steps:\n1. Using a simple single-server queuing model, the measured delay is trans-\nformed into an estimate of link utilization."
  },
  {
    "text": "From queuing theory, utilization\ncan be expressed as a function of delay as follows:\nThe service time was set at the network-wide average packet size (600 bits)\ndivided by the data rate of the link. 2. The result is then smoothed by averaging it with the previous estimate of utilization:\nAveraging increases the period of routing oscillations, thus reducing routing\n3."
  },
  {
    "text": "The link cost is then set as a function of average utilization that is designed to\nprovide a reasonable estimate of cost while avoiding oscillation. Figure 12.8\nindicates the way in which the estimate of utilization is converted into a cost\nvalue.The final cost value is, in effect, a transformed value of delay."
  },
  {
    "text": "In Figure 12.8, delay is normalized to the value achieved on an idle line, which is\njust propagation delay plus transmission time. One curve on the figure indicates the\nway in which the actual delay rises as a function of utilization; the increase in delay is\ndue to queuing delay at the node."
  },
  {
    "text": "For the revised algorithm, the cost value is kept at\nr1n2 = link utilization measured at sampling time n\nU1n2 = average utilization calculated at sampling time n\nU1n + 12 = 0.5 * r1n + 12 + 0.5 * U1n2\nTs = service time\nT = measured delay\nr = link utilization\n12.3 / LEAST-COST ALGORITHMS\nFigure 12.8\nARPANET Delay Metrics\nthe minimum value until a given level of utilization is reached."
  },
  {
    "text": "This feature has the\neffect of reducing routing overhead at low traffic levels. Above a certain level of uti-\nlization, the cost level is allowed to rise to a maximum value that is equal to three\ntimes the minimum value. The effect of this maximum value is to dictate that traffic\nshould not be routed around a heavily utilized line by more than two additional hops."
  },
  {
    "text": "Note that the minimum threshold is set higher for satellite links. This encour-\nages the use of terrestrial links under conditions of light traffic, because the terres-\ntrial links have much lower propagation delay. Note also that the actual delay curve\nis much steeper than the transformation curves at high utilization levels."
  },
  {
    "text": "It is this\nsteep rise in link cost that causes all of the traffic on a link to be shed, which in turn\ncauses routing oscillations. In summary, the revised cost function is keyed to utilization rather than delay. The function acts similar to a delay-based metric under light loads and to a capacity-\nbased metric under heavy loads."
  },
  {
    "text": "12.3 LEAST-COST ALGORITHMS\nVirtually all packet-switching networks and all internets base their routing decision\non some form of least-cost criterion. If the criterion is to minimize the number of\nhops, each link has a value of 1. More typically, the link value is inversely propor-\ntional to the link capacity, proportional to the current load on the link, or some com-\nbination."
  },
  {
    "text": "In any case, these link or hop costs are used as input to a least-cost routing\nalgorithm, which can be simply stated as follows:\nGiven a network of nodes connected by bidirectional links, where each\nlink has a cost associated with it in each direction, define the cost of a path\nEstimated utilization\nTheoretical\nqueueing delay\nterrestrial link\nsatellite link\nDelay (hops)\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nbetween two nodes as the sum of the costs of the links traversed."
  },
  {
    "text": "For each\npair of nodes, find a path with the least cost. Note that the cost of a link may differ in its two directions.This would be true,\nfor example, if the cost of a link equaled the length of the queue of packets awaiting\ntransmission from each of the two nodes on the link."
  },
  {
    "text": "Most least-cost routing algorithms in use in packet-switching networks and\ninternets are variations of one of two common algorithms, known as Dijkstra’s algo-\nrithm and the Bellman-Ford algorithm. This section provides a summary of these\ntwo algorithms."
  },
  {
    "text": "Dijkstra’s Algorithm\nDijkstra’s algorithm [DIJK59] can be stated as: Find the shortest paths from a\ngiven source node to all other nodes by developing the paths in order of increas-\ning path length. The algorithm proceeds in stages. By the kth stage, the shortest\npaths to the k nodes closest to (least cost away from) the source node have been\ndetermined; these nodes are in a set T."
  },
  {
    "text": "At stage \nthe node not in T that has\nthe shortest path from the source node is added to T. As each node is added to T,\nits path from the source is defined. The algorithm can be formally described as\nfollows."
  },
  {
    "text": "Define:\nN \u0001 set of nodes in the network\ns \u0001 source node\nT \u0001 set of nodes so far incorporated by the algorithm\nw(i, j) \u0001 rom cost from node i to node j; w(i, i) \u0001 0; w(i, j) \u0001 \f if the two nodes are\nnot directly connected; w(i, j) \n 0 if the two nodes are directly connected\nL(n) \u0001 cost of the least-cost path from node s to node n that is currently known\nto the algorithm; at termination, this is the cost of the least-cost path in\nthe graph from s to n\nThe algorithm has three steps; steps 2 and 3 are repeated until \nsteps 2 and 3 are repeated until final paths have been assigned to all nodes in the\n1."
  },
  {
    "text": "[Initialization]\ni.e., the set of nodes so far incorporated consists\nof only the source node\ni.e., the initial path costs to neighboring nodes are\nsimply the link costs\n2. [Get Next Node] Find the neighboring node not in T that has the least-cost path\nfrom node s and incorporate that node into T: Also incorporate the edge that is\nincident on that node and a node in T that contributes to the path."
  },
  {
    "text": "This can be\nexpressed as\nFind x x T such that L(x) = min\nL(n) = w(s, n)\n12.3 / LEAST-COST ALGORITHMS\nAdd x to T; add to T the edge that is incident on x and that contributes the least\ncost component to L(x), that is, the last hop in the path. 3. [Update Least-Cost Paths]\nIf the latter term is the minimum, the path from s to n is now the path from s to\nx concatenated with the edge from x to n."
  },
  {
    "text": "The algorithm terminates when all nodes have been added to T. At termina-\ntion, the value L(x) associated with each node x is the cost (length) of the least-cost\npath from s to x. In addition, T defines the least-cost path from s to each other node. One iteration of steps 2 and 3 adds one new node to T and defines the least-\ncost path from s to that node."
  },
  {
    "text": "That path passes only through nodes that are in T. To\nsee this, consider the following line of reasoning.After k iterations, there are k nodes\nin T, and the least-cost path from s to each of these nodes has been defined. Now\nconsider all possible paths from s to nodes not in T."
  },
  {
    "text": "Among those paths, there is one\nof least cost that passes exclusively through nodes in T (see Problem 12.4), ending\nwith a direct link from some node in T to a node not in T. This node is added to T\nand the associated path is defined as the least-cost path for that node."
  },
  {
    "text": "Table 12.2a and Figure 12.9 show the result of applying this algorithm to the\ngraph of Figure 12.1, using \nThe shaded edges define the spanning tree for the\ngraph.The values in each circle are the current estimates of L(x) for each node x."
  },
  {
    "text": "A\nL(n) = min[L(n), L(x) + w(x, n)] for all n x T\nExample of Least-Cost Routing Algorithms (using Figure 12.1)\n(a) Dijkstra’a Algorithm \n51, 2, 3, 4, 5, 66\n51, 2, 3, 4, 56\n51, 2, 4, 56\n(b) Bellman-Ford Algorithm \nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nnode is shaded when it is added to T. Note that at each step the path to each node\nplus the total cost of that path is generated."
  },
  {
    "text": "After the final iteration, the least-cost\npath to each node and the cost of that path have been developed. The same proce-\ndure can be used with node 2 as source node, and so on."
  },
  {
    "text": "Bellman-Ford Algorithm\nThe Bellman-Ford algorithm [FORD62] can be stated as follows: Find the shortest\npaths from a given source node subject to the constraint that the paths contain at\nmost one link, then find the shortest paths with a constraint of paths of at most two\nFigure 12.9\nDijkstra’s Algorithm Applied to Graph of Figure 12.1\nT \u0001 {1, 2, 4}\nT \u0001 {1, 2, 4, 5}\nT \u0001 {1, 2, 3, 4, 5}\nT \u0001 {1, 2, 3, 4, 5, 6}\n12.3 / LEAST-COST ALGORITHMS\nlinks, and so on."
  },
  {
    "text": "This algorithm also proceeds in stages. The algorithm can be for-\nmally described as follows."
  },
  {
    "text": "Define\ns \u0001 source node\nw(i, j) \u0001 link cost from node i to node j; w(i, i) = 0; w(i, j) \u0001 \f if the two nodes are\nnot directly connected;\nif the two nodes are directly connected\nh \u0001 maximum number of links in a path at the current stage of the algorithm\nLh(n) \u0001 cost of the least-cost path from node s to node n under the constraint of no\nmore than h links\n1. [Initialization]\n2."
  },
  {
    "text": "[Update]\nFor each successive \nConnect n with the predecessor node j that achieves the minimum, and elimi-\nnate any connection of n with a different predecessor node formed during an\nearlier iteration.The path from s to n terminates with the link from j to n."
  },
  {
    "text": "For the iteration of step 2 with \nand for each destination node n, the\nalgorithm compares potential paths from s to n of length \nwith the path that\nexisted at the end of the previous iteration. If the previous, shorter, path has less\ncost, then that path is retained."
  },
  {
    "text": "Otherwise a new path with length \nfrom s to n; this path consists of a path of length K from s to some node j, plus a\ndirect hop from node j to node n. In this case, the path from s to j that is used is the\nK-hop path for j defined in the previous iteration (see Problem 12.5)."
  },
  {
    "text": "Table 12.2b and Figure 12.10 show the result of applying this algorithm to\nFigure 12.1, using \nAt each step, the least-cost paths with a maximum number\nof links equal to h are found. After the final iteration, the least-cost path to each\nnode and the cost of that path have been developed. The same procedure can be\nused with node 2 as source node, and so on."
  },
  {
    "text": "Note that the results agree with those\nobtained using Dijkstra’s algorithm. One interesting comparison can be made between these two algorithms, having to\ndo with what information needs to be gathered. Consider first the Bellman-Ford\nalgorithm."
  },
  {
    "text": "In step 2, the calculation for node n involves knowledge of the link cost to\nall neighboring nodes to node n [i.e., w(j, n)] plus the total path cost to each of those\nneighboring nodes from a particular source node s [i.e.,\n]. Each node can main-\ntain a set of costs and associated paths for every other node in the network and\nexchange this information with its direct neighbors from time to time."
  },
  {
    "text": "Each node\ncan therefore use the expression in step 2 of the Bellman-Ford algorithm, based\nonly on information from its neighbors and knowledge of its link costs, to update its\nLh+11n2 = min\nj [Lh1j2 + w1j, n2]\nLh1s2 = 0, for all h\nL01n2 = q, for all n Z s\nw1i, j2 Ú 0\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\ncosts and paths. On the other hand, consider Dijkstra’s algorithm."
  },
  {
    "text": "Step 3 appears to\nrequire that each node must have complete topological information about the net-\nwork. That is, each node must know the link costs of all links in the network. Thus,\nfor this algorithm, information must be exchanged with all other nodes."
  },
  {
    "text": "In general, evaluation of the relative merits of the two algorithms should con-\nsider the processing time of the algorithms and the amount of information that must\nbe collected from other nodes in the network or internet. The evaluation will\ndepend on the implementation approach and the specific implementation."
  },
  {
    "text": "A final point: Both algorithms are known to converge under static conditions\nof topology, and link costs and will converge to the same solution. If the link costs\nchange over time, the algorithm will attempt to catch up with these changes. How-\never, if the link cost depends on traffic, which in turn depends on the routes chosen,\nthen a feedback condition exists, and instabilities may result."
  },
  {
    "text": "“Routing and Flow Control in High-Speed\nWide-Area Networks.” Proceedings of the IEEE, January 1990. Schwartz, M., and Stern, T. “Routing Techniques Used in Computer Commu-\nnication Networks.” IEEE Transactions on Communications, April 1980."
  },
  {
    "text": "What is a least-cost algorithm? What is the essential difference between Dijkstra’s algorithm and the Bellman-Ford\nConsider a packet-switching network of N nodes, connected by the following\ntopologies:\nStar: one central node with no attached station; all other nodes attach to the cen-\nb. Loop: each node connects to two other nodes to form a closed loop."
  },
  {
    "text": "Fully connected: each node is directly connected to all other nodes. For each case, give the average number of hops between stations. Consider a binary tree topology for a packet-switching network."
  },
  {
    "text": "The root node con-\nnects to two other nodes.All intermediate nodes connect to one node in the direction\ntoward the root, and two in the direction away from the root.At the bottom are nodes\nwith just one link back toward the root. If there are \nnodes, derive an expres-\nsion for the mean number of hops per packet for large N, assuming that trips between\nall node pairs are equally likely."
  },
  {
    "text": "Hint: You will find the following equalities useful:\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nDijkstra’s algorithm, for finding the least-cost path from a specified node s to a speci-\nfied node t, can be expressed in the following program:\nfor n :\u0001 1 to N do\nL[n] :\u0001 \f; final[n] :\u0001 false; {all nodes are temporarily labeled with\n\f} pred[n] :\u0001 1\nL[s] :\u0001 0; final[s] :\u0001 true;\n{node s is permanently labeled with 0}\nrecent :\u0001 s;\n{the most recent node to be permanently labeled is s}\npath :=  true;\n{initialization over }\nwhile final[t] = false do\nfor n :\u0001 1 to N do\n{find new label}\nif (w[recent, n] < \f) AND (NOT final[n]) then\n{for every immediate successor of recent that is not permanently labeled, do }\nbegin {update temporary labels}\nnewlabel :\u0001 L[recent] \u0004 w[recent,n];\nif newlabel \bL[n] then\nbegin L[n] :\u0001 newlabel; pred[n] :\u0001 recent end\n{re-label n if there is a shorter path via node recent and make\nrecent the predecessor of n on the shortest path from s}\nfor x :\u0001 1 to N do {find node with smallest temporary label}\nif (NOT final[x]) AND (L[x] \b temp) then\nbegin y :\u0001 x; temp :\u0001L[x] end;\nif temp < 8 then {there is a path} then\nbegin final[y] :\u0001 true; recent :\u0001 y end\n{y, the next closest node to s gets permanently labeled}\nelse begin path :\u0001 false; final[t] :\u0001 true end\nIn this program, each node is assigned a temporary label initially."
  },
  {
    "text": "As a final path to a\nnode is determined, it is assigned a permanent label equal to the cost of the path from\ns. Write a similar program for the Bellman-Ford algorithm. Hint: The Bellman-Ford\nalgorithm is often called a label-correcting method, in contrast to Dijkstra’s label-\nsetting method."
  },
  {
    "text": "In the discussion of Dijkstra’s algorithm in Section 12.3, it is asserted that at each iter-\nation, a new node is added to T and that the least-cost path for that new node passes\nonly through nodes already in T. Demonstrate that this is true. Hint: Begin at the\nbeginning. Show that the first node added to T must have a direct link to the source\nnode."
  },
  {
    "text": "Then show that the second node to T must either have a direct link to the\nsource node or a direct link to the first node added to T, and so on. Remember that all\nlink costs are assumed nonnegative. In the discussion of the Bellman-Ford algorithm, it is asserted that at the iteration for\nif any path of length \nis defined, the first K hops of that path\nform a path defined in the previous iteration."
  },
  {
    "text": "Demonstrate that this is true. In step 3 of Dijkstra’s algorithm, the least-cost path values are only updated for nodes\nnot yet in T. Is it possible that a lower-cost path could be found to a node already in\nT? If so, demonstrate by example. If not, provide reasoning as to why not. Using Dijkstra’s algorithm, generate a least-cost route to all other nodes for nodes 2\nthrough 6 of Figure 12.1."
  },
  {
    "text": "Will Dijkstra’s algorithm and the Bellman-Ford algorithm always yield the same solu-\ntions? Why or why not? Both Dijkstra’s algorithm and the Bellman-Ford algorithm find the least-cost paths\nfrom one node to all other nodes. The Floyd-Warshall algorithm finds the least-cost\npaths between all pairs of nodes together."
  },
  {
    "text": "Define\nN \u0001 set of nodes in the network\nw(i, j) \u0001 link cost from node i to node j; w(i, i) \u0001 0; w(i, j) \u0001 \f if the two nodes are\nnot directly connected\nLn(i, j) \u0001 cost of the least-cost path from node i to node j with the constraint that\nonly nodes 1, 2, . . . , n can be used as intermediate nodes on paths\nThe algorithm has the following steps:\nInitialize:\nExplain the algorithm in words."
  },
  {
    "text": "Use induction to demonstrate that the algorithm\nLn+11i, j2 = min[Ln1i, j2, Ln1i, n + 12 + Ln1n + 1, j2] for all i Z j\nn = 0, 1, Á , N - 1\nL01i, j2 = w1i, j2, for all i, j, i Z j\nFigure 12.11\nPacket-Switching Networks with Link Costs\nCHAPTER 12 / ROUTING IN SWITCHED NETWORKS\nIn Figure 12.3, node 1 sends a packet to node 6 using flooding."
  },
  {
    "text": "Counting the transmis-\nsion of one packet across one link as a load of one, what is the total load generated if\nEach node discards duplicate incoming packets? b. A hop count field is used and is initially set to 5, and no duplicate is discarded? It was shown that flooding can be used to determine the minimum-hop route. Can it\nbe used to determine the minimum delay route?"
  },
  {
    "text": "With random routing, only one copy of the packet is in existence at a time. Neverthe-\nless, it would be wise to utilize a hop count field.Why? Another adaptive routing scheme is known as backward learning. As a packet is\nrouted through the network, it carries not only the destination address, but the source\naddress plus a running hop count that is incremented for each hop."
  },
  {
    "text": "Each node builds\na routing table that gives the next node and hop count for each destination. How is\nthe packet information used to build the table? What are the advantages and disad-\nvantages of this technique? Build a centralized routing directory for the networks of Figure 12.11. Consider a system using flooding with a hop counter."
  },
  {
    "text": "Suppose that the hop counter is\noriginally set to the ”diameter” of the network.When the hop count reaches zero, the\npacket is discarded except at its destination. Does this always ensure that a packet\nwill reach its destination if there exists at least one operable path? Why or why not?"
  },
  {
    "text": "3In the case of a switch of a packet-switching, frame relay, or ATM network, each I/O port connects to a\ntransmission link that connects to another node or end system. In the case of a router of an internet, each\nI/O port connects to either a direct link to another node or to a subnetwork."
  },
  {
    "text": "CHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nOutput queue\nInput queue\nOutput queue\nInput queue\nFigure 13.2\nInteraction of Queues in a Data Network\nTo subscriber\nTo subscriber\nInput buffer\nOutput buffer\nFigure 13.1\nInput and Output Queues at Node\nis also managing a number of queues."
  },
  {
    "text": "If node 6 restrains the flow of packets from\nnode 5, this causes the output buffer in node 5 for the port to node 6 to fill up.Thus,\ncongestion at one point in the network can quickly propagate throughout a region\nor the entire network.While flow control is indeed a powerful tool, we need to use it\nin such a way as to manage the traffic on the entire network."
  },
  {
    "text": "13.1 / EFFECTS OF CONGESTION\nNormalized load\nNormalized throughput\nNormalized load\nFigure 13.3\nIdeal Network Utilization\nIdeal Performance\nFigure 13.3 suggests the ideal goal for network utilization."
  },
  {
    "text": "The top graph plots the\nsteady-state total throughput (number of packets delivered to destination end systems)\nthrough the network as a function of the offered load (number of packets transmitted\nby source end systems), both normalized to the maximum theoretical throughput of\nthe network."
  },
  {
    "text": "For example, if a network consists of a single node with two full-duplex \n1-Mbps links, then the theoretical capacity of the network is 2 Mbps, consisting of a \n1-Mbps flow in each direction.In the ideal case,the throughput of the network increases\nto accommodate load up to an offered load equal to the full capacity of the network;\nthen normalized throughput remains at 1.0 at higher input loads."
  },
  {
    "text": "Note, however, what\nhappens to the end-to-end delay experienced by the average packet even with this\nassumption of ideal performance. At negligible load, there is some small constant\namount of delay that consists of the propagation delay through the network from\nsource to destination plus processing delay at each node."
  },
  {
    "text": "As the load on the network\nincreases, queuing delays at each node are added to this fixed amount of delay. When\nthe load exceeds the network capacity, delays increase without bound. Here is a simple intuitive explanation of why delay must go to infinity. Sup-\npose that each node in the network is equipped with buffers of infinite size and\nsuppose that the input load exceeds network capacity."
  },
  {
    "text": "Under ideal conditions, the\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nnetwork will continue to sustain a normalized throughput of 1.0.Therefore, the rate\nof packets leaving the network is 1.0. Because the rate of packets entering the net-\nwork is greater than 1.0, internal queue sizes grow."
  },
  {
    "text": "In the steady state, with input\ngreater than output, these queue sizes grow without bound and therefore queuing\ndelays grow without bound. It is important to grasp the meaning of Figure 13.3 before looking at real-world\nconditions.This figure represents the ideal, but unattainable, goal of all traffic and con-\ngestion control schemes.No scheme can exceed the performance depicted in Figure 13.3."
  },
  {
    "text": "Practical Performance\nThe ideal case reflected in Figure 13.3 assumes infinite buffers and no overhead\nrelated to congestion control. In practice, buffers are finite, leading to buffer over-\nflow, and attempts to control congestion consume network capacity in the exchange\nof control signals."
  },
  {
    "text": "Let us consider what happens in a network with finite buffers if no attempt is\nmade to control congestion or to restrain input from end systems.The details will, of\ncourse, differ depending on network configuration and on the statistics of the pre-\nsented traffic. However, the graphs in Figure 13.4 depict the devastating outcome in\ngeneral terms."
  },
  {
    "text": "At light loads,throughput and hence network utilization increases as the offered\nload increases. As the load continues to increase, a point is reached (point A in the\nplot) beyond which the throughput of the network increases at a rate slower than the\nrate at which offered load is increased. This is due to network entry into a moder-\nate congestion state."
  },
  {
    "text": "In this region, the network continues to cope with the load,\nalthough with increased delays. The departure of throughput from the ideal is\naccounted for by a number of factors. For one thing, the load is unlikely to be spread\nuniformly throughout the network."
  },
  {
    "text": "Therefore, while some nodes may experience\nmoderate congestion, others may be experiencing severe congestion and may need to\ndiscard traffic."
  },
  {
    "text": "In addition, as the load increases, the network will attempt to balance\nthe load by routing packets through areas of lower congestion.For the routing function\nto work, an increased number of routing messages must be exchanged between nodes\nto alert each other to areas of congestion; this overhead reduces the capacity available\nfor data packets."
  },
  {
    "text": "As the load on the network continues to increase, the queue lengths of the\nvarious nodes continue to grow. Eventually, a point is reached (point B in the plot)\nbeyond which throughput actually drops with increased offered load. The reason\nfor this is that the buffers at each node are of finite size. When the buffers at a\nnode become full, the node must discard packets."
  },
  {
    "text": "Thus, the sources must retrans-\nmit the discarded packets in addition to new packets. This only exacerbates the\nsituation: As more and more packets are retransmitted, the load on the system\ngrows, and more buffers become saturated. While the system is trying desperately\nto clear the backlog, users are pumping old and new packets into the system."
  },
  {
    "text": "Even successfully delivered packets may be retransmitted because it takes too\nlong, at a higher layer (e.g., transport layer), to acknowledge them: The sender\nassumes the packet did not get through and retransmits. Under these circum-\nstances, the effective capacity of the system declines to zero."
  },
  {
    "text": "13.2 / CONGESTION CONTROL\n13.2 CONGESTION CONTROL\nIn this book, we discuss various techniques for controlling congestion in packet-\nswitching, frame relay, and ATM networks, and in IP-based internets.To give context\nto this discussion, Figure 13.5 provides a general depiction of important congestion\ncontrol techniques."
  },
  {
    "text": "Normalized throughput\nAverage delay\nfor packets that\nare delivered\nAverage delay\nfor all packets\nNo congestion\nSevere congestion\nFigure 13.4\nThe Effects of Congestion\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nBackpressure\nWe have already made reference to backpressure as a technique for congestion con-\ntrol."
  },
  {
    "text": "This technique produces an effect similar to backpressure in fluids flowing\ndown a pipe. When the end of a pipe is closed (or restricted), the fluid pressure\nbacks up the pipe to the point of origin, where the flow is stopped (or slowed). Backpressure can be exerted on the basis of links or logical connections (e.g.,\nvirtual circuits)."
  },
  {
    "text": "Referring again to Figure 13.2, if node 6 becomes congested\n(buffers fill up), then node 6 can slow down or halt the flow of all packets from node\n5 (or node 3, or both nodes 5 and 3)."
  },
  {
    "text": "If this restriction persists, node 5 will need to\nslow down or halt traffic on its incoming links.This flow restriction propagates back-\nward (against the flow of data traffic) to sources, which are restricted in the flow of\nnew packets into the network."
  },
  {
    "text": "Backpressure can be selectively applied to logical connections, so that the flow\nfrom one node to the next is only restricted or halted on some connections, gener-\nally the ones with the most traffic. In this case, the restriction propagates back along\nthe connection to the source. Backpressure is of limited utility."
  },
  {
    "text": "It can be used in a connection-oriented net-\nwork that allows hop-by-hop (from one node to the next) flow control. X.25-based\npacket-switching networks typically provide this feature. However, neither frame\nrelay nor ATM has any capability for restricting flow on a hop-by-hop basis."
  },
  {
    "text": "In the\ncase of IP-based internets, there have traditionally been no built-in facilities for reg-\nulating the flow of data from one router to the next along a path through the inter-\nnet. Recently, some flow-based schemes have been developed; this topic is\nintroduced in Part Five."
  },
  {
    "text": "Choke Packet\nA choke packet is a control packet generated at a congested node and transmitted\nback to a source node to restrict traffic flow. An example of a choke packet is the\nICMP (Internet Control Message Protocol) Source Quench packet."
  },
  {
    "text": "Either a router\nor a destination end system may send this message to a source end system, request-\ning that it reduce the rate at which it is sending traffic to the internet destination."
  },
  {
    "text": "On\nBackpressure\n(delay, discard)\nDestination\nChoke packet\n(binary, credit, rate)\nFigure 13.5\nMechanisms for Congestion Control\n13.2 / CONGESTION CONTROL\nreceipt of a source quench message, the source host should cut back the rate at\nwhich it is sending traffic to the specified destination until it no longer receives\nsource quench messages.The source quench message can be used by a router or host\nthat must discard IP datagrams because of a full buffer."
  },
  {
    "text": "In that case, the router or\nhost will issue a source quench message for every datagram that it discards. In addi-\ntion, a system may anticipate congestion and issue source quench messages when its\nbuffers approach capacity. In that case, the datagram referred to in the source\nquench message may well be delivered."
  },
  {
    "text": "Thus, receipt of a source quench message\ndoes not imply delivery or nondelivery of the corresponding datagram. The choke package is a relatively crude technique for controlling congestion. More sophisticated forms of explicit congestion signaling are discussed subsequently."
  },
  {
    "text": "Implicit Congestion Signaling\nWhen network congestion occurs, two things may happen: (1) The transmission\ndelay for an individual packet from source to destination increases, so that it is\nnoticeably longer than the fixed propagation delay, and (2) packets are discarded. If\na source is able to detect increased delays and packet discards, then it has implicit\nevidence of network congestion."
  },
  {
    "text": "If all sources can detect congestion and, in\nresponse, reduce flow on the basis of congestion, then the network congestion will\nbe relieved.Thus, congestion control on the basis of implicit signaling is the respon-\nsibility of end systems and does not require action on the part of network nodes."
  },
  {
    "text": "Implicit signaling is an effective congestion control technique in connectionless,\nor datagram, configurations, such as datagram packet-switching networks and IP-\nbased internets. In such cases, there are no logical connections through the internet\non which flow can be regulated."
  },
  {
    "text": "However, between the two end systems, logical con-\nnections can be established at the TCP level.TCP includes mechanisms for acknowl-\nedging receipt of TCP segments and for regulating the flow of data between source\nand destination on a TCP connection. TCP congestion control techniques based on\nthe ability to detect increased delay and segment loss are discussed in Chapter 20."
  },
  {
    "text": "Implicit signaling can also be used in connection-oriented networks. For exam-\nple, in frame relay networks, the LAPF control protocol, which is end to end,\nincludes facilities similar to those of TCP for flow and error control. LAPF control\nis capable of detecting lost frames and adjusting the flow of data accordingly."
  },
  {
    "text": "Explicit Congestion Signaling\nIt is desirable to use as much of the available capacity in a network as possible but\nstill react to congestion in a controlled and fair manner. This is the purpose of\nexplicit congestion avoidance techniques."
  },
  {
    "text": "In general terms, for explicit congestion\navoidance, the network alerts end systems to growing congestion within the network\nand the end systems take steps to reduce the offered load to the network. Typically, explicit congestion control techniques operate over connection-ori-\nented networks and control the flow of packets over individual connections."
  },
  {
    "text": "Explicit\ncongestion signaling approaches can work in one of two directions:\n• Backward: Notifies the source that congestion avoidance procedures should be\ninitiated where applicable for traffic in the opposite direction of the received\nnotification."
  },
  {
    "text": "It indicates that the packets that the user transmits on this logical\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nconnection may encounter congested resources.Backward information is trans-\nmitted either by altering bits in a header of a data packet headed for the source\nto be controlled or by transmitting separate control packets to the source."
  },
  {
    "text": "• Forward: Notifies the user that congestion avoidance procedures should be initi-\nated where applicable for traffic in the same direction as the received notifica-\ntion. It indicates that this packet, on this logical connection, has encountered\ncongested resources.Again,this information may be transmitted either as altered\nbits in data packets or in separate control packets."
  },
  {
    "text": "In some schemes, when a for-\nward signal is received by an end system, it echoes the signal back along the logi-\ncal connection to the source. In other schemes, the end system is expected to\nexercise flow control upon the source end system at a higher layer (e.g.,TCP)."
  },
  {
    "text": "We can divide explicit congestion signaling approaches into three general\ncategories:\n• Binary: A bit is set in a data packet as it is forwarded by the congested node. When a source receives a binary indication of congestion on a logical connec-\ntion, it may reduce its traffic flow. • Credit based: These schemes are based on providing an explicit credit to a\nsource over a logical connection."
  },
  {
    "text": "The credit indicates how many octets or how\nmany packets the source may transmit.When the credit is exhausted,the source\nmust await additional credit before sending additional data."
  },
  {
    "text": "Credit-based\nschemes are common for end-to-end flow control, in which a destination sys-\ntem uses credit to prevent the source from overflowing the destination buffers,\nbut credit-based schemes have also been considered for congestion control."
  },
  {
    "text": "• Rate based: These schemes are based on providing an explicit data rate limit\nto the source over a logical connection.The source may transmit data at a rate\nup to the set limit. To control congestion, any node along the path of the con-\nnection can reduce the data rate limit in a control message to the source."
  },
  {
    "text": "13.3 TRAFFIC MANAGEMENT\nThere are a number of issues related to congestion control that might be included\nunder the general category of traffic management."
  },
  {
    "text": "In its simplest form, congestion\ncontrol is concerned with efficient use of a network at high load.The various mech-\nanisms discussed in the previous section can be applied as the situation arises, with-\nout regard to the particular source or destination affected.When a node is saturated\nand must discard packets, it can apply some simple rule, such as discard the most\nrecent arrival."
  },
  {
    "text": "However, other considerations can be used to refine the application\nof congestion control techniques and discard policy. We briefly introduce several of\nthose areas here. As congestion develops, flows of packets between sources and destinations will experi-\nence increased delays and, with high congestion, packet losses."
  },
  {
    "text": "In the absence of other\nrequirements, we would like to assure that the various flows suffer from congestion\n13.4 / CONGESTION CONTROL IN POCKET-SWITCHING NETWORKS\nequally.Simply to discard on a last-in-first-discarded basis may not be fair.As an exam-\nple of a technique that might promote fairness, a node can maintain a separate queue\nfor each logical connection or for each source-destination pair."
  },
  {
    "text": "If all of the queue\nbuffers are of equal length, then the queues with the highest traffic load will suffer dis-\ncards more often, allowing lower-traffic connections a fair share of the capacity. Quality of Service\nWe might wish to treat different traffic flows differently. For example, as [JAIN92]\npoints out, some applications, such as voice and video, are delay sensitive but loss\ninsensitive."
  },
  {
    "text": "Others, such as file transfer and electronic mail, are delay insensitive but\nloss sensitive. Still others, such as interactive graphics or interactive computing\napplications, are delay sensitive and loss sensitive."
  },
  {
    "text": "Also, different traffic flows have\ndifferent priorities; for example, network management traffic, particularly during\ntimes of congestion or failure, is more important than application traffic. It is particularly important during periods of congestion that traffic flows with\ndifferent requirements be treated differently and provided a different quality of ser-\nvice (QoS)."
  },
  {
    "text": "For example, a node might transmit higher-priority packets ahead of\nlower-priority packets in the same queue. Or a node might maintain different\nqueues for different QoS levels and give preferential treatment to the higher levels. Reservations\nOne way to avoid congestion and also to provide assured service to applications is\nto use a reservation scheme."
  },
  {
    "text": "Such a scheme is an integral part of ATM networks. When a logical connection is established, the network and the user enter into a traf-\nfic contract, which specifies a data rate and other characteristics of the traffic flow."
  },
  {
    "text": "The network agrees to give a defined QoS so long as the traffic flow is within con-\ntract parameters; excess traffic is either discarded or handled on a best-effort basis,\nsubject to discard. If the current outstanding reservations are such that the network\nresources are inadequate to meet the new reservation, then the new reservation is\ndenied."
  },
  {
    "text": "A similar type of scheme has now been developed for IP-based internets\n(RSVP, which is discussed in Chapter 19). One aspect of a reservation scheme is traffic policing (Figure 13.5). A node in\nthe network, typically the node to which the end system attaches, monitors the traf-\nfic flow and compares it to the traffic contract."
  },
  {
    "text": "Excess traffic is either discarded or\nmarked to indicate that it is liable to discard or delay. 13.4 CONGESTION CONTROL IN PACKET-SWITCHING\nA number of control mechanisms for congestion control in packet-switching net-\nworks have been suggested and tried.The following are examples:\n1. Send a control packet from a congested node to some or all source nodes."
  },
  {
    "text": "This\nchoke packet will have the effect of stopping or slowing the rate of transmission\nfrom sources and hence limit the total number of packets in the network. This\napproach requires additional traffic on the network during a period of congestion. CHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\n2. Rely on routing information."
  },
  {
    "text": "Routing algorithms, such as ARPANET’s, provide\nlink delay information to other nodes, which influences routing decisions. This\ninformation could also be used to influence the rate at which new packets are\nproduced. Because these delays are being influenced by the routing decision,\nthey may vary too rapidly to be used effectively for congestion control. 3."
  },
  {
    "text": "Make use of an end-to-end probe packet.Such a packet could be timestamped to\nmeasure the delay between two particular endpoints. This has the disadvantage\nof adding overhead to the network. 4. Allow packet-switching nodes to add congestion information to packets as\nthey go by. There are two possible approaches here."
  },
  {
    "text": "A node could add such\ninformation to packets going in the direction opposite of the congestion. This\ninformation quickly reaches the source node, which can reduce the flow of\npackets into the network. Alternatively, a node could add such information to\npackets going in the same direction as the congestion."
  },
  {
    "text": "The destination either\nasks the source to adjust the load or returns the signal back to the source in the\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nqueue to overflow, necessitating the discard of either the most recently arrived\nframe or some other frame."
  },
  {
    "text": "The simplest way to cope with congestion is for the frame-relaying network to\ndiscard frames arbitrarily, with no regard to the source of a particular frame. In that\ncase, because there is no reward for restraint, the best strategy for any individual\nend system is to transmit frames as rapidly as possible. This, of course, exacerbates\nthe congestion problem."
  },
  {
    "text": "To provide for a fairer allocation of resources, the frame relay bearer service\nincludes the concept of a committed information rate (CIR). This is a rate, in bits\nper second, that the network agrees to support for a particular frame-mode con-\nnection.Any data transmitted in excess of the CIR are vulnerable to discard in the\nevent of congestion."
  },
  {
    "text": "Despite the use of the term committed, there is no guarantee\nthat even the CIR will be met. In cases of extreme congestion, the network may be\nforced to provide a service at less than the CIR for a given connection."
  },
  {
    "text": "However,\nwhen it comes time to discard frames, the network will choose to discard frames on\nconnections that are exceeding their CIR before discarding frames that are within\nIn theory, each frame-relaying node should manage its affairs so that \nthe aggregate of CIRs of all the connections of all the end systems attached to the\nnode does not exceed the capacity of the node."
  },
  {
    "text": "In addition, the aggregate of the\nCIRs should not exceed the physical data rate across the user-network interface,\nknown as the access rate. The limitation imposed by access rate can be expressed\nas follows:\nConsiderations of node capacity may result in the selection of lower values for some\nof the CIRs."
  },
  {
    "text": "For permanent frame relay connections, the CIR for each connection must be\nestablished at the time the connection is agreed between user and network. For\nswitched connections, the CIR parameter is negotiated; this is done in the setup\nphase of the call control protocol. The CIR provides a way of discriminating among frames in determining\nwhich frames to discard in the face of congestion."
  },
  {
    "text": "Discrimination is indicated by\nmeans of the discard eligibility (DE) bit in the LAPF frame (Figure 10.16). The\nframe handler to which the user’s station attaches performs a metering function\n(Figure 13.6). If the user is sending data at less than the CIR, the incoming frame\nhandler does not alter the DE bit."
  },
  {
    "text": "If the rate exceeds the CIR, the incoming frame\nhandler will set the DE bit on the excess frames and then forward them; such\nframes may get through or may be discarded if congestion is encountered. Finally, a\nmaximum rate is defined, such that any frames above the maximum are discarded\nat the entry frame handler."
  },
  {
    "text": "data-rate TDM channel between the user and the network\n AccessRatej = Data rate of user access channel j; a channel is a fixed-\n CIRi,j = Committed information rate for connection i on channel j\nCIRi,j … AccessRatej\n13.5 / FRAME RELAY CONGESTION CONTROL\nThe CIR, by itself, does not provide much flexibility in dealing with traffic rates."
  },
  {
    "text": "In practice, a frame handler measures traffic over each logical connection for a time\ninterval specific to that connection and then makes a decision based on the amount\nof data received during that interval.Two additional parameters, assigned on perma-\nnent connections and negotiated on switched connections, are needed.They are\n• Committed burst size\nThe maximum amount data that the network\nagrees to transfer, under normal conditions, over a measurement interval T."
  },
  {
    "text": "These data may or may not be contiguous (i.e., they may appear in one frame\nor in several frames). • Excess burst size \nThe maximum amount of data in excess of \nnetwork will attempt to transfer, under normal conditions, over a measurement\ninterval T. These data are uncommitted in the sense that the network does not\ncommit to delivery under normal conditions."
  },
  {
    "text": "Put another way, the data that\nare delivered with lower probability than the data within \nThe quantities \nand CIR are related."
  },
  {
    "text": "Because \nis the amount of committed\ndata that may be transmitted by the user over a time T, and CIR is the rate at which\ncommitted data may be transmitted, we must have\nFigure 13.7, based on a figure in ITU-T Recommendation I.370, illustrates the\nrelationship among these parameters."
  },
  {
    "text": "On each graph, the solid line plots the cumu-\nlative number of information bits transferred over a given connection since time\nThe dashed line labeled Access Rate represents the data rate over the chan-\nnel containing this connection.The dashed line labeled CIR represents the commit-\nted information rate over the measurement interval T."
  },
  {
    "text": "Note that when a frame is\nbeing transmitted, the solid line is parallel to the Access Rate line; when a frame is\ntransmitted on a channel, that channel is dedicated to the transmission of that\nframe.When no frame is being transmitted, the solid line is horizontal."
  },
  {
    "text": "Figure 13.7a shows an example in which three frames are transmitted within the\nmeasurement interval and the total number of bits in the three frames is less than\nNote that during the transmission of the first frame, the actual transmission rate\ntransmission\ninformation\nTransmit if\nFigure 13.6\nOperation of the CIR\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\ntemporarily exceeds the CIR.This is of no consequence because the frame handler is\nonly concerned with the cumulative number of bits transmitted over the entire interval."
  },
  {
    "text": "In Figure 13.7b, the last frame transmitted during the interval causes the cumulative\nnumber of bits transmitted to exceed \nAccordingly, the DE bit of that frame is set\nby the frame handler. In Figure 13.7c, the third frame exceeds \nand so is labeled for\npotential discard.The fourth frame exceeds \nand is discarded."
  },
  {
    "text": "Discard region\nDE \u0001 1 region\nDE \u0001 0 region\nAccess rate\nbits transmitted\n(a) All frames within CIR\nbits transmitted\nDiscard region\nDE \u0001 1 region\nDE \u0001 0 region\nAccess rate\n(b) One frame marked DE\nbits transmitted\nDiscard region\nDE \u0001 1 region\nDE \u0001 0 region\nAccess rate\n(c) One frame marked DE; one frame discarded\nFigure 13.7\nIllustration of Relationships among Congestion Parameters\n13.5 / FRAME RELAY CONGESTION CONTROL\nCongestion Avoidance with Explicit Signaling\nIt is desirable to use as much of the available capacity in a frame relay network as\npossible but still react to congestion in a controlled and fair manner.This is the pur-\npose of explicit congestion avoidance techniques."
  },
  {
    "text": "In general terms, for explicit con-\ngestion avoidance, the network alerts end systems to growing congestion within the\nnetwork and the end systems take steps to reduce the offered load to the network. As the standards for explicit congestion avoidance were being developed, two\ngeneral strategies were considered [BERG91]."
  },
  {
    "text": "One group believed that congestion\nalways occurred slowly and almost always in the network egress nodes. Another\ngroup had seen cases in which congestion grew very quickly in the internal nodes\nand required quick decisive action to prevent network congestion. We will see that\nthese two approaches are reflected in the forward and backward explicit congestion\navoidance techniques, respectively."
  },
  {
    "text": "For explicit signaling, two bits in the address field of each frame are provided. Either bit may be set by any frame handler that detects congestion. If a frame han-\ndler receives a frame in which one or both of these bits are set, it must not clear the\nbits before forwarding the frame."
  },
  {
    "text": "Thus, the bits constitute signals from the network\nto the end user.The two bits are\n• Backward explicit congestion notification (BECN): Notifies the user that con-\ngestion avoidance procedures should be initiated where applicable for traffic in\nthe opposite direction of the received frame.It indicates that the frames that the\nuser transmits on this logical connection may encounter congested resources."
  },
  {
    "text": "• Forward explicit congestion notification (FECN): Notifies the user that con-\ngestion avoidance procedures should be initiated where applicable for traffic\nin the same direction as the received frame. It indicates that this frame, on this\nlogical connection, has encountered congested resources. Let us consider how these bits are used by the network and the user."
  },
  {
    "text": "First, for\nthe network response, it is necessary for each frame handler to monitor its queuing\nbehavior. If queue lengths begin to grow to a dangerous level, then either FECN or\nBECN bits or a combination should be set to try to reduce the flow of frames\nthrough that frame handler."
  },
  {
    "text": "The choice of FECN or BECN may be determined by\nwhether the end users on a given logical connection are prepared to respond to one\nor the other of these bits.This may be determined at configuration time. In any case,\nthe frame handler has some choice as to which logical connections should be alerted\nto congestion."
  },
  {
    "text": "If congestion is becoming quite serious, all logical connections through\na frame handler might be notified. In the early stages of congestion, the frame han-\ndler might just notify users for those connections that are generating the most traffic."
  },
  {
    "text": "The user response is determined by the receipt of BECN or FECN signals.The\nsimplest procedure is the response to a BECN signal: The user simply reduces the\nrate at which frames are transmitted until the signal ceases."
  },
  {
    "text": "The response to an\nFECN is more complex, as it requires the user to notify its peer user of this connec-\ntion to restrict its flow of frames.The core functions used in the frame relay protocol\ndo not support this notification; therefore, it must be done at a higher layer, such as\nthe transport layer."
  },
  {
    "text": "The flow control could also be accomplished by the LAPF con-\ntrol protocol or some other link control protocol implemented above the frame\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nrelay sublayer. The LAPF control protocol is particularly useful because it includes\nan enhancement to LAPD that permits the user to adjust window size."
  },
  {
    "text": "13.6 ATM TRAFFIC MANAGEMENT\nBecause of their high speed and small cell size,ATM networks present difficulties in\neffectively controlling congestion not found in other types of data networks. The\ncomplexity of the problem is compounded by the limited number of overhead bits\navailable for exerting control over the flow of user cells."
  },
  {
    "text": "This area is currently the\nsubject of intense research, and approaches to traffic and congestion control are still\nevolving. ITU-T has defined a restricted initial set of traffic and congestion control\ncapabilities aiming at simple mechanisms and realistic network efficiency; these are\nspecified in I.371."
  },
  {
    "text": "The ATM Forum has published a somewhat more advanced ver-\nsion of this set in its Traffic Management Specification 4.0. This section focuses on\nthe ATM Forum specifications. We begin with an overview of the congestion problem and the framework\nadopted by ITU-T and the ATM Forum."
  },
  {
    "text": "We then discuss some of the specific tech-\nniques that have been developed for traffic management and congestion control. Requirements for ATM Traffic and Congestion Control\nBoth the types of traffic patterns imposed on ATM networks and the transmission\ncharacteristics of those networks differ markedly from those of other switching net-\nworks."
  },
  {
    "text": "Most packet-switching and frame relay networks carry non-real-time data\ntraffic."
  },
  {
    "text": "Typically, the traffic on individual virtual circuits or frame relay connections\nis bursty in nature, and the receiving system expects to receive incoming traffic on\neach connection in a bursty fashion.As a result,\n• The network does not need to replicate the exact timing pattern of incoming\ntraffic at the re exit node."
  },
  {
    "text": "• Therefore, simple statistical multiplexing can be used to accommodate multi-\nple logical connections over the physical interface between user and network."
  },
  {
    "text": "The average data rate required by each connection is less than the burst rate\nfor that connection, and the user-network interface (UNI) need only be\ndesigned for a capacity somewhat greater than the sum of the average data\nrates for all connections."
  },
  {
    "text": "A number of tools are available for control of congestion in packet-switched\nand frame relay networks, some of which are discussed elsewhere in this chapter. These types of congestion control schemes are inadequate for ATM networks. [GERS91] cites the following reasons:\n• The majority of traffic is not amenable to flow control."
  },
  {
    "text": "For example, voice and\nvideo traffic sources cannot stop generating cells even when the network is\n• Feedback is slow due to the drastically reduced cell transmission time com-\npared to propagation delays across the network. 13.6 / ATM TRAFFIC MANAGEMENT\n• ATM networks typically support a wide range of applications requiring capac-\nity ranging from a few kbps to several hundred Mbps."
  },
  {
    "text": "Relatively simple-\nminded congestion control schemes generally end up penalizing one end or\nthe other of that spectrum. • Applications on ATM networks may generate very different traffic patterns\n(e.g., constant bit rate versus variable bit rate sources).Again, it is difficult for\nconventional congestion control techniques to handle fairly such variety."
  },
  {
    "text": "• Different applications on ATM networks require different network services\n(e.g., delay-sensitive service for voice and video, and loss-sensitive service\n• The very high speeds in switching and transmission make ATM networks\nmore volatile in terms of congestion and traffic control."
  },
  {
    "text": "A scheme that relies\nheavily on reacting to changing conditions will produce extreme and wasteful\nfluctuations in routing policy and flow control. Two key performance issues that relate to the preceding points are latency/speed\neffects and cell delay variation, topics to which we now turn. Latency/Speed Effects\nConsider the transfer of ATM cells over a network at a data rate of 150 Mbps."
  },
  {
    "text": "At\nthat rate, it takes \nseconds to insert a\nsingle cell onto the network.The time it takes to transfer the cell from the source to\nthe destination user will depend on the number of intermediate ATM switches, the\nswitching time at each switch, and the propagation time along all links in the path\nfrom source to destination."
  },
  {
    "text": "For simplicity, ignore ATM switching delays and assume\npropagation at the two-thirds the speed of light."
  },
  {
    "text": "Then, if source and destination are\non opposite coasts of the United States, the round-trip propagation delay is about\nWith these conditions in place, suppose that source A is performing a long file\ntransfer to destination B and that implicit congestion control is being used (i.e.,\nthere are no explicit congestion notifications; the source deduces the presence of\ncongestion by the loss of data)."
  },
  {
    "text": "If the network drops a cell due to congestion, B can\nreturn a reject message to A, which must then retransmit the dropped cell and pos-\nsibly all subsequent cells. But by the time the notification gets back to A, it has trans-\nmitted an additional N cells, where\nOver 7 megabits have been transmitted before A can react to the congestion \nindication."
  },
  {
    "text": "This calculation helps to explain why the techniques that are satisfactory for\nmore traditional networks break down when dealing with ATM WANs. Cell Delay Variation\nFor an ATM network, voice and video signals can be digitized and transmitted as\na stream of cells."
  },
  {
    "text": "A key requirement, especially for voice, is that the delay across\n48 * 10-3 seconds\n2.8 * 10-6 seconds/cell = 1.7 * 104 cells = 7.2 * 106 bits\n153 * 8 bits2/1150 * 106 bps2 L 2.8 * 10-6\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nthe network be short. Generally, this will be the case for ATM networks."
  },
  {
    "text": "As we\nhave discussed, ATM is designed to minimize the processing and transmission\noverhead internal to the network so that very fast cell switching and routing is\nThere is another important requirement that to some extent conflicts with the\npreceding requirement, namely that the rate of delivery of cells to the destination\nuser must be constant."
  },
  {
    "text": "It is inevitable that there will be some variability in the rate of\ndelivery of cells due both to effects within the network and at the source UNI; we\nsummarize these effects presently. First, let us consider how the destination user\nmight cope with variations in the delay of cells as they transit from source user to\ndestination user."
  },
  {
    "text": "A general procedure for achieving a constant bit rate (CBR) is illustrated in\nFigure 13.8. Let D(i) represent the end-to-end delay experienced by the ith cell.The\ndestination system does not know the exact amount of this delay: there is no time-\nstamp information associated with each cell and, even if there were, it is impossible to\nkeep source and destination clocks perfectly synchronized."
  },
  {
    "text": "When the first cell on a\nconnection arrives at time \nthe target user delays the cell an additional amount\nV(0) prior to delivery to the application. V(0) is an estimate of the amount of cell\ndelay variation that this application can tolerate and that is likely to be produced by\nthe network."
  },
  {
    "text": "Subsequent cells are delayed so that they are delivered to the user at a con-\nstant rate of R cells per second."
  },
  {
    "text": "The time between delivery of cells to the target\napplication (time between the start of delivery of one cell and the start of delivery of\nthe next cell) is therefore \nTo achieve a constant rate, the next cell is\ndelayed a variable amount V(1) to satisfy\nSuccessive cells\nCell arrives\nlate; discarded\nSlope \u0001 R cells/s\nFigure 13.8\nTime Reassembly of CBR Cells\n13.6 / ATM TRAFFIC MANAGEMENT\nIn general,\nwhich can also be expressed as\nIf the computed value of V(i) is negative, then that cell is discarded.The result is that\ndata is delivered to the higher layer at a constant bit rate, with occasional gaps due\nto dropped cells."
  },
  {
    "text": "The amount of the initial delay V(0), which is also the average delay applied to\nall incoming cells, is a function of the anticipated cell delay variation. To minimize\nthis delay, a subscriber will therefore request a minimal cell delay variation from the\nnetwork provider."
  },
  {
    "text": "This leads to a tradeoff: Cell delay variation can be reduced by\nincreasing the data rate at the UNI relative to the load and by increasing resources\nwithin the network. Network Contribution to Cell Delay Variation One component of cell\ndelay variation is due to events within the network."
  },
  {
    "text": "For packet-switching networks,\npacket delay variation can be considerable due to queuing effects at each of the\nintermediate switching nodes and the processing time required to analyze packet\nheaders and perform routing.To a much lesser extent, this is also true of frame delay\nvariation in frame relay networks."
  },
  {
    "text": "In the case of ATM networks, cell delay variations\ndue to network effects are likely to be even less than for frame relay. The principal\nreasons for this are the following:\n• The ATM protocol is designed to minimize processing overhead at intermedi-\nate switching nodes. The cells are fixed size with fixed header formats, and\nthere is no flow control or error control processing required."
  },
  {
    "text": "• To accommodate the high speeds of ATM networks, ATM switches have had\nto be designed to provide extremely high throughput. Thus, the processing\ntime for an individual cell at a node is negligible. The only factor that could lead to noticeable cell delay variation within the\nnetwork is congestion."
  },
  {
    "text": "If the network begins to become congested, either cells must\nbe discarded or there will be a buildup of queuing delays at affected switches. Thus,\nit is important that the total load accepted by the network at any time not be such as\nto cause congestion."
  },
  {
    "text": "Cell Delay Variation at the UNI Even if an application generates data for\ntransmission at a constant bit rate, cell delay variation can occur at the source due to\nthe processing that takes place at the three layers of the ATM model. Figure 13.9 illustrates the potential causes of cell delay variation."
  },
  {
    "text": "In this exam-\nple,ATM connections A and B support user data rates of X and Y Mbps, respectively\nAt the AAL level, data are segmented into 48-octet blocks."
  },
  {
    "text": "Note that on a\nV1i2 = V1i - 12 - [ti - 1ti-1 + d2]\nV1i2 = V102 - [ti - 1t0 + i * d2]\nV112 = V102 - [t1 - 1t0 + d2]\nt1 + V112 = t0 + V102 + d\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\ntime diagram, the blocks appear to be of different sizes for the two connections;\nspecifically, the time required to generate a 48-octet block of data, in microseconds, is\nThe ATM layer encapsulates each segment into a 53-octet cell."
  },
  {
    "text": "These cells must\nbe interleaved and delivered to the physical layer to be transmitted at the data rate of\nthe physical link."
  },
  {
    "text": "Delay is introduced into this interleaving process: If two cells from\ndifferent connections arrive at the ATM layer at overlapping times, one of the cells\nmust be delayed by the amount of the overlap.In addition,the ATM layer is generating\nOAM (operation and maintenance) cells that must also be interleaved with user cells."
  },
  {
    "text": "At the physical layer, there is opportunity for the introduction of further cell\ndelays. For example, if cells are transmitted in SDH (synchronous digital hierarchy)\nframes, overhead bits for those frames will be inserted onto the physical link, delay-\ning bits from the ATM layer. None of the delays just listed can be predicted in any detail, and none follow\nany repetitive pattern."
  },
  {
    "text": "Accordingly, there is a random element to the time interval\nbetween reception of data at the ATM layer from the AAL and the transmission of\nthat data in a cell across the UNI."
  },
  {
    "text": "Connection B: 48 * 8\nConnection A: 48 * 8\nPhysical layer SAP\nPhysical layer\nATM layer SAP\n(Connection A, X Mbps)\n(Connection B, Y Mbps)\n48 octets, Y Mbps\n48 octets, X Mbps\nFigure 13.9\nOrigins of Cell Delay Variation (I.371)\n13.6 / ATM TRAFFIC MANAGEMENT\nTraffic Control and Congestion Control Functions\nResponse Time\nTraffic Control Functions\nCongestion Control Functions\n• Resource management \nusing virtual paths\nConnection Duration\n• Connection admission \ncontrol (CAC)\n• Fast resource management\n• Explicit forward congestion \nPropagation Time\nindication (EFCI)\n• ABR flow control\nCell Insertion Time\n• Usage parameter control \n• Selective cell discard\n• Priority control\n• Traffic shaping\nTraffic and Congestion Control Framework\nI.371 lists the following objectives of ATM layer traffic and congestion control:\n• ATM layer traffic and congestion control should support a set of ATM layer\nQoS classes sufficient for all foreseeable network services; the specification of\nthese QoS classes should be consistent with network performance parameters\ncurrently under study."
  },
  {
    "text": "• ATM layer traffic and congestion control should not rely on AAL protocols\nthat are network service specific, nor on higher-layer protocols that are appli-\ncation specific. Protocol layers above the ATM layer may make use of infor-\nmation provided by the ATM layer to improve the utility those protocols can\nderive from the network."
  },
  {
    "text": "• The design of an optimum set of ATM layer traffic controls and congestion\ncontrols should minimize network and end-system complexity while maximiz-\ning network utilization. To meet these objectives, ITU-T and the ATM Forum have defined a collec-\ntion of traffic and congestion control functions that operate across a spectrum of\ntiming intervals."
  },
  {
    "text": "Table 13.2 lists these functions with respect to the response times\nwithin which they operate. Four levels of timing are considered:\n• Cell insertion time: Functions at this level react immediately to cells as they\nare transmitted. • Round-trip propagation time: At this level, the network responds within the life-\ntime of a cell in the network and may provide feedback indications to the source."
  },
  {
    "text": "• Connection duration: At this level, the network determines whether a new\nconnection at a given QoS can be accommodated and what performance lev-\nels will be agreed to. • Long term: These are controls that affect more than one ATM connection and\nare established for long-term use."
  },
  {
    "text": "The essence of the traffic control strategy is based on (1) determining whether a\ngiven new ATM connection can be accommodated and (2) agreeing with the subscriber\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\non the performance parameters that will be supported."
  },
  {
    "text": "In effect, the subscriber and the\nnetwork enter into a traffic contract: the network agrees to support traffic at a certain\nlevel of performance on this connection, and the subscriber agrees not to exceed traffic\nparameter limits.Traffic control functions are concerned with establishing these traffic\nparameters and enforcing them.Thus,they are concerned with congestion avoidance.If\ntraffic control fails in certain instances, then congestion may occur."
  },
  {
    "text": "At this point, con-\ngestion control functions are invoked to respond to and recover from the congestion. Traffic Management and Congestion Control Techniques\nITU-T and the ATM Forum have defined a range of traffic management functions\nto maintain the quality of service (QoS) of ATM connections."
  },
  {
    "text": "ATM traffic manage-\nment function refers to the set of actions taken by the network to avoid congestion\nconditions or to minimize congestion effects."
  },
  {
    "text": "In this subsection, we highlight the fol-\nlowing techniques:\n• Resource management using virtual paths\n• Connection admission control\n• Usage parameter control\n• Selective cell discard\n• Traffic shaping\nResource Management Using Virtual Paths The essential concept behind\nnetwork resource management is to allocate network resources in such a way as to\nseparate traffic flows according to service characteristics."
  },
  {
    "text": "So far, the only specific\ntraffic control function based on network resource management defined by the\nATM Forum deals with the use of virtual paths. As discussed in Chapter 11, a virtual path connection (VPC) provides a conve-\nnient means of grouping similar virtual channel connections (VCCs)."
  },
  {
    "text": "The network\nprovides aggregate capacity and performance characteristics on the virtual path,\nand these are shared by the virtual connections. There are three cases to consider:\n• User-to-user application: The VPC extends between a pair of UNIs. In this\ncase the network has no knowledge of the QoS of the individual VCCs within\na VPC."
  },
  {
    "text": "It is the user’s responsibility to assure that the aggregate demand from\nthe VCCs can be accommodated by the VPC. • User-to-network application: The VPC extends between a UNI and a network\nnode. In this case, the network is aware of the QoS of the VCCs within the\nVPC and has to accommodate them."
  },
  {
    "text": "• Network-to-network application: The VPC extends between two network\nnodes.Again, in this case, the network is aware of the QoS of the VCCs within\nthe VPC and has to accommodate them."
  },
  {
    "text": "The QoS parameters that are of primary concern for network resource manage-\nment are cell loss ratio, cell transfer delay, and cell delay variation, all of which are\naffected by the amount of resources devoted to the VPC by the network."
  },
  {
    "text": "If a VCC\nextends through multiple VPCs, then the performance on that VCC depends on the\nperformances of the consecutive VPCs and on how the connection is handled at any\n13.6 / ATM TRAFFIC MANAGEMENT\n\u0001 Virtual path connection\n\u0001 Virtual channel connection\n\u0001 Virtual path switching function\n\u0001 Virtual channel switching function\nFigure 13.10\nConfiguration of VCCs and VPCs\nnode that performs VCC-related functions."
  },
  {
    "text": "Such a node may be a switch, concentrator,\nor other network equipment.The performance of each VPC depends on the capacity of\nthat VPC and the traffic characteristics of the VCCs contained within the VPC. The\nperformance of each VCC-related function depends on the switching/processing speed\nat the node and on the relative priority with which various cells are handled. Figure 13.10 gives an example."
  },
  {
    "text": "VCCs 1 and 2 experience a performance that\ndepends on VPCs b and c and on how these VCCs are handled by the intermediate\nnodes.This may differ from the performance experienced by VCCs 3, 4, and 5. There are a number of alternatives for the way in which VCCs are grouped\nand the type of performance they experience."
  },
  {
    "text": "If all of the VCCs within a VPC are\nhandled similarly, then they should experience similar expected network perfor-\nmance, in terms of cell loss ratio, cell transfer delay, and cell delay variation."
  },
  {
    "text": "Alter-\nnatively, when different VCCs within the same VPC require different QoS, the VPC\nperformance objective agreed by network and subscriber should be set suitably for\nthe most demanding VCC requirement."
  },
  {
    "text": "In either case, with multiple VCCs within the same VPC, the network has two\ngeneral options for allocating capacity to the VPC:\n• Aggregate peak demand: The network may set the capacity (data rate) of the\nVPC equal to the total of the peak data rates of all of the VCCs within the\nVPC."
  },
  {
    "text": "The advantage of this approach is that each VCC can be given a QoS\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nthat accommodates its peak demand. The disadvantage is that most of the\ntime, the VPC capacity will not be fully utilized and therefore the network will\nhave underutilized resources."
  },
  {
    "text": "• Statistical multiplexing: If the network sets the capacity of the VPC to be\ngreater than or equal to the average data rates of all the VCCs but less than\nthe aggregate peak demand, then a statistical multiplexing service is supplied. With statistical multiplexing,VCCs experience greater cell delay variation and\ngreater cell transfer delay."
  },
  {
    "text": "Depending on the size of buffers used to queue cells\nfor transmission, VCCs may also experience greater cell loss ratio. This\napproach has the advantage of more efficient utilization of capacity and is\nattractive if the VCCs can tolerate the lower QoS."
  },
  {
    "text": "When statistical multiplexing is used, it is preferable to group VCCs into\nVPCs on the basis of similar traffic characteristics and similar QoS requirements. If\ndissimilar VCCs share the same VPC and statistical multiplexing is used, it is diffi-\ncult to provide fair access to both high-demand and low-demand traffic streams."
  },
  {
    "text": "Connection Admission Control Connection admission control is the first line\nof defense for the network in protecting itself from excessive loads. In essence, when\na user requests a new VPC or VCC, the user must specify (implicitly or explicitly) the\ntraffic characteristics in both directions for that connection."
  },
  {
    "text": "The user selects traffic\ncharacteristics by selecting a QoS from among the QoS classes that the network pro-\nvides.The network accepts the connection only if it can commit the resources neces-\nsary to support that traffic level while at the same time maintaining the agreed QoS\nof existing connections. By accepting the connection, the network forms a traffic con-\ntract with the user."
  },
  {
    "text": "Once the connection is accepted, the network continues to pro-\nvide the agreed QoS as long as the user complies with the traffic contract. The traffic contract may consist of the four parameters defined in Table 13.3:\npeak cell rate (PCR), cell delay variation (CDV), sustainable cell rate (SCR), and\nburst tolerance."
  },
  {
    "text": "Only the first two parameters are relevant for a constant-bit-rate\n(CBR) source; all four parameters may be used for variable-bit-rate (VBR) sources."
  },
  {
    "text": "As the name suggests, the peak cell rate is the maximum rate at which cells are\ngenerated by the source on this connection.However,we need to take into account the\ncell delay variation.Although a source may be generating cells at a constant peak rate,\ncell delay variations introduced by various factors (see Figure 13.9) will affect the tim-\ning,causing cells to clump up and gaps to occur.Thus,a source may temporarily exceed\nthe peak cell rate due to clumping."
  },
  {
    "text": "For the network to properly allocate resources to\nthis connection, it must know not only the peak cell rate but also the CDV. The exact relationship between peak cell rate and CDV depends on the oper-\national definitions of these two terms. The standards provide these definitions in\nterms of a cell rate algorithm."
  },
  {
    "text": "Because this algorithm can be used for usage parame-\nter control, we defer a discussion until the next subsection. The PCR and CDV must be specified for every connection."
  },
  {
    "text": "As an option for \nvariable-bit rate sources, the user may also specify a sustainable cell rate and burst\ntolerance.These parameters are analogous to PCR and CDV, respectively, but apply to\nan average rate of cell generation rather than a peak rate."
  },
  {
    "text": "The user can describe the\nfuture flow of cells in greater detail by using the SCR and burst tolerance as well as the\nPCR and CDV.With this additional information,the network may be able to utilize the\n13.6 / ATM TRAFFIC MANAGEMENT\nProcedures Used to Set Values of Traffic Contract Parameters\nExplicitly Specified Parameters\nImplicitly Specified \nParameter Values Set at \nParameter Values\nParameter Values Set\nConnection-Setup Time\nSpecified at Subscription \nUsing Default Rules\nRequested by User/NMS\nAssigned by Network Operator\nby subscription\nnetwork-operator default \nby subscription\nnetwork-operator default \n NMS = network management system\n PVC = permanent virtual connection\n SVC = switched virtual connection\nTraffic Parameters Used in Defining VCC/VPC Quality of Service\nDescription\nTraffic Type\nPeak Cell Rate (PCR)\nAn upper bound on the traffic \nthat can be submitted on an \nATM connection."
  },
  {
    "text": "Cell Delay Variation (CDV)\nAn upper bound on the \nvariability in the pattern of \ncell arrivals observed at a \nsingle measurement point with \nreference to the peak cell rate. Sustainable Cell Rate (SCR)\nAn upper bound on the \naverage rate of an ATM \nconnection, calculated over \nthe duration of the connection."
  },
  {
    "text": "Burst Tolerance\nAn upper bound on the \nvariability in the pattern of \ncell arrivals observed at a single \nmeasurement point with reference\nto the sustainable cell rate. VBR = variable bit rate\n CBR = constant bit rate\nnetwork resources more efficiently."
  },
  {
    "text": "For example, if a number of VCCs are statistically\nmultiplexed over a VPC,knowledge of both average and peak cell rates enables the net-\nwork to allocate buffers of sufficient size to handle the traffic efficiently without cell loss. For a given connection (VPC or VCC) the four traffic parameters may be\nspecified in several ways, as illustrated in Table 13.4."
  },
  {
    "text": "Parameter values may be\nimplicitly defined by default rules set by the network operator. In this case, all con-\nnections are assigned the same values, or all connections of a given class are assigned\nthe same values for that class. The network operator may also associate parameter\nvalues with a given subscriber and assign these at the time of subscription."
  },
  {
    "text": "Finally,\nparameter values tailored to a particular connection may be assigned at connection\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\ntime. In the case of a permanent virtual connection, these values are assigned by the\nnetwork when the connection is set up. For a switched virtual connection, the para-\nmeters are negotiated between the user and the network via a signaling protocol."
  },
  {
    "text": "Another aspect of quality of service that may be requested or assigned for a\nconnection is cell loss priority.A user may request two levels of cell loss priority for\nan ATM connection; the priority of an individual cell is indicated by the user\nthrough the CLP bit in the cell header (Figure 11.4). When two priority levels are\nused, the traffic parameters for both cell flows must be specified."
  },
  {
    "text": "Typically, this is\ndone by specifying a set of traffic parameters for high-priority traffic \nand a set of traffic parameters for all traffic (\nor 1). Based on this break-\ndown, the network may be able to allocate resources more efficiently."
  },
  {
    "text": "Usage Parameter Control Once a connection has been accepted by the connec-\ntion admission control function,the usage parameter control (UPC) function of the net-\nwork monitors the connection to determine whether the traffic conforms to the traffic\ncontract.The main purpose of usage parameter control is to protect network resources\nfrom an overload on one connection that would adversely affect the QoS on other con-\nnections by detecting violations of assigned parameters and taking appropriate actions."
  },
  {
    "text": "Usage parameter control can be done at both the virtual path and virtual channel\nlevels. Of these, the more important is VPC-level control, because network\nresources are, in general, initially allocated on the basis of virtual paths, with the vir-\ntual path capacity shared among the member virtual channels."
  },
  {
    "text": "There are two separate functions encompassed by usage parameter control:\n• Control of peak cell rate and the associated cell delay variation (CDV)\n• Control of sustainable cell rate and the associated burst tolerance\nLet us first consider the peak cell rate and the associated cell delay variation."
  },
  {
    "text": "In simple terms, a traffic flow is compliant if the peak rate of cell transmission does\nnot exceed the agreed peak cell rate, subject to the possibility of cell delay variation\nwithin the agreed bound."
  },
  {
    "text": "I.371 defines an algorithm, the peak cell rate algorithm,\nthat monitors compliance.The algorithm operates on the basis of two parameters: a\npeak cell rate R and a CDV tolerance limit of \nis the interarrival\ntime between cells if there were no CDV. With CDV, T is the average interarrival\ntime at the peak rate."
  },
  {
    "text": "The algorithm has been defined to monitor the rate at which\ncells arrive and to assure that the interarrival time is not too short to cause the flow\nto exceed the peak cell rate by an amount greater than the tolerance limit. The same algorithm, with different parameters, can be used to monitor the sus-\ntainable cell rate and the associated burst tolerance."
  },
  {
    "text": "In this case, the parameters are\nthe sustainable cell rate \nand a burst tolerance \nThe cell rate algorithm is rather complex; details can be found in [STAL99]. The algorithm simply defines a way to monitor compliance with the traffic contract. To perform usage parameter control, the network must act on the results of the\nalgorithm."
  },
  {
    "text": "The simplest strategy is that compliant cells are passed along and non-\ncompliant cells are discarded at the point of the UPC function. At the network’s option, cell tagging may also be used for noncompliant cells. In this case, a noncompliant cell may be tagged with \n(low priority) and\npassed."
  },
  {
    "text": "Such cells are then subject to discard at a later point in the network, should\ncongestion be encountered. 13.6 / ATM TRAFFIC MANAGEMENT\nFigure 13.11\nToken Bucket for Traffic Shaping\nIf the user has negotiated two levels of cell loss priority for a network, then the\nsituation is more complex."
  },
  {
    "text": "Recall that the user may negotiate a traffic contract for\nhigh priority traffic \nand a separate contract for aggregate traffic (CLP 0\nor 1).The following rules apply:\n1. A cell with \nthat conforms to the traffic contract for \n2. A cell with \nthat is noncompliant for \ntraffic but compliant\nfor (CLP 0 or 1) traffic is tagged and passed. 3."
  },
  {
    "text": "A cell with \nthat is noncompliant for \ntraffic and non-\ncompliant for (CLP 0 or 1) traffic is discarded. 4. A cell with \nthat is compliant for (\nor 1) traffic is passed. 5. A cell with \nthat is noncompliant for (CLP 0 or 1) traffic is discarded."
  },
  {
    "text": "Selective Cell Discard Selective cell discard comes into play when the network,\nat some point beyond the UPC function, discards \ncells.The objective is to \ndiscard lower-priority cells during congestion to protect the performance for higher-\npriority cells.Note that the network has no way to discriminate between cells that were\nlabeled as lower priority by the source and cells that were tagged by the UPC function."
  },
  {
    "text": "Traffic Shaping The UPC algorithm is referred to as a form of traffic policing. Traffic policing occurs when a flow of data is regulated so that cells (or frames or\npackets) that exceed a certain performance level are discarded or tagged. It may be\ndesirable to supplement a traffic-policing policy with a traffic-shaping policy."
  },
  {
    "text": "Traf-\nfic shaping is used to smooth out a traffic flow and reduce cell clumping. This can\nresult in a fairer allocation of resources and a reduced average delay time. A simple approach to traffic shaping is to use a form of the UPC algorithm\nknown as token bucket."
  },
  {
    "text": "In contrast to the UPC algorithm, which simply monitors\nthe traffic and tags or discards noncompliant cells, a traffic-shaping token bucket\ncontrols the flow of compliant cells. Figure 13.11 illustrates the basic principle of the token bucket.A token gener-\nator produces tokens at a rate of \ntokens per second and places these in the token\nbucket, which has a maximum capacity of \ntokens."
  },
  {
    "text": "Cells arriving from the source\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nare placed in a buffer with a maximum capacity of K cells.To transmit a cell through\nthe server, one token must be removed from the bucket."
  },
  {
    "text": "If the token bucket is\nempty, the cell is queued waiting for the next token.The result of this scheme is that\nif there is a backlog of cells and an empty bucket, then cells are emitted at a smooth\ncells per second with no cell delay variation until the backlog is cleared. Thus, the token bucket smoothes out bursts of cells."
  },
  {
    "text": "13.7 ATM-GFR TRAFFIC MANAGEMENT\nGFR (guaranteed frame rate) provides a service that is as simple as UBR (unspecified\nbit rate) from the end system’s point of view while placing a relatively modest require-\nment on the ATM network elements in terms of processing complexity and overhead."
  },
  {
    "text": "In essence, with GFR, an end system does no policing or shaping of the traffic it trans-\nmits but may transmit at the line rate of the ATM adapter. As with UBR, there is no\nguarantee of frame delivery."
  },
  {
    "text": "It is up to a higher layer, such as TCP, to react to conges-\ntion that results in dropped frames by employing the window management and con-\ngestion control techniques discussed in Part Five.Unlike UBR,GFR allows the user to\nreserve a certain amount of capacity, in terms of a cell rate, for each GFR VC.A GFR\nreservation assures an application that it may transmit at a minimum rate without\nlosses."
  },
  {
    "text": "If the network is not congested, the user will be able to transmit at a higher rate. A distinctive characteristic of GFR is that it requires the network to recognize\nframes as well as cells. When congestion occurs, the network discards entire frames\nrather than individual cells. Further, GFR requires that all of the cells of a frame\nhave the same CLP bit setting."
  },
  {
    "text": "The \nAAL5 frames are treated as lower-\npriority frames that are to be transmitted on a best-effort basis."
  },
  {
    "text": "The minimum\nguaranteed capacity applies to the \nThe GFR traffic contract consists of the following parameters:\n• Peak cell rate (PCR)\n• Minimum cell rate (MCR)\n• Maximum burst size (MBS)\n• Maximum frame size (MFS)\n• Cell delay variation tolerance (CDVT)\nMechanisms for Supporting Rate Guarantees\nThere are three basic approaches that can be used by the network to provide per-\nVC guarantees for GFR and to enable a number of users to efficiently use and fairly\nshare the available network capacity [GOYA98]:\n• Tagging and policing\n• Buffer management\n• Scheduling\nThese approaches can be combined in various ways in an ATM network ele-\nments to yield a number of possible GFR implementations."
  },
  {
    "text": "Figure 13.12 illustrates\n13.7 / ATM-GFR TRAFFIC MANAGEMENT\nconformance\nQoS eligibility\ntest mechanism\nFrame forwarding\nFigure 13.12\nThe Fundamental Components of a GFR Mechanism [ANDR99]\nTagging and Policing Tagging is used to discriminate between frames that\nconform to the GFR traffic contract and those that do not."
  },
  {
    "text": "The network element\ndoing the conformance checking sets \non all cells of each frame that does\nnot conform. Because tagged cells are assumed to be in violation of the traffic con-\ntract, they are given a lower quality of service than untagged cells by subsequent\nmechanisms, such as buffer management and scheduling."
  },
  {
    "text": "Tagging can be done by\nthe network, especially the network element at the ingress to the ATM network. But tagging may also be done by the source end system to indicate less important\nThe network, at either the ingress network element or at other ATM switching\nelements, may also choose to discard cells of nonconforming frames (i.e., cells with\n). Cell discard is considered a policing function."
  },
  {
    "text": "Buffer Management Buffer management mechanisms have to do with the\nway in which cells are treated that have been buffered at a network switch or that\narrive at a network switch and must be buffered prior to forwarding. When a con-\ngestion condition exists, as reflected by high buffer occupancy, a network element\nwill discard tagged cells in preference to untagged cells."
  },
  {
    "text": "In particular, a network\nelement may discard a tagged cell that is already in a buffer to make room for an\nincoming untagged cell.To provide fair and efficient use of buffer resources, a net-\nwork element may perform per-VC buffering, dedicating a certain amount of\nbuffer space to individual VCs."
  },
  {
    "text": "Then, on the basis of the traffic contracts for each\nVC and the buffer occupancy per VC, the network element can make decisions\nconcerning cell discard. That is, cell discard can be based on queue-specific occu-\npancy thresholds."
  },
  {
    "text": "Scheduling A scheduling function, at minimum, can give preferential treatment\nto untagged cells over tagged cells.A network can also maintain separate queues for\neach VC and make per-VC scheduling decisions."
  },
  {
    "text": "Thus, within each queue, a first-\ncome, first-served discipline can be used, perhaps modified to give higher priority\nfor scheduling to \nScheduling among the queues enables the net-\nwork element to control the outgoing rate of individual VCs and thus ensure that\nCLP = 0 frames."
  },
  {
    "text": "CHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nindividual VCs receive a fair allocation of capacity while meeting traffic contract\nrequirements for minimum cell rate for each VC. GFR Conformance Definition\nThe first function indicated in Figure 13.12 is a UPC function."
  },
  {
    "text": "UPC monitors each\nactive VC to ensure that the traffic on each connection conforms to the traffic con-\ntract, and tags or discards nonconforming cells. A frame is conforming if all of its cells are conforming, and is nonconforming\nif one or more cells are nonconforming. Three conditions must be met for a cell to\nbe conforming:\n1. The rate of cells must be within the cell rate contract. 2."
  },
  {
    "text": "All cells of a frame must have the same CLP value.Thus, the CLP bit of the cur-\nrent cell must have the same value as the CLP bit of the first cell of the frame. 3."
  },
  {
    "text": "The frame containing this cell must satisfy the MFS parameter.This condition\ncan be met by performing the following test on each cell:The cell either is the\nlast cell of the frame or the number of cells in the frame up to and including\nthis cell is less than MFS. QoS Eligibility Test Mechanism\nThe first two boxes in Figure 13.12 show what amounts to a two-stage filtering\nprocess."
  },
  {
    "text": "First, frames are tested for conformance to the traffic contract. Frames\nthat do not conform may be discarded immediately. If a nonconforming frame \nis not discarded, its cells are tagged \nmaking them vulnerable to dis-\ncard later on in the network."
  },
  {
    "text": "This first stage is therefore looking at an upper\nbound on traffic and penalizing cells that push the traffic flow above the upper\nThe second stage of filtering determines which frames are eligible for QoS\nguarantees under the GFR contract for a given VC."
  },
  {
    "text": "This stage is looking at a\nlower bound on traffic; over a given period of time, those frames that constitute \na traffic flow below the defined threshold are designated as eligible for QoS \nTherefore, the frames transmitted on a GFR VC fall into three categories:\n• Nonconforming frame: Cells of this frame will be tagged or discarded."
  },
  {
    "text": "• Conforming but ineligible frames: Cells will receive a best-effort service. • Conforming and eligible frames: Cells will receive a guarantee of delivery. To determine eligibility, a form of the cell rate algorithm referred to in\nSection 13.6 is used. A network may discard or tag any cells that are not eligible."
  },
  {
    "text": "However,TM 4.1 states that it is expected that an implementation will attempt to\ndeliver conforming but ineligible traffic is on the basis of available resources,\nwith each GFR connection being provided at each link with a fair share of the\nlocal residual bandwidth."
  },
  {
    "text": "[JAIN90] and\n[JAIN92] provide excellent discussions of the requirements for congestion control, the various\napproaches that can be taken, and performance considerations. An excellent discussion of\ndata network performance issues is provided by [KLEI93].While somewhat dated, the defin-\nitive reference on flow control is [GERL80]."
  },
  {
    "text": "[GARR96] provides a rationale for the ATM service categories and discusses the traf-\nfic management implications of each. [MCDY99] contains a thorough discussion of ATM\ntraffic control for CBR and VBR.Two excellent treatments of ATM traffic characteristics and\nperformance are [GIRO99] and [SCHW96]."
  },
  {
    "text": "[ANDR99] provides a clear, detailed description of GFR.Another useful description is\nInteresting examinations of frame relay congestion control issues are found in\n[CHEN89] and [DOSH88]. Good treatments are also found in [BUCK00] and [GORA99]."
  },
  {
    "text": "Andrikopoulos, I.; Liakopoulous,A.; Pavlou, G.; and Sun, Z.“Providing Rate\nGuarantees for Internet Application Traffic Across ATM Networks.”IEEE Com-\nmunications Surveys, Third Quarter 1999. http://www.comsoc.org/pubs/surveys\nBonaventure, O., and Nelissen, J.“Guaranteed Frame Rate:A Better Service\nfor TCP/IP in ATM Networks.” IEEE Network, January/February 2001. Buckwalter, J."
  },
  {
    "text": "Frame Relay: Technology and Practice. Reading, MA: Addison-\nWesley, 2000. Chen, K.; Ho, K.; and Saksena, V. “Analysis and Design of a Highly Reliable\nTransport Architecture for ISDN Frame-Relay Networks.” IEEE Journal on\nSelected Areas in Communications, October 1989. Doshi, B., and Nguyen, H. “Congestion Control in ISDN Frame-Relay Net-\nworks.” AT&T Technical Journal, November/December 1988."
  },
  {
    "text": "New York: Wiley 1999. Jain, R. “Congestion Control in Computer Networks: Issues and Trends.” IEEE\nNetwork Magazine, May 1990. Jain, R. “Myths About Congestion Management in High-Speed Networks.”\nInternetworking: Research and Experience, Volume 3, 1992. KLEI93 Kleinrock, L. “On the Modeling and Analysis of Computer Networks.”\nProceedings of the IEEE, August 1993. MCDY99 McDysan, D., and Spohn, D."
  },
  {
    "text": "Why is it that when the load exceeds the network capacity, delay tends to infinity? Give a brief explanation of each of the congestion control techniques illustrated in\nFigure 13.5. What is the difference between backward and forward explicit congestion signaling? Briefly explain the three general approaches to explicit congestion signaling."
  },
  {
    "text": "Explain the concept of committed information rate (CIR) in frame relay networks\nWhat is the significance of cell delay variation in an ATM network? What functions are included in ATM usage parameter control? What is the difference between traffic policing and traffic shaping? A proposed congestion control technique is known as isarithmic control."
  },
  {
    "text": "In this\nmethod, the total number of frames in transit is fixed by inserting a fixed number of\npermits into the network. These permits circulate at random through the frame relay\nnetwork."
  },
  {
    "text": "In the discussion of latency/speed effects in Section 13.5, an example was given in\nwhich over 7 megabits were transmitted before the source could react. But isn’t a slid-\ning-window flow control technique, such as described for HDLC, designed to cope\nwith long propagation delays? When the sustained traffic through a packet-switching node exceeds the node’s\ncapacity, the node must discard packets."
  },
  {
    "text": "Buffers only defer the congestion problem;\nthey do not solve it. Consider the packet-switching network in Figure 13.13. Five sta-\ntions attach to one of the network’s nodes.The node has a single link to the rest of the\nnetwork with a normalized throughput capacity of \nSenders 1 through 5 are\nsending at average sustained rates of of 0.1, 0.2, 0.3, 0.4, and 0.5, respectively."
  },
  {
    "text": "Clearly\nthe node is overloaded. To deal with the congestion, the node discards packets from\nsender i with a probability of \nShow the relationship among \nand C so that the rate of undiscarded packets\ndoes not exceed C. The node establishes a discard policy by assigning values to the \nsuch that the\nrelationship derived in part (a) of this problem is satisfied."
  },
  {
    "text": "Node A presents a constant load of 0.8 frames per second destined\np1 = 0.0; p2 = 0.0; p3 = 0.0; p4 = 0.0; p5 = 1.0\np1 = 0.0; p2 = 0.0; p3 = 0.222; p4 = 0.417; p5 = 0.533\np1 = 0.091; p2 = 0.182; p3 = 0.273; p4 = 0.364; p5 = 0.455\np1 = 0.333; p2 = 0.333; p3 = 0.333; p4 = 0.333; p5 = 0.333\nFigure 13.13\nStations Attached to a Packet-Switching Node\nFigure 13.14\nNetwork of Frame Relay Nodes\nCHAPTER 13 / CONGESTION CONTROL IN DATA NETWORKS\nNode B presents a load destined for \nNode S has a common pool of buffers\nthat it uses for traffic both to \nWhen the buffer is full, frames are discarded,\nand are later retransmitted by the source user."
  },
  {
    "text": "S has a throughput capacity of 2. Plot the\ntotal throughput (i.e., the sum of \ndelivered traffic) as a function of \nWhat fraction of the throughput is \ntraffic for \nFor a frame relay network to be able to detect and then signal congestion,it is necessary\nfor each frame handler to monitor its queuing behavior."
  },
  {
    "text": "If queue lengths begin to grow\nto a dangerous level, then either forward or backward explicit notification or a combi-\nnation should be set to try to reduce the flow of frames through that frame handler.The\nframe handler has some choice as to which logical connections should be alerted to con-\ngestion."
  },
  {
    "text": "If congestion is becoming quite serious, all logical connections through a frame\nhandler might be notified. In the early stages of congestion, the frame handler might\njust notify users for those connections that are generating the most traffic. In one of the frame relay specifications, an algorithm for monitoring queue lengths\nis suggested; this is shown in Figure 13.15."
  },
  {
    "text": "A cycle begins when the outgoing circuit\ngoes from idle (queue empty) to busy (nonzero queue size, including the current\nframe). If a threshold value is exceeded, then the circuit is in a state of incipient con-\ngestion, and the congestion avoidance bits should be set on some or all logical connec-\ntions that use that circuit. Describe the algorithm in words and explain its advantages."
  },
  {
    "text": "The algorithm makes use of the following variables:\nThe algorithm consists of three components:\nt \u0001 current time\nti \u0001 time of ith arrival or departure event\nqi \u0001 number of frames in the system after the event\nT0 \u0001 time at the beginning of the previous cycle\nT1 \u0001 time at the beginning of the current cycle\nUpdate: Beginning with q0 :\u0001 0\nIf the ith event is an arrival event, qi :\u0001 qi\u00031 \u0004 1\nIf the ith event is a departure event, qi :\u0001 qi\u00031 \u0003 1\nL \u0001 Ai \u0004 Ai\u00031\nqi\u00031(ti \u0003 ti\u00031)\nti\r[T0, T1)\nqi\u00031(ti \u0003 ti\u00031)\nFigure 13.15\nA Frame Relay Algorithm\nCompare sustainable cell rate and burst tolerance, as used in ATM networks, with\ncommitted information rate and excess burst size, as used in frame relay networks."
  },
  {
    "text": "Influenced by Major Pierre L’Enfant’s plans for Washington, DC,\nJudge Woodward envisioned a modern series of hexagons with major diagonal\navenues centered on circular parks, or circuses, in the center of the hexagons."
  },
  {
    "text": "Fred-\nerick Law Olmstead said, ”nearly all of the most serious mistakes of Detroit’s past\nhave arisen from a disregard of the spirit of Woodward’s plan.”\n—Endangered Detroit, Friends of the Book-Cadillac Hotel\nThe essence of a cellular network is the use of multiple low-power\ntransmitters."
  },
  {
    "text": "The area to be covered is divided into cells in a hexago-\nnal tile pattern that provide full coverage of the area. A major technical problem for cellular networks is fading, which\nrefers to the time variation of received signal power caused by\nchanges in the transmission medium or path(s). First-generation cellular networks were analog,making use of frequency\ndivision multiplexing."
  },
  {
    "text": "Second-generation cellular networks are digital. One technique in\nwidespread use is based on code division multiple access (CDMA). The objective of the third-generation (3G) of wireless communication\nis to provide fairly high-speed wireless communications to support\nmultimedia, data, and video in addition to voice."
  },
  {
    "text": "Of all the tremendous advances in data communications and telecommunica-\ntions, perhaps the most revolutionary is the development of cellular networks. Cellular technology is the foundation of mobile wireless communications and\nsupports users in locations that are not easily served by wired networks."
  },
  {
    "text": "Cellu-\nlar technology is the underlying technology for mobile telephones, personal\ncommunications systems, wireless Internet and wireless Web applications, and\nWe begin this chapter with a look at the basic principles used in all cellular\nnetworks.Then we look at specific cellular technologies and standards, which are\nconveniently grouped into three generations.The first generation is analog based\nand, while still widely used, is passing from the scene."
  },
  {
    "text": "The dominant technology\ntoday is the digital second-generation systems. Finally, third-generation high-\nspeed digital systems have begun to emerge."
  },
  {
    "text": "14.1 / PRINCIPLES OF CELLULAR NETWORKS\n(a) Square pattern\n(b) Hexagonal pattern\nFigure 14.1\nCellular Geometries\n14.1 PRINCIPLES OF CELLULAR NETWORKS\nCellular radio is a technique that was developed to increase the capacity available for\nmobile radio telephone service. Prior to the introduction of cellular radio, mobile\nradio telephone service was only provided by a high-power transmitter/receiver."
  },
  {
    "text": "A\ntypical system would support about 25 channels with an effective radius of about \n80 km. The way to increase the capacity of the system is to use lower-power systems\nwith shorter radius and to use numerous transmitters/receivers.We begin this section\nwith a look at the organization of cellular systems and then examine some of the\ndetails of their implementation."
  },
  {
    "text": "Cellular Network Organization\nThe essence of a cellular network is the use of multiple low-power transmitters, on\nthe order of 100 W or less. Because the range of such a transmitter is small, an area\ncan be divided into cells, each one served by its own antenna."
  },
  {
    "text": "Each cell is allocated\na band of frequencies and is served by a base station, consisting of transmitter,\nreceiver, and control unit.Adjacent cells are assigned different frequencies to avoid\ninterference or crosstalk. However, cells sufficiently distant from each other can use\nthe same frequency band. The first design decision to make is the shape of cells to cover an area."
  },
  {
    "text": "A\nmatrix of square cells would be the simplest layout to define (Figure 14.1a). However, this geometry is not ideal."
  },
  {
    "text": "If the width of a square cell is d, then a cell\nhas four neighbors at a distance d and four neighbors at a distance \nmobile user within a cell moves toward the cell’s boundaries, it is best if all of the\nadjacent antennas are equidistant.This simplifies the task of determining when to\nswitch the user to an adjacent antenna and which antenna to choose.A hexagonal\npattern provides for equidistant antennas (Figure 14.1b).The radius of a hexagon\nis defined to be the radius of the circle that circumscribes it (equivalently, the \ndistance from the center to each vertex; also equal to the length of a side of a\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\n(c) Black cells indicate a frequency reuse for N \u0001 19\n(a) Frequency reuse pattern for N \u0001 4\n(b) Frequency reuse pattern for N \u0001 7\nCircle with\nFigure 14.2\nFrequency Reuse Patterns\nhexagon)."
  },
  {
    "text": "For a cell radius R, the distance between the cell center and each adja-\ncent cell center is \nIn practice, a precise hexagonal pattern is not used. Variations from the ideal\nare due to topographical limitations, local signal propagation conditions, and practi-\ncal limitation on siting antennas."
  },
  {
    "text": "A wireless cellular system limits the opportunity to use the same frequency for\ndifferent communications because the signals,not being constrained,can interfere with\none another even if geographically separated. Systems supporting a large number of\ncommunications simultaneously need mechanisms to conserve spectrum."
  },
  {
    "text": "Frequency Reuse In a cellular system, each cell has a base transceiver.The trans-\nmission power is carefully controlled (to the extent that it is possible in the highly vari-\nable mobile communication environment) to allow communication within the cell\nusing a given frequency while limiting the power at that frequency that escapes the cell\ninto adjacent ones."
  },
  {
    "text": "The objective is to use the same frequency in other nearby cells,\nthus allowing the frequency to be used for multiple simultaneous conversations. Gen-\nerally,10 to 50 frequencies are assigned to each cell,depending on the traffic expected."
  },
  {
    "text": "The essential issue is to determine how many cells must intervene between two\ncells using the same frequency so that the two cells do not interfere with each other. Various patterns of frequency reuse are possible. Figure 14.2 shows some examples."
  },
  {
    "text": "If\n14.1 / PRINCIPLES OF CELLULAR NETWORKS\nthe pattern consists of N cells and each cell is assigned the same number of frequen-\ncies, each cell can have K/N frequencies, where K is the total number of frequencies\nallotted to the system. For AMPS (Section 14.2),\nis the smallest\npattern that can provide sufficient isolation between two uses of the same frequency."
  },
  {
    "text": "In characterizing frequency reuse, the following parameters are commonly\nD = minimum distance between centers of cells that use the same band\nof frequencies (called cochannels)\nR = radius of a cell\nd = distance between centers of adjacent cells \nN = number of cells in a repetitious pattern (each cell in the pattern uses\na unique band of frequencies), termed the reuse factor\nIn a hexagonal cell pattern, only the following values of N are possible:\nHence, possible values of N are 1, 3, 4, 7, 9, 12, 13, 16, 19, 21, and so on.The fol-\nlowing relationship holds:\nThis can also be expressed as \nIncreasing Capacity In time, as more customers use the system, traffic may build\nup so that there are not enough frequencies assigned to a cell to handle its calls.A num-\nber of approaches have been used to cope with this situation, including the following:\n• Adding new channels: Typically, when a system is set up in a region, not all of\nthe channels are used, and growth and expansion can be managed in an\norderly fashion by adding new channels."
  },
  {
    "text": "• Frequency borrowing: In the simplest case, frequencies are taken from adjacent\ncells by congested cells.The frequencies can also be assigned to cells dynamically. • Cell splitting: In practice, the distribution of traffic and topographic features is\nnot uniform, and this presents opportunities for capacity increase. Cells in\nareas of high usage can be split into smaller cells."
  },
  {
    "text": "Generally, the original cells\nare about 6.5 to 13 km in size. The smaller cells can themselves be split; how-\never, 1.5-km cells are close to the practical minimum size as a general solution\n(but see the subsequent discussion of microcells). To use a smaller cell, the\npower level used must be reduced to keep the signal within the cell."
  },
  {
    "text": "Also, as\nthe mobile units move, they pass from cell to cell, which requires transferring\nof the call from one base transceiver to another. This process is called a\nhandoff.As the cells get smaller, these handoffs become much more frequent. Figure 14.3 indicates schematically how cells can be divided to provide more\ncapacity."
  },
  {
    "text": "A radius reduction by a factor of F reduces the coverage area and\nincreases the required number of base stations by a factor of F2."
  },
  {
    "text": "N = I2 + J2 + 1I * J2, I, J = 0, 1, 2, 3, Á\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nFigure 14.3\nCell Splitting\nTypical Parameters for Macrocells and Microcells\nCell radius\n0.1 to 1 km\nTransmission power\nAverage delay spread\n10 to 100 ns\nMaximum bit rate\n• Cell sectoring: With cell sectoring, a cell is divided into a number of wedge-\nshaped sectors, each with its own set of channels, typically three or six \nsectors per cell."
  },
  {
    "text": "Each sector is assigned a separate subset of the cell’s chan-\nnels, and directional antennas at the base station are used to focus on each\n• Microcells: As cells become smaller, antennas move from the tops of \ntall buildings or hills, to the tops of small buildings or the sides of large\nbuildings, and finally to lamp posts, where they form microcells."
  },
  {
    "text": "Each\ndecrease in cell size is accompanied by a reduction in the radiated power\nlevels from the base stations and the mobile units."
  },
  {
    "text": "Microcells are useful \nin city streets in congested areas, along highways, and inside large public\nTable 14.1 suggests typical parameters for traditional cells,called macrocells,and\nmicrocells with current technology.The average delay spread refers to multipath delay\nspread (i.e., the same signal follows different paths and there is a time delay between\nthe earliest and latest arrival of the signal at the receiver)."
  },
  {
    "text": "As indicated, the use \nof smaller cells enables the use of lower power and provides superior propagation\nconditions. 14.1 / PRINCIPLES OF CELLULAR NETWORKS\n(b) Cell radius \u0001 0.8 km\n(a) Cell radius \u0001 1.6 km\nWidth \u0001 21 \u0007 0.8 \u0001 16.8 km\nWidth \u0001 11 \u0007 1.6 \u0001 17.6 km\nHeight \u0001 5 \u0007\u00013 \u0007 1.6 \u0001 13.9 km\nHeight \u0001 10 \u0007\u00013 \u0007 0.8 \u0001 13.9 km\nFigure 14.4\nFrequency Reuse Example\nEXAMPLE [HAAS00]."
  },
  {
    "text": "Assume a system of 32 cells with a cell radius of 1.6 km,\na total of 32 cells, a total frequency bandwidth that supports 336 traffic channels,\nand a reuse factor of \nIf there are 32 total cells, what geographic area is cov-\nered, how many channels are there per cell, and what is the total number of con-\ncurrent calls that can be handled? Repeat for a cell radius of 0.8 km and 128 cells."
  },
  {
    "text": "Figure 14.4a shows an approximately square pattern.The area of a hexagon\nof radius R is \nA hexagon of radius 1.6 km has an area of \nthe total area covered is \nthe number of chan-\nnels per cell is \nfor a total channel capacity of \nnels."
  },
  {
    "text": "For the layout of Figure 14.4b, the area covered is \nThe number of channels per cell is \nfor a total channel capacity of\n48 * 128 = 6144\n336/7 = 48,\n1.66 * 128 = 213 km2. 48 * 32 = 1536\n336/7 = 48,\n6.65 * 32 = 213 km2. Operation of Cellular Systems\nFigure 14.5 shows the principal elements of a cellular system. In the approximate\ncenter of each cell is a base station (BS)."
  },
  {
    "text": "The BS includes an antenna, a controller,\nand a number of transceivers, for communicating on the channels assigned to that\ncell.The controller is used to handle the call process between the mobile unit and the\nrest of the network. At any time, a number of mobile user units may be active and\nmoving about within a cell, communicating with the BS."
  },
  {
    "text": "Each BS is connected to a\nmobile telecommunications switching office (MTSO),with one MTSO serving multiple\nBSs. Typically, the link between an MTSO and a BS is by a wire line, although a\nwireless link is also possible. The MTSO connects calls between mobile units."
  },
  {
    "text": "The\nMTSO is also connected to the public telephone or telecommunications network and\ncan make a connection between a fixed subscriber to the public network and a\nmobile subscriber to the cellular network. The MTSO assigns the voice channel to\neach call, performs handoffs, and monitors the call for billing information."
  },
  {
    "text": "CHAPTER 14 / CELLULAR WIRELESS NETWORKS\ntransceiver\ntransceiver\ntelecommuni-\ntelecommunications\ntransceiver\nFigure 14.5\nOverview of Cellular System\n1Usually, but not always, the antenna and therefore the base station selected is the closest one to the\nmobile unit. However, because of propagation anomalies, this is not always the case."
  },
  {
    "text": "The use of a cellular system is fully automated and requires no action on the\npart of the user other than placing or answering a call. Two types of channels are\navailable between the mobile unit and the base station (BS): control channels and\ntraffic channels."
  },
  {
    "text": "Control channels are used to exchange information having to do\nwith setting up and maintaining calls and with establishing a relationship between a\nmobile unit and the nearest BS. Traffic channels carry a voice or data connection\nbetween users."
  },
  {
    "text": "Figure 14.6 illustrates the steps in a typical call between two mobile\nusers within an area controlled by a single MTSO:\n• Mobile unit initialization: When the mobile unit is turned on, it scans and\nselects the strongest setup control channel used for this system (Figure 14.6a). Cells with different frequency bands repetitively broadcast on different setup\nchannels."
  },
  {
    "text": "The effect of this procedure is that the mobile unit has automatically\nselected the BS antenna of the cell within which it will operate.1 Then a hand-\nshake takes place between the mobile unit and the MTSO controlling this cell,\nthrough the BS in this cell.The handshake is used to identify the user and reg-\nister its location."
  },
  {
    "text": "As long as the mobile unit is on, this scanning procedure is\nrepeated periodically to account for the motion of the unit. If the unit enters a\nnew cell, then a new BS is selected. In addition, the mobile unit is monitoring\nfor pages, discussed subsequently."
  },
  {
    "text": "• Mobile-originated call: A mobile unit originates a call by sending the number\nof the called unit on the preselected setup channel (Figure 14.6b).The receiver\nat the mobile unit first checks that the setup channel is idle by examining\ninformation in the forward (from the BS) channel. When an idle is detected,\nthe mobile may transmit on the corresponding reverse (to BS) channel."
  },
  {
    "text": "The\nBS sends the request to the MTSO. 14.1 / PRINCIPLES OF CELLULAR NETWORKS\n(a) Monitor for strongest signal\n(b) Request for connection\n(d) Call accepted\n(e) Ongoing call\n(f) Handoff\nFigure 14.6\nExample of Mobile Cellular Call\n• Paging: The MTSO then attempts to complete the connection to the called\nunit."
  },
  {
    "text": "The MTSO sends a paging message to certain BSs depending on the\ncalled mobile number (Figure 14.6c). Each BS transmits the paging signal on\nits own assigned setup channel."
  },
  {
    "text": "• Call accepted: The called mobile unit recognizes its number on the setup chan-\nnel being monitored and responds to that BS, which sends the response to the\nMTSO.The MTSO sets up a circuit between the calling and called BSs.At the\nsame time, the MTSO selects an available traffic channel within each BS’s cell\nand notifies each BS, which in turn notifies its mobile unit (Figure 14.6d)."
  },
  {
    "text": "The\ntwo mobile units tune to their respective assigned channels. CHAPTER 14 / CELLULAR WIRELESS NETWORKS\n• Ongoing call: While the connection is maintained, the two mobile units\nexchange voice or data signals, going through their respective BSs and the\nMTSO (Figure 14.6e)."
  },
  {
    "text": "• Handoff: If a mobile unit moves out of range of one cell and into the range of\nanother during a connection, the traffic channel has to change to one assigned\nto the BS in the new cell (Figure 14.6f).The system makes this change without\neither interrupting the call or alerting the user."
  },
  {
    "text": "Other functions performed by the system but not illustrated in Figure 14.6\ninclude the following:\n• Call blocking: During the mobile-initiated call stage, if all the traffic channels\nassigned to the nearest BS are busy, then the mobile unit makes a preconfig-\nured number of repeated attempts. After a certain number of failed tries, a\nbusy tone is returned to the user."
  },
  {
    "text": "• Call termination: When one of the two users hangs up, the MTSO is informed\nand the traffic channels at the two BSs are released. • Call drop: During a connection, because of interference or weak signal spots\nin certain areas, if the BS cannot maintain the minimum required signal\nstrength for a certain period of time, the traffic channel to the user is dropped\nand the MTSO is informed."
  },
  {
    "text": "• Calls to/from fixed and remote mobile subscriber: The MTSO connects to the\npublic switched telephone network. Thus, the MTSO can set up a connection\nbetween a mobile user in its area and a fixed subscriber via the telephone net-\nwork."
  },
  {
    "text": "Further, the MTSO can connect to a remote MTSO via the telephone\nnetwork or via dedicated lines and set up a connection between a mobile user\nin its area and a remote mobile user. Mobile Radio Propagation Effects\nMobile radio communication introduces complexities not found in wire communi-\ncation or in fixed wireless communication."
  },
  {
    "text": "Two general areas of concern are signal\nstrength and signal propagation effects. • Signal strength: The strength of the signal between the base station and the\nmobile unit must be strong enough to maintain signal quality at the receiver but\nno so strong as to create too much cochannel interference with channels in\nanother cell using the same frequency band. Several complicating factors exist."
  },
  {
    "text": "Human-made noise varies considerably, resulting in a variable noise level. For\nexample, automobile ignition noise in the cellular frequency range is greater in\nthe city than in a suburban area. Other signal sources vary from place to place."
  },
  {
    "text": "The signal strength varies as a function of distance from the BS to a point within\nits cell.Moreover,the signal strength varies dynamically as the mobile unit moves. • Fading: Even if signal strength is within an effective range, signal propagation\neffects may disrupt the signal and cause errors. Fading is discussed subse-\nquently in this section."
  },
  {
    "text": "In designing a cellular layout, the communications engineer must take account\nof these various propagation effects, the desired maximum transmit power level at the\n14.1 / PRINCIPLES OF CELLULAR NETWORKS\nbase station and the mobile units, the typical height of the mobile unit antenna, and\nthe available height of the BS antenna. These factors will determine the size of the\nindividual cell."
  },
  {
    "text": "Unfortunately, as just described, the propagation effects are dynamic\nand difficult to predict.The best that can be done is to come up with a model based on\nempirical data and to apply that model to a given environment to develop guidelines\nfor cell size. One of the most widely used models was developed by Okumura et al."
  },
  {
    "text": "[OKUM68] and subsequently refined by Hata [HATA80].The original was a detailed\nanalysis of the Tokyo area and produced path loss information for an urban environ-\nment. Hata’s model is an empirical formulation that takes into account a variety of\nenvironments and conditions."
  },
  {
    "text": "For an urban environment, predicted path loss is\nLdB = 69.55 + 26.16 log fc - 13.82 log ht - A(hr) + (44.9 - 6.55 log ht) log d (14.1)\nFor a small- or medium-sized city, the correction factor is given by\nAnd for a large city it is given by\nTo estimate the path loss in a suburban area, the formula for urban path loss in\nEquation (14.1) is modified as\nAnd for the path loss in open areas, the formula is modified as\nThe Okumura/Hata model is considered to be among the best in terms of\naccuracy in path loss prediction and provides a practical means of estimating path\nloss in a wide variety of situations [FREE97, RAPP97]."
  },
  {
    "text": "LdB1open2 = LdB1urban2 - 4.781log fc22 - 18.7331log fc2 - 40.98\nLdB1suburban2 = LdB1urban2 - 2[log1fc/282]2 - 5.4\n A1hr2 = 3.2[log111.75hr2]2 - 4.97 dB\n for fc Ú 300 MHz\n A1hr2 = 8.29[log11.54hr2]2 - 1.1 dB\n for fc … 300 MHz\nA1hr2 = 11.1 log fc - 0.72hr - 11.56 log fc - 0.82 dB\n A1hr2 = correction factor for mobile antenna height\nd = propagation distance between antennas in km, from 1 to 20 km\nhr = height of receiving antenna 1mobile station2 in m, from 1 to 10 m\nht = height of transmitting antenna 1base station2 in m, from 30 to 300 m\nfc = carrier frequency in MHz from 150 to 1500 MHz\nEXAMPLE [FREE97]."
  },
  {
    "text": "= 69.55 + 77.28 - 22.14 - 8.95 + 34.4 = 150.14 dB\nLdB = 69.55 + 26.16 log 900 - 13.82 log 40 - 8.95 + 144.9 - 6.55 log 402 log 10\n= 12.75 - 3.8 = 8.95 dB\n A1hr2 = 11.1 log 900 - 0.725 - 11.56 log 900 - 0.82 dB\nfc = 900 MHz,\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nFigure 14.7\nSketch of Three Important Propagation Mechanisms: Reflection (R), Scatter-\ning (S), Diffraction (D) [ANDE95]\n2On the other hand, the reflected signal has a longer path, which creates a phase shift due to delay\nrelative to the unreflected signal."
  },
  {
    "text": "When this delay is equivalent to half a wavelength, the two signals\nare back in phase. Fading in the Mobile Environment\nPerhaps the most challenging technical problem facing communications systems\nengineers is fading in a mobile environment.The term fading refers to the time vari-\nation of received signal power caused by changes in the transmission medium or\npath(s)."
  },
  {
    "text": "In a fixed environment, fading is affected by changes in atmospheric condi-\ntions, such as rainfall. But in a mobile environment, where one of the two antennas\nis moving relative to the other, the relative location of various obstacles changes\nover time, creating complex transmission effects. Multipath Propagation Three propagation mechanisms, illustrated in Figure 14.7,\nplay a role."
  },
  {
    "text": "Reflection occurs when an electromagnetic signal encounters a surface that\nis large relative to the wavelength of the signal.For example,suppose a ground-reflected\nwave near the mobile unit is received."
  },
  {
    "text": "Because the ground-reflected wave has a 180°\nphase shift after reflection,the ground wave and the line-of-sight (LOS) wave may tend\nto cancel, resulting in high signal loss.2 Further, because the mobile antenna is lower\nthan most human-made structures in the area, multipath interference occurs. These\nreflected waves may interfere constructively or destructively at the receiver."
  },
  {
    "text": "14.1 / PRINCIPLES OF CELLULAR NETWORKS\nDiffraction occurs at the edge of an impenetrable body that is large compared\nto the wavelength of the radio wave. When a radio wave encounters such an edge,\nwaves propagate in different directions with the edge as the source.Thus, signals can\nbe received even when there is no unobstructed LOS from the transmitter."
  },
  {
    "text": "If the size of an obstacle is on the order of the wavelength of the signal or less,\nscattering occurs.An incoming signal is scattered into several weaker outgoing sig-\nnals.At typical cellular microwave frequencies, there are numerous objects, such as\nlamp posts and traffic signs, that can cause scattering. Thus, scattering effects are\ndifficult to predict."
  },
  {
    "text": "These three propagation effects influence system performance in various ways\ndepending on local conditions and as the mobile unit moves within a cell. If a mobile\nunit has a clear LOS to the transmitter, then diffraction and scattering are generally\nminor effects, although reflection may have a significant impact."
  },
  {
    "text": "If there is no clear\nLOS, such as in an urban area at street level, then diffraction and scattering are the\nprimary means of signal reception. The Effects of Multipath Propagation As just noted, one unwanted effect\nof multipath propagation is that multiple copies of a signal may arrive at different\nphases."
  },
  {
    "text": "If these phases add destructively, the signal level relative to noise declines,\nmaking signal detection at the receiver more difficult. A second phenomenon, of particular importance for digital transmission, is intersym-\nbol interference (ISI)."
  },
  {
    "text": "Consider that we are sending a narrow pulse at a given fre-\nquency across a link between a fixed antenna and a mobile unit.Figure 14.8 shows what\nthe channel may deliver to the receiver if the impulse is sent at two different times.The\nupper line shows two pulses at the time of transmission. The lower line shows the\nresulting pulses at the receiver."
  },
  {
    "text": "In each case the first received pulse is the desired LOS\nsignal. The magnitude of that pulse may change because of changes in atmospheric\nattenuation.Further,as the mobile unit moves farther away from the fixed antenna,the\namount of LOS attenuation increases."
  },
  {
    "text": "But in addition to this primary pulse, there may\nTransmitted\nTransmitted\nFigure 14.8\nTwo Pulses in Time-Variant Multipath\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nbe multiple secondary pulses due to reflection,diffraction,and scattering.Now suppose\nthat this pulse encodes one or more bits of data."
  },
  {
    "text": "In that case, one or more delayed\ncopies of a pulse may arrive at the same time as the primary pulse for a subsequent bit. These delayed pulses act as a form of noise to the subsequent primary pulse, making\nrecovery of the bit information more difficult. As the mobile antenna moves, the location of various obstacles changes; hence\nthe number, magnitude, and timing of the secondary pulses change."
  },
  {
    "text": "This makes it\ndifficult to design signal processing techniques that will filter out multipath effects\nso that the intended signal is recovered with fidelity. Types of Fading Fading effects in a mobile environment can be classified as\neither fast or slow."
  },
  {
    "text": "Referring to Figure 14.7, as the mobile unit moves down a street\nin an urban environment, rapid variations in signal strength occur over distances of\nabout one-half a wavelength.At a frequency of 900 MHz, which is typical for mobile\ncellular applications, a wavelength is 0.33 m."
  },
  {
    "text": "Changes of amplitude can be as much\nas 20 or 30 dB over a short distance.This type of rapidly changing fading phenome-\nnon, known as fast fading, affects not only mobile phones in automobiles, but even a\nmobile phone user walking down an urban street."
  },
  {
    "text": "As the mobile user covers distances well in excess of a wavelength,the urban envi-\nronment changes, as the user passes buildings of different heights, vacant lots, intersec-\ntions,and so forth.Over these longer distances,there is a change in the average received\npower level about which the rapid fluctuations occur.This is referred to as slow fading."
  },
  {
    "text": "Flat fading, or nonselec-\ntive fading,is that type of fading in which all frequency components of the received sig-\nnal fluctuate in the same proportions simultaneously.Selective fading affects unequally\nthe different spectral components of a radio signal.The term selective fading is usually\nsignificant only relative to the bandwidth of the overall communications channel."
  },
  {
    "text": "If\nattenuation occurs over a portion of the bandwidth of the signal, the fading is consid-\nered to be selective; nonselective fading implies that the signal bandwidth of interest is\nnarrower than, and completely covered by, the spectrum affected by the fading."
  },
  {
    "text": "Error Compensation Mechanisms The efforts to compensate for the errors\nand distortions introduced by multipath fading fall into three general categories:\nforward error correction, adaptive equalization, and diversity techniques. In the typ-\nical mobile wireless environment, techniques from all three categories are combined\nto combat the error rates encountered."
  },
  {
    "text": "Forward error correction is applicable in digital transmission applications:\nthose in which the transmitted signal carries digital data or digitized voice or video\ndata.Typically in mobile wireless applications, the ratio of total bits sent to data bits\nsent is between 2 and 3."
  },
  {
    "text": "This may seem an extravagant amount of overhead, in that\nthe capacity of the system is cut to one-half or one-third of its potential,but the mobile\nwireless environment is so difficult that such levels of redundancy are necessary. Chapter 6 discusses forward error correction."
  },
  {
    "text": "Adaptive equalization can be applied to transmissions that carry analog infor-\nmation (e.g., analog voice or video) or digital information (e.g., digital data, digitized\nvoice or video) and is used to combat intersymbol interference. The process of\nequalization involves some method of gathering the dispersed symbol energy back\ntogether into its original time interval."
  },
  {
    "text": "Equalization is a broad topic; techniques\n14.2 / FIRST-GENERATION ANALOG\ninclude the use of so-called lumped analog circuits as well as sophisticated digital\nsignal processing algorithms. Diversity is based on the fact that individual channels experience independent\nfading events."
  },
  {
    "text": "We can therefore compensate for error effects by providing multiple\nlogical channels in some sense between transmitter and receiver and sending part of\nthe signal over each channel."
  },
  {
    "text": "This technique does not eliminate errors but it does\nreduce the error rate, since we have spread the transmission out to avoid being sub-\njected to the highest error rate that might occur.The other techniques (equalization,\nforward error correction) can then cope with the reduced error rate. Some diversity techniques involve the physical transmission path and are\nreferred to as space diversity."
  },
  {
    "text": "For example, multiple nearby antennas may be used to\nreceive the message, with the signals combined in some fashion to reconstruct the\nmost likely transmitted signal. Another example is the use of collocated multiple\ndirectional antennas, each oriented to a different reception angle with the incoming\nsignals again combined to reconstitute the transmitted signal."
  },
  {
    "text": "More commonly, the term diversity refers to frequency diversity or time diver-\nsity techniques. With frequency diversity, the signal is spread out over a larger fre-\nquency bandwidth or carried on multiple frequency carriers. The most important\nexample of this approach is spread spectrum, which is examined in Chapter 9."
  },
  {
    "text": "14.2 FIRST-GENERATION ANALOG\nThe original cellular telephone networks provided analog traffic channels; these are\nnow referred to as first-generation systems. Since the early 1980s the most common\nfirst-generation system in North America has been the Advanced Mobile Phone\nService (AMPS) developed by AT&T."
  },
  {
    "text": "This approach is also common in South\nAmerica,Australia, and China.Although gradually being replaced by second-gener-\nation systems, AMPS is still in common use."
  },
  {
    "text": "In this section, we provide an overview\nSpectral Allocation\nIn North America, two 25-MHz bands are allocated to AMPS (Table 14.2), one for\ntransmission from the base station to the mobile unit (869–894 MHz), the other for\ntransmission from the mobile to the base station (824–849 MHz)."
  },
  {
    "text": "Each of these\nbands is split in two to encourage competition (i.e., so that in each market two oper-\nators can be accommodated).An operator is allocated only 12.5 MHz in each direc-\ntion for its system.The channels are spaced 30 kHz apart, which allows a total of 416\nchannels per operator.Twenty-one channels are allocated for control, leaving 395 to\ncarry calls.The control channels are data channels operating at 10 kbps.The conver-\nsation channels carry the conversations in analog using frequency modulation."
  },
  {
    "text": "Con-\ntrol information is also sent on the conversation channels in bursts as data. This\nnumber of channels is inadequate for most major markets, so some way must be\nfound either to use less bandwidth per conversation or to reuse frequencies. Both\napproaches have been taken in the various approaches to mobile telephony. For\nAMPS, frequency reuse is exploited."
  },
  {
    "text": "CHAPTER 14 / CELLULAR WIRELESS NETWORKS\nAMPS Parameters\nBase station transmission band\n869 to 894 MHz\nMobile unit transmission band\n824 to 849 MHz\nSpacing between forward and reverse channels\nChannel bandwidth\nNumber of full-duplex voice channels\nNumber of full-duplex control channels\nMobile unit maximum power\nCell size, radius\nModulation, voice channel\nFM, 12-kHz peak deviation\nModulation, control channel\nFSK, 8-kHz peak deviation\nData transmission rate\nError control coding\nBCH (48, 36,5) and (40, 28,5)\nEach AMPS-capable cellular telephone includes a numeric assignment module (NAM)\nin read-only memory.The NAM contains the telephone number of the phone, which is\nassigned by the service provider, and the serial number of the phone, which is assigned\nby the manufacturer."
  },
  {
    "text": "When the phone is turned on, it transmits its serial number and\nphone number to the MTSO (Figure 14.5); the MTSO maintains a database with infor-\nmation about mobile units that have been reported stolen and uses serial number to\nlock out stolen units. The MTSO uses the phone number for billing purposes."
  },
  {
    "text": "If the\nphone is used in a remote city,the service is still billed to the user’s local service provider. When a call is placed, the following sequence of events occurs [COUC01]:\n1. The subscriber initiates a call by keying in the telephone number of the called\nparty and presses the send key. 2."
  },
  {
    "text": "The MTSO verifies that the telephone number is valid and that the user is autho-\nrized to place the call; some service providers require the user to enter a PIN\n(personal identification number) as well as the called number to counter theft. 3. The MTSO issues a message to the user’s cell phone indicating which traffic\nchannels to use for sending and receiving. 4."
  },
  {
    "text": "The MTSO sends out a ringing signal to the called party.All of these operations\n(steps 2 through 4) occur within 10 s of initiating the call. 5. When the called party answers, the MTSO establishes a circuit between the two\nparties and initiates billing information. 6. When one party hangs up, the MTSO releases the circuit, frees the radio chan-\nnels, and completes the billing information."
  },
  {
    "text": "AMPS Control Channels\nEach AMPS service includes 21 full-duplex 30-kHz control channels, consisting of\n21 reverse control channels (RCCs) from subscriber to base station, and 21 forward\n14.3 / SECOND-GENERATION CDMA\nchannels from base station to subscriber. These channels transmit digital data using\nFSK. In both channels, data are transmitted in frames."
  },
  {
    "text": "Control information can be transmitted over a voice channel during a conver-\nsation. The mobile unit or the base station can insert a burst of data by turning off\nthe voice FM transmission for about 100 ms and replacing it with an FSK-encoded\nmessage. These messages are used to exchange urgent messages, such as change\npower level and handoff."
  },
  {
    "text": "14.3 SECOND-GENERATION CDMA\nThis section begins with an overview and then looks in detail at one type of second-\ngeneration cellular system. First- and Second-Generation Cellular Systems\nFirst-generation cellular networks, such as AMPS, quickly became highly popular,\nthreatening to swamp available capacity."
  },
  {
    "text": "Second-generation systems have been\ndeveloped to provide higher quality signals, higher data rates for support of digital\nservices, and greater capacity."
  },
  {
    "text": "[BLAC99b] lists the following as the key differences\nbetween the two generations:\n• Digital traffic channels: The most notable difference between the two \ngenerations is that first-generation systems are almost purely analog,\nwhereas second-generation systems are digital."
  },
  {
    "text": "In particular, the first-gen-\neration systems are designed to support voice channels using FM; digital\ntraffic is supported only by the use of a modem that converts the digital\ndata into analog form. Second-generation systems provide digital traffic\nchannels. These readily support digital data; voice traffic is first encoded in\ndigital form before transmitting."
  },
  {
    "text": "Of course, for second-generation systems,\nthe user traffic (data or digitized voice) must be converted to an analog \nsignal for transmission between the mobile unit and the base station (e.g.,\nsee Figure 5.15)."
  },
  {
    "text": "• Encryption: Because all of the user traffic, as well as control traffic, is digitized\nin second-generation systems, it is a relatively simple matter to encrypt all of\nthe traffic to prevent eavesdropping. All second-generation systems provide\nthis capability, whereas first-generation systems send user traffic in the clear,\nproviding no security."
  },
  {
    "text": "• Error detection and correction: The digital traffic stream of second-generation\nsystems also lends itself to the use of error detection and correction tech-\nniques, such as those discussed in Chapter 6.The result can be very clear voice\n• Channel access: In first-generation systems, each cell supports a number of\nchannels. At any given time a channel is allocated to only one user."
  },
  {
    "text": "Second-\ngeneration systems also provide multiple channels per cell, but each channel is\ndynamically shared by a number of users using time division multiple access\n(TDMA) or code division multiple access (CDMA).We look at CDMA-based\nsystems in this section."
  },
  {
    "text": "CDMA has a number of advantages for a cellular network:\n• Frequency diversity: Because the transmission is spread out over a larger\nbandwidth, frequency-dependent transmission impairments, such as noise\nbursts and selective fading, have less effect on the signal."
  },
  {
    "text": "• Multipath resistance: In addition to the ability of DS-SS to overcome multipath\nfading by frequency diversity, the chipping codes used for CDMA not only\nexhibit low cross correlation but also low autocorrelation.3 Therefore, a ver-\nsion of the signal that is delayed by more than one chip interval does not inter-\nfere with the dominant signal as much as in other multipath environments."
  },
  {
    "text": "• Privacy: Because spread spectrum is obtained by the use of noiselike signals,\nwhere each user has a unique code, privacy is inherent. • Graceful degradation: With FDMA or TDMA, a fixed number of users can\naccess the system simultaneously."
  },
  {
    "text": "However, with CDMA, as more users access\nthe system simultaneously,the noise level and hence the error rate increases;only\ngradually does the system degrade to the point of an unacceptable error rate."
  },
  {
    "text": "Two drawbacks of CDMA cellular should also be mentioned:\n• Self-jamming: Unless all of the mobile users are perfectly synchronized, the\narriving transmissions from multiple users will not be perfectly aligned on chip\nboundaries. Thus the spreading sequences of the different users are not\northogonal and there is some level of cross correlation."
  },
  {
    "text": "This is distinct from\neither TDMA or FDMA, in which for reasonable time or frequency guard-\nbands, respectively, the received signals are orthogonal or nearly so."
  },
  {
    "text": "• Near-far problem: Signals closer to the receiver are received with less attenuation\nthan signals farther away.Given the lack of complete orthogonality,the transmis-\nsions from the more remote mobile units may be more difficult to recover."
  },
  {
    "text": "Mobile Wireless CDMA Design Considerations\nBefore turning to the specific example of IS-95, it will be useful to consider some\ngeneral design elements of a CDMA cellular system."
  },
  {
    "text": "14.3 / SECOND-GENERATION CDMA\nRAKE Receiver In a multipath environment, which is common in cellular sys-\ntems, if the multiple versions of a signal arrive more than one chip interval apart\nfrom each other, the receiver can recover the signal by correlating the chip sequence\nwith the dominant incoming signal.The remaining signals are treated as noise."
  },
  {
    "text": "How-\never, even better performance can be achieved if the receiver attempts to recover\nthe signals from multiple paths and then combine them, with suitable delays. This\nprinciple is used in the RAKE receiver. Figure 14.9 illustrates the principle of the RAKE receiver. The original binary\nsignal to be transmitted is spread by the exclusive-OR (XOR) operation with\nthe transmitter’s chipping code."
  },
  {
    "text": "The spread sequence is then modulated for\ntransmission over the wireless channel. Because of multipath effects, the chan-\nnel generates multiple copies of the signal, each with a different amount of time\netc.), and each with a different attenuation factors (\nAt the receiver, the combined signal is demodulated."
  },
  {
    "text": "The demodulated chip\nstream is then fed into multiple correlators, each delayed by a different amount."
  },
  {
    "text": "These signals are then combined using weighting factors estimated from the\nDemodulator\nMultipath channel\nRAKE receiver\nFigure 14.9\nPrinciple of RAKE Receiver [PRAS98]\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nIS-95 Forward Link Channel Parameters\nTraffic Rate Set 1\nTraffic Rate Set 2\nData rate (bps)\nCode repetition\nModulation symbol\n19,200 19,200\n19,200 19,200\nPN chips/modulation\nPN chips/bit\nThe most widely used second-generation CDMA scheme is IS-95, which is primarily\ndeployed in North America.The transmission structures on the forward and reverse\nlinks differ and are described separately."
  },
  {
    "text": "IS-95 Forward Link\nTable 14.3 lists forward link channel parameters. The forward link consists of up\nto 64 logical CDMA channels each occupying the same 1228-kHz bandwidth\n(Figure 14.10a)."
  },
  {
    "text": "The forward link supports four types of channels:\nPilot channel\nPaging channel\nPaging channel\nTraffic channel 1\nTraffic channel 2\nTraffic channel 24\nSynchronization channel\nTraffic channel 25\nTraffic channel 55\n(a) Forward channels\nAccess channel\nAccess channel\nAccess channel\nTraffic channel\nTraffic channel\nTraffic channel\nTraffic channel\n(b) Reverse channels\nDistinct long code\nUser-specific long code\nFigure 14.10\nIS-95 Channel Structure\n14.3 / SECOND-GENERATION CDMA\n• Pilot (channel 0): A continuous signal on a single channel."
  },
  {
    "text": "This channel\nallows the mobile unit to acquire timing information, provides phase refer-\nence for the demodulation process, and provides a means for signal strength\ncomparison for the purpose of handoff determination. The pilot channel\nconsists of all zeros."
  },
  {
    "text": "• Synchronization (channel 32): A 1200-bps channel used by the mobile station\nto obtain identification information about the cellular system (system time,\nlong code state, protocol revision, etc.). • Paging (channels 1 to 7): Contain messages for one or more mobile stations. • Traffic (channels 8 to 31 and 33 to 63): The forward channel supports \n55 traffic channels."
  },
  {
    "text": "The original specification supported data rates of up \nto 9600 bps. A subsequent revision added a second set of rates up to \n14,400 bps. Note that all of these channels use the same bandwidth. The chipping code is\nused to distinguish among the different channels."
  },
  {
    "text": "For the forward channel, the chip-\nping codes are the 64 orthogonal 64-bit codes derived from a \nmatrix known\nas the Walsh matrix (discussed in [STAL05]). Figure 14.11 shows the processing steps for transmission on a forward traffic\nchannel using rate set 1."
  },
  {
    "text": "For voice traffic, the speech is encoded at a data rate of 8550\nbps.After additional bits are added for error detection, the rate is 9600 bps.The full\nchannel capacity is not used when the user is not speaking."
  },
  {
    "text": "During quiet periods the\ndata rate is lowered to as low as 1200 bps.The 2400-bps rate is used to transmit tran-\nsients in the background noise, and the 4800-bps rate is used to mix digitized speech\nand signaling data."
  },
  {
    "text": "The data or digitized speech is transmitted in 20-ms blocks with forward error\ncorrection provided by a convolutional encoder with rate 1/2, thus doubling the\neffective data rate to a maximum of 19.2 kbps. For lower data rates, the encoder\noutput bits (called code symbols) are replicated to yield the 19.2-kbps rate."
  },
  {
    "text": "The\ndata are then interleaved in blocks to reduce the effects of errors by spreading\nFollowing the interleaver, the data bits are scrambled.The purpose of this is to\nserve as a privacy mask and to prevent the sending of repetitive patterns, which in\nturn reduces the probability of users sending at peak power at the same time."
  },
  {
    "text": "The\nscrambling is accomplished by means of a long code that is generated as a pseudo-\nrandom number from a 42-bit-long shift register.The shift register is initialized with\nthe user’s electronic serial number.The output of the long code generator is at a rate\nof 1.2288 Mbps, which is 64 times the rate of 19.2 kbps, so only one bit in 64 is\nselected (by the decimator function)."
  },
  {
    "text": "The resulting stream is XORed with the out-\nput of the block interleaver. The next step in the processing inserts power control information in the traffic\nchannel, to control the power output of the antenna. The power control function of\nthe base station robs the traffic channel of bits at a rate of 800 bps."
  },
  {
    "text": "These are\ninserted by stealing code bits.The 800-bps channel carries information directing the\nmobile unit to increment, decrement, or keep stable its current output level. This\npower control stream is multiplexed into the 19.2 kbps by replacing some of the\ncode bits, using the long code generator to encode the bits."
  },
  {
    "text": "CHAPTER 14 / CELLULAR WIRELESS NETWORKS\nquality indica-\ntors for 9600 &\n4800 bps rates\nencoder tail\nConvolutional\n(n, k, K) \u0001 (2, 1, 9)\nLong code mask\nPower control\nbits 800 bps\nTransmitted\n1.2288 Mbps\n1.2288 Mbps\ninterleaver\nForward traffic channel\ninformation bits\n(172, 80, 40, or 16 b/frame)\nMultiplexor\nFigure 14.11\nIS-95 Forward Link Transmission\nThe next step in the process is the DS-SS function, which spreads the \n19.2 kbps to a rate of 1.2288 Mbps using one row of the \nWalsh matrix."
  },
  {
    "text": "One row of the matrix is assigned to a mobile station during call setup. If a 0 bit\nis presented to the XOR function, then the 64 bits of the assigned row are sent. If a 1 is presented, then the bitwise XOR of the row is sent. Thus, the final bit\nrate is 1.2288 Mbps. This digital bit stream is then modulated onto the carrier\nusing a QPSK modulation scheme."
  },
  {
    "text": "Recall from Chapter 5 that QPSK involves\ncreating two bit streams that are separately modulated (see Figure 5.11). In the IS-95 scheme, the data are split into I and Q (in-phase and quadrature)\nchannels and the data in each channel are XORed with a unique short code."
  },
  {
    "text": "The\nshort codes are generated as pseudorandom numbers from a 15-bit-long shift\n14.3 / SECOND-GENERATION CDMA\nIS-95 Reverse Link Channel Parameters\nTraffic-Rate Set 1\nTraffic-Rate Set 2\nData rate (bps)\nSymbol rate before \nrepetition (sps)\nSymbol repetition\nSymbol rate after\nrepetition (sps)\nTransmit duty cycle\nCode symbols/\nmodulation symbol\nmodulation symbol\nPN chips/bit\nIS-95 Reverse Link\nTable 14.4 lists reverse link channel parameters."
  },
  {
    "text": "The reverse link consists of up to\n94 logical CDMA channels each occupying the same 1228-kHz bandwidth (Figure\n14.10b). The reverse link supports up to 32 access channels and up to 62 traffic\nThe traffic channels in the reverse link are mobile unique."
  },
  {
    "text": "Each station has a\nunique long code mask based on its electronic serial number.The long code mask is\na 42-bit number, so there are \ndifferent masks.The access channel is used by\na mobile to initiate a call, to respond to a paging channel message from the base sta-\ntion, and for a location update."
  },
  {
    "text": "Figure 14.12 shows the processing steps for transmission on a reverse traffic\nchannel using rate set 1. The first few steps are the same as for the forward chan-\nnel. For the reverse channel, the convolutional encoder has a rate of 1/3, thus\ntripling the effective data rate to a maximum of 28.8 kbps.The data are then block\ninterleaved."
  },
  {
    "text": "The next step is a spreading of the data using the Walsh matrix. The way in\nwhich the matrix is used, and its purpose, are different from that of the forward\nchannel."
  },
  {
    "text": "In the reverse channel, the data coming out of the block interleaver are\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nquality indica-\ntors for 9600 &\n4800 bps rates\n(307.2 kcps)\n(Walsh chip)\nencoder tail\nConvolutional\n(n, k, K) \u0001 (3, 1, 9)\nTransmitted\n1.2288 Mbps\ninterleaver\nReverse traffic channel\ninformation bits\n(172, 80, 40, or 16 b/frame)\nFigure 14.12\nIS-95 Reverse Link Transmission\ninvolves using the long code mask to smooth the data out over each 20-ms\nThe next step in the process is the DS-SS function."
  },
  {
    "text": "In the case of the reverse\nchannel, the long code unique to the mobile is XORed with the output of the ran-\ndomizer to produce the 1.2288-Mbps final data stream.This digital bit stream is then\nmodulated onto the carrier using an offset QPSK modulation scheme."
  },
  {
    "text": "This differs\nfrom the forward channel in the use of a delay element in the modulator (Figure\n5.11) to produce orthogonality.The reason the modulators are different is that in the\nforward channel, the spreading codes are orthogonal, all coming from the Walsh\nmatrix, whereas in the reverse channel, orthogonality of the spreading codes is not\nguaranteed."
  },
  {
    "text": "14.4 / THIRD-GENERATION SYSTEMS\n14.4 THIRD-GENERATION SYSTEMS\nThe objective of the third generation (3G) of wireless communication is to provide\nfairly high-speed wireless communications to support multimedia, data, and video in\naddition to voice."
  },
  {
    "text": "The ITU’s International Mobile Telecommunications for the year\n2000 (IMT-2000) initiative has defined the ITU’s view of third-generation capabili-\n• Voice quality comparable to the public switched telephone network\n• 144-kbps data rate available to users in high-speed motor vehicles over large\n• 384 kbps available to pedestrians standing or moving slowly over small areas\n• Support (to be phased in) for 2.048 Mbps for office use\n• Symmetrical and asymmetrical data transmission rates\n• Support for both packet-switched and circuit-switched data services\n• An adaptive interface to the Internet to reflect efficiently the common asym-\nmetry between inbound and outbound traffic\n• More efficient use of the available spectrum in general\n• Support for a wide variety of mobile equipment\n• Flexibility to allow the introduction of new services and technologies\nMore generally, one of the driving forces of modern communication technology is\nthe trend toward universal personal telecommunications and universal communi-\ncations access."
  },
  {
    "text": "The first concept refers to the ability of a person to identify \nhimself or herself easily and use conveniently any communication system in an\nentire country, over a continent, or even globally, in terms of a single account.The\nsecond refers to the capability of using one’s terminal in a wide variety of envi-\nronments to connect to information services (e.g., to have a portable terminal\nthat will work in the office, on the street, and on airplanes equally well)."
  },
  {
    "text": "This \nrevolution in personal computing will obviously involve wireless communication\nin a fundamental way. Personal communications services (PCSs) and personal communication net-\nworks (PCNs) are names attached to these concepts of global wireless communica-\ntions, and they also form objectives for third-generation wireless."
  },
  {
    "text": "Generally, the technology planned is digital using time division multiple access\nor code division multiple access to provide efficient use of the spectrum and high\nPCS handsets are designed to be low power and relatively small and light."
  },
  {
    "text": "Efforts are being made internationally to allow the same terminals to be used\nAlternative Interfaces\nFigure 14.13 shows the alternative schemes that have been adopted as part of \nIMT-2000.The specification covers a set of radio interfaces for optimized performance\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nRadio interface\nDirect spread\nMulticarrier\nSingle carrier\nFrequency-time\nFigure 14.13\nIMT-2000 Terrestrial Radio Interfaces\nin different radio environments."
  },
  {
    "text": "A major reason for the inclusion of five alterna-\ntives was to enable a smooth evolution from existing first- and second-generation\nThe five alternatives reflect the evolution from the second generation.Two of\nthe specifications grow out of the work at the European Telecommunications Stan-\ndards Institute (ETSI) to develop a UMTS (universal mobile telecommunications\nsystem) as Europe’s 3G wireless standard."
  },
  {
    "text": "UMTS includes two standards. One of\nthese is known as wideband CDMA, or W-CDMA. This scheme fully exploits\nCDMA technology to provide high data rates with efficient use of bandwidth. Table 14.5 shows some of the key parameters of W-CDMA. The other European\neffort under UMTS is known as IMT-TC, or TD-CDMA.This approach is a combi-\nnation of W-CDMA and TDMA technology."
  },
  {
    "text": "IMT-TC is intended to provide an\nupgrade path for the TDMA-based GSM systems. Another CDMA-based system, known as cdma2000, has a North American\norigin. This scheme is similar to, but incompatible with, W-CDMA, in part because\nthe standards use different chip rates. Also, cdma2000 uses a technique known as\nmulticarrier, not used with W-CDMA."
  },
  {
    "text": "Two other interface specifications are shown in Figure 14.13. IMT-SC is pri-\nmarily designed for TDMA-only networks. IMT-FT can be used by both TDMA and\nFDMA carriers to provide some 3G services; it is an outgrowth of the Digital Euro-\npean Cordless Telecommunications (DECT) standard. CDMA Design Considerations\nThe dominant technology for 3G systems is CDMA."
  },
  {
    "text": "[OJAN98] lists the following:\n14.4 / THIRD-GENERATION SYSTEMS\nW-CDMA Parameters\nChannel bandwidth\nForward RF channel structure\nDirect spread\nFrame length\nNumber of slots/frame\nSpreading modulation\nBalanced QPSK (forward)\nDual channel QPSK (reverse)\nComplex spreading circuit\nData modulation\nQPSK (forward)\nBPSK (reverse)\nCoherent detection\nPilot symbols\nReverse channel multiplexing\nControl and pilot channel time multiplexed."
  },
  {
    "text": "I and Q multiplexing\nfor data and control channels\nVarious spreading and multicode\nSpreading factors\nPower control\nOpen and fast closed loop (1.6 kHz)\nSpreading (forward)\nVariable length orthogonal sequences for channel separation. Gold sequences \nfor cell and user separation. Spreading (reverse)\nSame as forward, different time shifts in I and Q channels."
  },
  {
    "text": "• Bandwidth: An important design goal for all 3G systems is to limit channel\nusage to 5 MHz. There are several reasons for this goal. On the one hand, a\nbandwidth of 5 MHz or more improves the receiver’s ability to resolve\nmultipath when compared to narrower bandwidths."
  },
  {
    "text": "On the other hand,\navailable spectrum is limited by competing needs, and 5 MHz is a reason-\nable upper limit on what can be allocated for 3G. Finally, 5 MHz is \nadequate for supporting data rates of 144 and 384 kHz, the main targets for\n3G services."
  },
  {
    "text": "• Chip rate: Given the bandwidth, the chip rate depends on desired data rate,\nthe need for error control, and bandwidth limitations.A chip rate of 3 Mcps or\nmore is reasonable given these design parameters."
  },
  {
    "text": "• Multirate: The term multirate refers to the provision of multiple fixed-data-\nrate logical channels to a given user, in which different data rates are pro-\nvided on different logical channels. Further, the traffic on each logical\nchannel can be switched independently through the wireless and fixed net-\nworks to different destinations."
  },
  {
    "text": "The advantage of multirate is that the sys-\ntem can flexibly support multiple simultaneous applications from a given\nuser and can efficiently use available capacity by only providing the capac-\nity required for each service. Multirate can be achieved with a TDMA\nscheme within a single CDMA channel, in which a different number of slots\nper frame are assigned to achieve different data rates."
  },
  {
    "text": "All the subchannels\nCHAPTER 14 / CELLULAR WIRELESS NETWORKS\nFigure 14.14\nTime and Code Multiplexing Principles [OJAN98]\n(a) Time multiplexing\n(b) Code multiplexing\ninterleaving\ninterleaving\ninterleaving\ninterleaving\ninterleaving\nat a given data rate would be protected by error correction and interleaving\ntechniques (Figure 14.14a)."
  },
  {
    "text": "[BLAC99b] is one of the best technical treatments of second-generation cellular\n[TANT98] contains reprints of numerous important papers dealing with CDMA in cel-\nlular networks. [DINA98] provides an overview of both PN and orthogonal spreading codes\nfor cellular CDMA networks. [OJAN98] provides an overview of key technical design considerations for 3G \nsystems. Another useful survey is [ZENG00]."
  },
  {
    "text": "“Spreading Codes for Direct Sequence CDMA and\nWideband CDMA Cellular Networks.” IEEE Communications Magazine, Septem-\nOjanpera,T., and Prasad, G.“An Overview of Air Interface Multiple Access for\nIMT-2000/UMTS.” IEEE Communications Magazine, September 1998. Prasad, R.; Mohr, W.; and Konhauser, W., eds. Third-Generation Mobile Com-\nmunication Systems. Boston:Artech House, 2000."
  },
  {
    "text": "Tantaratana, S, and Ahmed, K., eds. Wireless Applications of Spread Spectrum\nSystems: Selected Readings. Piscataway, NJ: IEEE Press, 1998. Zeng, M.; Annamalai, A.; and Bhargava, V. “Harmonization of Global Third-\ngeneration Mobile Systems. IEEE Communications Magazine, December 2000."
  },
  {
    "text": "What is the principle of frequency reuse in the context of a cellular network? List five ways of increasing the capacity of a cellular system. Explain the paging function of a cellular system. What is fading? What is the difference between diffraction and scattering? What is the difference between fast and slow fading? What is the difference between flat and selective fading?"
  },
  {
    "text": "What are the key differences between first- and second-generation cellular systems? What are the advantages of using CDMA for a cellular network? What are the disadvantages of using CDMA for a cellular network? What are some key characteristics that distinguish third-generation cellular systems\nfrom second-generation cellular systems?"
  },
  {
    "text": "Consider four different cellular systems that share the following characteristics. The\nfrequency bands are 825 to 845 MHz for mobile unit transmission and 870 to 890\nMHz for base station transmission.A duplex circuit consists of one 30-kHz channel in\neach direction.The systems are distinguished by the reuse factor, which is 4, 7, 12, and\n19, respectively."
  },
  {
    "text": "Suppose that in each of the systems, the cluster of cells (4, 7, 12, 19) is duplicated\n16 times. Find the number of simultaneous communications that can be supported\nby each system. b. Find the number of simultaneous communications that can be supported by a sin-\ngle cell in each system. What is the area covered, in cells, by each system? d."
  },
  {
    "text": "Suppose the cell size is the same in all four systems and a fixed area of 100 cells is\ncovered by each system. Find the number of simultaneous communications that\ncan be supported by each system. Describe a sequence of events similar to that of Figure 14.6 for\na call from a mobile unit to a fixed subscriber\nb."
  },
  {
    "text": "a call from a fixed subscriber to a mobile unit\nAn analog cellular system has a total of 33 MHz of bandwidth and uses two 25-kHz\nsimplex (one-way) channels to provide full duplex voice and control channels. What is the number of channels available per cell for a frequency reuse factor of\n(1) 4 cells, (2) 7 cells, and (3) 12 cells? b."
  },
  {
    "text": "Assume that 1 MHz is dedicated to control channels but that only one control\nchannel is needed per cell. Determine a reasonable distribution of control channels\nand voice channels in each cell for the three frequency reuse factors of part (a)."
  },
  {
    "text": "A cellular system uses FDMA with a spectrum allocation of 12.5 MHz in each direc-\ntion, a guard band at the edge of the allocated spectrum of 10 kHz, and a channel\nbandwidth of 30 kHz.What is the number of available channels? For a cellular system, FDMA spectral efficiency is defined as \nWhat is an upper bound on ha?"
  },
  {
    "text": "A\nset of Walsh codes of length n consists of the n rows of an \nWalsh matrix.That is,\nthere are n codes, each of length n.The matrix is defined recursively as follows:\nwhere n is the dimension of the matrix and the overscore denotes the logical NOT of\nthe bits in the matrix.The Walsh matrix has the property that every row is orthogonal\nto every other row and to the logical NOT of every other row."
  },
  {
    "text": "Show the Walsh matri-\nces of dimensions 2, 4, and 8. Demonstrate that the codes in an \nWalsh matrix are orthogonal to each other by\nshowing that multiplying any code by any other code produces a result of zero. Consider a CDMA system in which users A and B have the Walsh codes\nrespectively. Show the output at the receiver if A transmits a data bit 1 and B does not transmit. b."
  },
  {
    "text": "Show the output at the receiver if A transmits a data bit 0 and B does not transmit. Show the output at the receiver if A transmits a data bit 1 and B transmits a data\nbit 1.Assume the received power from both A and B is the same. d. Show the output at the receiver if A transmits a data bit 0 and B transmits a data\nbit 1.Assume the received power from both A and B is the same."
  },
  {
    "text": "Show the output at the receiver if A transmits a data bit 1 and B transmits a data\nbit 0.Assume the received power from both A and B is the same. Show the output at the receiver if A transmits a data bit 0 and B transmits a data\nbit 0.Assume the received power from both A and B is the same."
  },
  {
    "text": "Show the output at the receiver if A transmits a data bit 1 and B transmits a data\nbit 1.Assume the received power from B is twice the received power from A.This\ncan be represented by showing the received signal component from A as consist-\ning of elements of magnitude \nand the received signal component from\nB as consisting of elements of magnitude \nh."
  },
  {
    "text": "Show the output at the receiver if A transmits a data bit 0 and B transmits a data\nbit 1.Assume the received power from B is twice the received power from A. 1-1 -1 1 1 -1 -1 1 12,\n1-1 1 -1 1 -1 1 -1 12\nhe trend in local area networks (LANs) involves the use of shared trans-\nmission media or shared switching capacity to achieve high data rates\nover relatively short distances."
  },
  {
    "text": "Several key issues present themselves. One is the choice of transmission medium. Whereas coaxial cable was com-\nmonly used in traditional LANs, contemporary LAN installations emphasize\nthe use of twisted pair or optical fiber. In the case of twisted pair, efficient\nencoding schemes are needed to enable high data rates over the medium.Wire-\nless LANs have also assumed increased importance."
  },
  {
    "text": "Another design issue is\nthat of access control. Local Area Networks\nChapter 15 Local Area Network Overview\nThe essential technology underlying all forms of LANs comprises\ntopology, transmission medium, and medium access control technique. Chapter 15 examines the first two of these elements. Four topologies\nare in common use: bus, tree, ring, and star."
  },
  {
    "text": "The most common transmis-\nsion media for local networking are twisted pair (unshielded and\nshielded), coaxial cable (baseband and broadband), optical fiber, and\nwireless (microwave and infrared). These topologies and transmission\nmedia are discussed, with the exception of wireless, which is covered in\nChapter 17."
  },
  {
    "text": "The increasing deployment of LANs has led to an increased need\nto interconnect LANs with each other and with WANs. Chapter 15 also\ndiscusses a key device used in interconnecting LANs: the bridge."
  },
  {
    "text": "Chapter 16 High-Speed LANs\nChapter 16 looks in detail at the topologies, transmission media, and MAC\nprotocols of the most important LAN systems in current use; all of these\nhave been defined in standards documents.The most important of these is\nEthernet, which has been deployed in versions at 10 Mbps, 100 Mbps,\n1 Gbps, and 10 Gbps.Then the chapter looks at Fibre Channel."
  },
  {
    "text": "Chapter 17 Wireless LANs\nWireless LANs use one of three transmission techniques: spread spec-\ntrum, narrowband microwave, and infrared. Chapter 17 provides an\noverview wireless LAN technology and applications. The most significant\nset of standards defining wireless LANs are those defined by the IEEE\n802.11 committee. Chapter 17 examines this set of standards in depth."
  },
  {
    "text": "So complicated is the full story that the lay reader cannot see the\nwood for the trees. I have endeavored to render intelligible the broad effects. —The World Crisis, Winston Churchill\nA LAN consists of a shared transmission medium and a set of hard-\nware and software for interfacing devices to the medium and regulat-\ning the orderly access to the medium."
  },
  {
    "text": "The topologies that have been used for LANs are ring, bus, tree, and\nstar.A ring LAN consists of a closed loop of repeaters that allow data\nto circulate around the ring. A repeater may also function as a device\nattachment point.Transmission is generally in the form of frames.The\nbus and tree topologies are passive sections of cable to which stations\nare attached."
  },
  {
    "text": "A transmission of a frame by any one station can be\nheard by any other station. A star LAN includes a central node to\nwhich stations are attached. A set of standards has been defined for LANs that specifies a range of\ndata rates and encompasses a variety of topologies and transmission\nIn most cases, an organization will have multiple LANs that need to be\ninterconnected."
  },
  {
    "text": "The simplest approach to meeting this requirement is\nthe bridge. Hubs and switches form the basic building blocks of most LANs. We turn now to a discussion of local area networks (LANs). Whereas wide\narea networks may be public or private, LANs usually are owned by the orga-\nnization that is using the network to interconnect equipment."
  },
  {
    "text": "LANs have\nmuch greater capacity than wide area networks, to carry what is generally a\ngreater internal communications load. In this chapter we look at the underlying technology and protocol archi-\ntecture of LANs. Chapters 16 and 17 are devoted to a discussion of specific\nLAN systems."
  },
  {
    "text": "CHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n15.1 BACKGROUND\nThe variety of applications for LANs is wide.To provide some insight into the types\nof requirements that LANs are intended to meet, this section provides a brief dis-\ncussion of some of the most important general application areas for these networks. Personal Computer LANs\nA common LAN configuration is one that supports personal computers."
  },
  {
    "text": "With the\nrelatively low cost of such systems, individual managers within organizations often\nindependently procure personal computers for departmental applications, such as\nspreadsheet and project management tools, and Internet access. But a collection of department-level processors will not meet all of an orga-\nnization’s needs; central processing facilities are still required."
  },
  {
    "text": "Some programs,\nsuch as econometric forecasting models, are too big to run on a small computer. Corporate-wide data files, such as accounting and payroll, require a centralized\nfacility but should be accessible to a number of users. In addition, there are other\nkinds of files that, although specialized, must be shared by a number of users."
  },
  {
    "text": "Fur-\nther, there are sound reasons for connecting individual intelligent workstations\nnot only to a central facility but to each other as well. Members of a project or\norganization team need to share work and information. By far the most efficient\nway to do so is digitally. Certain expensive resources, such as a disk or a laser printer, can be shared by\nall users of the departmental LAN."
  },
  {
    "text": "In addition, the network can tie into larger cor-\nporate network facilities. For example, the corporation may have a building-wide\nLAN and a wide area private network. A communications server can provide con-\ntrolled access to these resources. LANs for the support of personal computers and workstations have become\nnearly universal in organizations of all sizes."
  },
  {
    "text": "Even those sites that still depend heav-\nily on the mainframe have transferred much of the processing load to networks of\npersonal computers. Perhaps the prime example of the way in which personal com-\nputers are being used is to implement client/server applications. For personal computer networks, a key requirement is low cost."
  },
  {
    "text": "In particular,\nthe cost of attachment to the network must be significantly less than the cost of the\nattached device.Thus, for the ordinary personal computer, an attachment cost in the\nhundreds of dollars is desirable. For more expensive, high-performance worksta-\ntions, higher attachment costs can be tolerated."
  },
  {
    "text": "Backend Networks and Storage Area Networks\nBackend networks are used to interconnect large systems such as mainframes,\nsupercomputers, and mass storage devices. The key requirement here is for bulk\ndata transfer among a limited number of devices in a small area."
  },
  {
    "text": "High reliability is\ngenerally also a requirement.Typical characteristics include the following:\n• High data rate: To satisfy the high-volume demand, data rates of 100 Mbps or\nmore are required."
  },
  {
    "text": "15.1 / BACKGROUND\n• High-speed interface: Data transfer operations between a large host system\nand a mass storage device are typically performed through high-speed parallel\nI/O interfaces, rather than slower communications interfaces. Thus, the physi-\ncal link between station and network must be high speed."
  },
  {
    "text": "• Distributed access: Some sort of distributed medium access control (MAC)\ntechnique is needed to enable a number of devices to share the transmission\nmedium with efficient and reliable access. • Limited distance: Typically, a backend network will be employed in a com-\nputer room or a small number of contiguous rooms."
  },
  {
    "text": "• Limited number of devices: The number of expensive mainframes and mass\nstorage devices found in the computer room generally numbers in the tens of\nTypically, backend networks are found at sites of large companies or research\ninstallations with large data processing budgets. Because of the scale involved, a\nsmall difference in productivity can translate into a sizable difference in cost."
  },
  {
    "text": "Consider a site that uses a dedicated mainframe computer.This implies a fairly\nlarge application or set of applications. As the load at the site grows, the existing\nmainframe may be replaced by a more powerful one, perhaps a multiprocessor sys-\ntem. At some sites, a single-system replacement will not be able to keep up; equip-\nment performance growth rates will be exceeded by demand growth rates."
  },
  {
    "text": "The\nfacility will eventually require multiple independent computers. Again, there are\ncompelling reasons for interconnecting these systems.The cost of system interrupt is\nhigh, so it should be possible, easily and quickly, to shift applications to backup sys-\ntems. It must be possible to test new procedures and applications without degrading\nthe production system."
  },
  {
    "text": "Large bulk storage files must be accessible from more than\none computer. Load leveling should be possible to maximize utilization and perfor-\nIt can be seen that some key requirements for backend networks differ from\nthose for personal computer LANs. High data rates are required to keep up with the\nwork, which typically involves the transfer of large blocks of data."
  },
  {
    "text": "The equipment\nfor achieving high speeds is expensive. Fortunately, given the much higher cost of\nthe attached devices, such costs are reasonable. A concept related to that of the backend network is the storage area network\n(SAN). A SAN is a separate network to handle storage needs."
  },
  {
    "text": "The SAN detaches\nstorage tasks from specific servers and creates a shared storage facility across a\nhigh-speed network. The collection of networked storage devices can include hard\ndisks, tape libraries, and CD arrays. Most SANs use Fibre Channel, which is\ndescribed in Chapter 16. Figure 15.1 contrasts the SAN with the traditional server-\nbased means of supporting shared storage."
  },
  {
    "text": "In a typical large LAN installation, a\nnumber of servers and perhaps mainframes each has its own dedicated storage\ndevices. If a client needs access to a particular storage device, it must go through\nthe server that controls that device. In a SAN, no server sits between the storage\ndevices and the network; instead, the storage devices and servers are linked\ndirectly to the network."
  },
  {
    "text": "The SAN arrangement improves client-to-storage access\nefficiency, as well as direct storage-to-storage communications for backup and\nreplication functions."
  },
  {
    "text": "CHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n(a) Server-based storage\nStorage devices\n(b) Storage area network\nStorage devices\nFigure 15.1\nThe Use of Storage Area Networks [HURW98]\n1A picture element, or pel, is the smallest discrete scanning-line sample of a facsimile system, which con-\ntains only black-white information (no gray scales)."
  },
  {
    "text": "A pixel is a picture element that contains gray-scale\ninformation. High-Speed Office Networks\nTraditionally, the office environment has included a variety of devices with low- to\nmedium-speed data transfer requirements. However, applications in today’s office\nenvironment would overwhelm the limited speeds (up to 10 Mbps) of traditional\nLAN."
  },
  {
    "text": "Desktop image processors have increased network data flow by an unprece-\ndented amount. Examples of these applications include fax machines, document\nimage processors, and graphics programs on personal computers and workstations."
  },
  {
    "text": "Consider that a typical page with 200 picture elements, or pels1 (black or white\npoints), per inch resolution (which is adequate but not high resolution) generates\n3,740,000 bits \ncompression techniques, this will generate a tremendous load."
  },
  {
    "text": "In addition, disk tech-\nnology and price/performance have evolved so that desktop storage capacities of\nmultiple gigabytes are common.These new demands require LANs with high speed\nthat can support the larger numbers and greater geographic extent of office systems\nas compared to backend systems."
  },
  {
    "text": "Backbone LANs\nThe increasing use of distributed processing applications and personal computers has\nled to a need for a flexible strategy for local networking."
  },
  {
    "text": "Support of premises-wide\ndata communications requires a networking service that is capable of spanning the dis-\ntances involved and that interconnects equipment in a single (perhaps large) building\n18.5 inches * 11 inches * 40,000 pels per square inch2. 15.2 / TOPOLOGIES AND TRANSMISSION MEDIA\nor a cluster of buildings."
  },
  {
    "text": "Although it is possible to develop a single LAN to intercon-\nnect all the data processing equipment of a premises, this is probably not a practical\nalternative in most cases.There are several drawbacks to a single-LAN strategy:\n• Reliability: With a single LAN, a service interruption, even of short duration,\ncould result in a major disruption for users."
  },
  {
    "text": "• Capacity: A single LAN could be saturated as the number of devices attached\nto the network grows over time. • Cost: A single LAN technology is not optimized for the diverse requirements\nof interconnection and communication.The presence of large numbers of low-\ncost microcomputers dictates that network support for these devices be pro-\nvided at low cost."
  },
  {
    "text": "LANs that support very-low-cost attachment will not be\nsuitable for meeting the overall requirement."
  },
  {
    "text": "A more attractive alternative is to employ lower-cost,lower-capacity LANs within\nbuildings or departments and to interconnect these networks with a higher-capacity\nLAN.This latter network is referred to as a backbone LAN.If confined to a single build-\ning or cluster of buildings, a high-capacity LAN can perform the backbone function."
  },
  {
    "text": "15.2 TOPOLOGIES AND TRANSMISSION MEDIA\nThe key elements of a LAN are\n• Transmission medium\n• Wiring layout\n• Medium access control\nTogether, these elements determine not only the cost and capacity of the LAN, but\nalso the type of data that may be transmitted, the speed and efficiency of communi-\ncations, and even the kinds of applications that can be supported."
  },
  {
    "text": "This section provides a survey of the major technologies in the first two of\nthese categories. It will be seen that there is an interdependence among the choices\nin different categories.Accordingly, a discussion of pros and cons relative to specific\napplications is best done by looking at preferred combinations."
  },
  {
    "text": "This, in turn, is best\ndone in the context of standards, which is a subject of a later section. In the context of a communication network, the term topology refers to the way in\nwhich the end points, or stations, attached to the network are interconnected. The\ncommon topologies for LANs are bus, tree, ring, and star (Figure 15.2)."
  },
  {
    "text": "The bus is a\nspecial case of the tree, with only one trunk and no branches. Bus and Tree Topologies Both bus and tree topologies are characterized by the\nuse of a multipoint medium. For the bus, all stations attach, through appropriate hard-\nware interfacing known as a tap, directly to a linear transmission medium, or bus."
  },
  {
    "text": "Full-\nduplex operation between the station and the tap allows data to be transmitted onto\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\nCentral hub, switch,\nor repeater\nTerminating\nFlow of data\nFigure 15.2\nLAN Topologies \n15.2 / TOPOLOGIES AND TRANSMISSION MEDIA\nthe bus and received from the bus."
  },
  {
    "text": "A transmission from any station propagates the\nlength of the medium in both directions and can be received by all other stations. At\neach end of the bus is a terminator,which absorbs any signal,removing it from the bus. The tree topology is a generalization of the bus topology. The transmission\nmedium is a branching cable with no closed loops."
  },
  {
    "text": "First, because a trans-\nmission from any one station can be received by all other stations, there needs to be\nsome way of indicating for whom the transmission is intended. Second, a mechanism\nis needed to regulate transmission.To see the reason for this, consider that if two sta-\ntions on the bus attempt to transmit at the same time, their signals will overlap and\nbecome garbled."
  },
  {
    "text": "Each station on the bus is\nassigned a unique address, or identifier, and the destination address for a frame is\nincluded in its header. Figure 15.3 illustrates the scheme. In this example, station C wishes to transmit\na frame of data to A. The frame header includes A’s address. As the frame propa-\ngates along the bus, it passes B."
  },
  {
    "text": "B observes the address and ignores the frame.A, on\nthe other hand, sees that the frame is addressed to itself and therefore copies the\ndata from the frame as it goes by. So the frame structure solves the first problem mentioned previously: It pro-\nvides a mechanism for indicating the intended recipient of data."
  },
  {
    "text": "It also provides the\nbasic tool for solving the second problem, the regulation of access. In particular, the\nstations take turns sending frames in some cooperative fashion. This involves\nputting additional control information into the frame header, as discussed later. With the bus or tree, no special action needs to be taken to remove frames\nfrom the medium."
  },
  {
    "text": "When a signal reaches the end of the medium, it is absorbed by\nthe terminator. Ring Topology In the ring topology, the network consists of a set of repeaters\njoined by point-to-point links in a closed loop. The repeater is a comparatively sim-\nple device, capable of receiving data on one link and transmitting them, bit by bit, on\nthe other link as fast as they are received."
  },
  {
    "text": "The links are unidirectional; that is, data\nare transmitted in one direction only, so that data circulate around the ring in one\ndirection (clockwise or counterclockwise). Each station attaches to the network at a repeater and can transmit data onto\nthe network through the repeater. As with the bus and tree, data are transmitted in\nframes."
  },
  {
    "text": "As a frame circulates past all the other stations, the destination station rec-\nognizes its address and copies the frame into a local buffer as it goes by. The frame\ncontinues to circulate until it returns to the source station, where it is removed\n(Figure 15.4). Because multiple stations share the ring, medium access control is\nneeded to determine at what time each station may insert frames."
  },
  {
    "text": "CHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\nC transmits frame addressed to A\nFrame is not addressed to B; B ignores it\nA copies frame as it goes by\nFigure 15.3\nFrame Transmission on a Bus LAN\nStar Topology In the star LAN topology, each station is directly connected to a\ncommon central node."
  },
  {
    "text": "Typically, each station attaches to a central node via two\npoint-to-point links, one for transmission and one for reception. In general, there are two alternatives for the operation of the central node. One approach is for the central node to operate in a broadcast fashion. A trans-\nmission of a frame from one station to the node is retransmitted on all of the out-\ngoing links."
  },
  {
    "text": "In this case, although the arrangement is physically a star, it is logically\na bus: A transmission from any station is received by all other stations, and only\none station at a time may successfully transmit. In this case, the central element is\nreferred to as a hub. Another approach is for the central node to act as a frame-\nswitching device."
  },
  {
    "text": "An incoming frame is buffered in the node and then retransmit-\nted on an outgoing link to the destination station. These approaches are explored\nin Section 15.5."
  },
  {
    "text": "15.2 / TOPOLOGIES AND TRANSMISSION MEDIA\n(a) C transmits frame\naddressed to A\n(b) Frame is not addressed\n      to B; B ignores it\n(c) A copies frame\n     as it goes by\n(d) C absorbs\nreturning frame\nFigure 15.4\nFrame Transmission on a Ring LAN\nChoice of Topology The choice of topology depends on a variety of factors,\nincluding reliability, expandability, and performance.This choice is part of the over-\nall task of designing a LAN and thus cannot be made in isolation, independent of\nthe choice of transmission medium, wiring layout, and access control technique."
  },
  {
    "text": "A\nfew general remarks can be made at this point.There are four alternative media that\ncan be used for a bus LAN:\n• Twisted pair: In the early days of LAN development, voice-grade twisted pair\nwas used to provide an inexpensive, easily installed bus LAN. A number of\nsystems operating at 1 Mbps were implemented."
  },
  {
    "text": "Scaling twisted pair up to\nhigher data rates in a shared-medium bus configuration is not practical, so this\napproach was dropped long ago. CHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n• Baseband coaxial cable: A baseband coaxial cable is one that makes use of digi-\ntal signaling.The original Ethernet scheme makes use of baseband coaxial cable."
  },
  {
    "text": "• Broadband coaxial cable: Broadband coaxial cable is the type of cable used in\ncable television systems. Analog signaling is used at radio and television fre-\nquencies. This type of system is more expensive and more difficult to install\nand maintain than baseband coaxial cable.This approach never achieved pop-\nularity and such LANs are no longer made."
  },
  {
    "text": "• Optical fiber: There has been considerable research relating to this alternative\nover the years, but the expense of the optical fiber taps and the availability of\nbetter alternatives have resulted in the demise of this option as well. Thus, for a bus topology, only baseband coaxial cable has achieved widespread\nuse, primarily for Ethernet systems."
  },
  {
    "text": "Compared to a star-topology twisted pair or\noptical fiber installation, the bus topology using baseband coaxial cable is difficult to\nwork with. Even simple changes may require access to the coaxial cable, movement\nof taps, and rerouting of cable segments. Accordingly, few if any new installations\nare being attempted."
  },
  {
    "text": "Despite its limitations, there is a considerable installed base of\nbaseband coaxial cable bus LANs. Very-high-speed links over considerable distances can be used for the ring\ntopology. Hence, the ring has the potential of providing the best throughput of any\ntopology. One disadvantage of the ring is that a single link or repeater failure could\ndisable the entire network."
  },
  {
    "text": "The star topology takes advantage of the natural layout of wiring in a building. It is generally best for short distances and can support a small number of devices at\nhigh data rates. Choice of Transmission Medium The choice of transmission medium is\ndetermined by a number of factors. It is, we shall see, constrained by the topology of\nthe LAN."
  },
  {
    "text": "Other factors come into play, including\n• Capacity: to support the expected network traffic\n• Reliability: to meet requirements for availability\n• Types of data supported: tailored to the application\n• Environmental scope: to provide service over the range of environments\nThe choice is part of the overall task of designing a local network, which is\naddressed in Chapter 16."
  },
  {
    "text": "Here we can make a few general observations. Voice-grade unshielded twisted pair (UTP) is an inexpensive, well-understood\nmedium; this is the Category 3 UTP referred to in Chapter 4.Typically, office build-\nings are wired to meet the anticipated telephone system demand plus a healthy mar-\ngin; thus, there are no cable installation costs in the use of Category 3 UTP."
  },
  {
    "text": "However, the data rate that can be supported is generally quite limited, with the\nexception of very small LAN. Category 3 UTP is likely to be the most cost-effective\nfor a single-building, low-traffic LAN installation. Shielded twisted pair and baseband coaxial cable are more expensive than\nCategory 3 UTP but provide greater capacity."
  },
  {
    "text": "Broadband cable is even more expen-\nsive but provides even greater capacity. However, in recent years, the trend has been\n15.3 / LAN PROTOCOL ARCHITECTURE\nChapter 16."
  },
  {
    "text": "Optical fiber has a number of attractive features, such as electromagnetic iso-\nlation, high capacity, and small size, which have attracted a great deal of interest.As\nyet the market penetration of fiber LANs is low; this is primarily due to the high\ncost of fiber components and the lack of skilled personnel to install and maintain\nfiber systems."
  },
  {
    "text": "This situation is beginning to change rapidly as more products using\nfiber are introduced. 15.3 LAN PROTOCOL ARCHITECTURE\nThe architecture of a LAN is best described in terms of a layering of protocols that\norganize the basic functions of a LAN."
  },
  {
    "text": "This section opens with a description of the\nstandardized protocol architecture for LANs, which encompasses physical, medium\naccess control (MAC), and logical link control (LLC) layers. The physical layer\nencompasses topology and transmission medium, and is covered in Section 15.2. This section provides an overview of the MAC and LLC layers."
  },
  {
    "text": "IEEE 802 Reference Model\nProtocols defined specifically for LAN and MAN transmission address issues relat-\ning to the transmission of blocks of data over the network."
  },
  {
    "text": "In OSI terms, higher\nlayer protocols (layer 3 or 4 and above) are independent of network architecture\nand are applicable to LANs, MANs, and WANs.Thus, a discussion of LAN protocols\nis concerned principally with lower layers of the OSI model. Figure 15.5 relates the LAN protocols to the OSI architecture (Figure 2.11)."
  },
  {
    "text": "This architecture was developed by the IEEE 802 LAN standards committee2 and\nhas been adopted by all organizations working on the specification of LAN stan-\ndards. It is generally referred to as the IEEE 802 reference model."
  },
  {
    "text": "Working from the bottom up,the lowest layer of the IEEE 802 reference model\ncorresponds to the physical layer of the OSI model and includes such functions as\n• Encoding/decoding of signals\n• Preamble generation/removal (for synchronization)\n• Bit transmission/reception\nIn addition, the physical layer of the 802 model includes a specification of the trans-\nmission medium and the topology."
  },
  {
    "text": "Generally, this is considered “below” the lowest\nlayer of the OSI model. However, the choice of transmission medium and topology\nis critical in LAN design, and so a specification of the medium is included."
  },
  {
    "text": "Above the physical layer are the functions associated with providing service to\nLAN users.These include\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n• On transmission, assemble data into a frame with address and error detection\n• On reception, disassemble frame, and perform address recognition and error\n• Govern access to the LAN transmission medium."
  },
  {
    "text": "• Provide an interface to higher layers and perform flow and error control. These are functions typically associated with OSI layer 2. The set of functions\nin the last bullet item are grouped into a logical link control (LLC) layer. The func-\ntions in the first three bullet items are treated as a separate layer, called medium\naccess control (MAC)."
  },
  {
    "text": "The separation is done for the following reasons:\n• The logic required to manage access to a shared-access medium is not found in\ntraditional layer 2 data link control. • For the same LLC, several MAC options may be provided. Figure 15.6 illustrates the relationship between the levels of the architecture\n(compare Figure 2.9)."
  },
  {
    "text": "Higher-level data are passed down to LLC, which appends\nOSI reference\nMedium access\nLogical link control\nLLC service\naccess point\nPresentation\nApplication\nFigure 15.5\nIEEE 802 Protocol Layers Compared to OSI Model\n15.3 / LAN PROTOCOL ARCHITECTURE\nTCP segment\nIP datagram\nLLC protocol data unit\nApplication data\nApplication layer\nFigure 15.6\nLAN Protocols in Context\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\ncontrol information as a header,creating an LLC protocol data unit (PDU).This con-\ntrol information is used in the operation of the LLC protocol."
  },
  {
    "text": "The entire LLC PDU\nis then passed down to the MAC layer, which appends control information at the\nfront and back of the packet, forming a MAC frame. Again, the control information\nin the frame is needed for the operation of the MAC protocol. For context, the figure\nalso shows the use of TCP/IP and an application layer above the LAN protocols."
  },
  {
    "text": "Logical Link Control\nThe LLC layer for LANs is similar in many respects to other link layers in common\nuse. Like all link layers, LLC is concerned with the transmission of a link-level PDU\nbetween two stations, without the necessity of an intermediate switching node. LLC\nhas two characteristics not shared by most other link control protocols:\n1."
  },
  {
    "text": "It must support the multiaccess, shared-medium nature of the link (this differs\nfrom a multidrop line in that there is no primary node). 2. It is relieved of some details of link access by the MAC layer. Addressing in LLC involves specifying the source and destination LLC users."
  },
  {
    "text": "Typically, a user is a higher-layer protocol or a network management function in the\nstation.These LLC user addresses are referred to as service access points (SAPs), in\nkeeping with OSI terminology for the user of a protocol layer. We look first at the services that LLC provides to a higher-level user, and then\nat the LLC protocol."
  },
  {
    "text": "LLC Services LLC specifies the mechanisms for addressing stations across the\nmedium and for controlling the exchange of data between two users. The operation\nand format of this standard is based on HDLC.Three services are provided as alter-\nnatives for attached devices using LLC:\n• Unacknowledged connectionless service: This service is a datagram-style ser-\nvice."
  },
  {
    "text": "It is a very simple service that does not involve any of the flow- and error-\ncontrol mechanisms. Thus, the delivery of data is not guaranteed. However, in\nmost devices, there will be some higher layer of software that deals with relia-\nbility issues. • Connection-mode service: This service is similar to that offered by HDLC."
  },
  {
    "text": "A\nlogical connection is set up between two users exchanging data, and flow con-\ntrol and error control are provided. • Acknowledged connectionless service: This is a cross between the previous\ntwo services. It provides that datagrams are to be acknowledged, but no prior\nlogical connection is set up."
  },
  {
    "text": "Typically, a vendor will provide these services as options that the customer can\nselect when purchasing the equipment. Alternatively, the customer can purchase\nequipment that provides two or all three services and select a specific service based\non application. The unacknowledged connectionless service requires minimum logic and is\nuseful in two contexts."
  },
  {
    "text": "First, it will often be the case that higher layers of software\nwill provide the necessary reliability and flow-control mechanism, and it is efficient\n15.3 / LAN PROTOCOL ARCHITECTURE\nto avoid duplicating them. For example, TCP could provide the mechanisms\nneeded to ensure that data is delivered reliably."
  },
  {
    "text": "Second, there are instances in\nwhich the overhead of connection establishment and maintenance is unjustified or\neven counterproductive (for example, data collection activities that involve the\nperiodic sampling of data sources, such as sensors and automatic self-test reports\nfrom security equipment or network components)."
  },
  {
    "text": "In a monitoring application, the\nloss of an occasional data unit would not cause distress, as the next report should\narrive shortly. Thus, in most cases, the unacknowledged connectionless service is\nthe preferred option. The connection-mode service could be used in very simple devices, such as ter-\nminal controllers, that have little software operating above this level."
  },
  {
    "text": "In these cases,\nit would provide the flow control and reliability mechanisms normally implemented\nat higher layers of the communications software. The acknowledged connectionless service is useful in several contexts.With the\nconnection-mode service, the logical link control software must maintain some sort\nof table for each active connection, to keep track of the status of that connection."
  },
  {
    "text": "If\nthe user needs guaranteed delivery but there are a large number of destinations for\ndata,then the connection-mode service may be impractical because of the large num-\nber of tables required. An example is a process control or automated factory envi-\nronment where a central site may need to communicate with a large number of\nprocessors and programmable controllers."
  },
  {
    "text": "Another use of this is the handling of\nimportant and time-critical alarm or emergency control signals in a factory."
  },
  {
    "text": "Because\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\naddress fields\nI/G \u0001 Individual/Group\nC/R \u0001 Command/Response\nDestination\nMAC address\nMAC address\nLLC control\nInformation\nFigure 15.7\nLLC PDU in a Generic MAC Frame Format\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\nRound Robin With round robin, each station in turn is given the opportunity to\ntransmit."
  },
  {
    "text": "During that opportunity, the station may decline to transmit or may transmit\nsubject to a specified upper bound, usually expressed as a maximum amount of data\ntransmitted or time for this opportunity. In any case, the station, when it is finished,\nrelinquishes its turn, and the right to transmit passes to the next station in logical\nsequence. Control of sequence may be centralized or distributed."
  },
  {
    "text": "Polling is an exam-\nple of a centralized technique. When many stations have data to transmit over an extended period of time,\nround-robin techniques can be very efficient."
  },
  {
    "text": "If only a few stations have data to\ntransmit over an extended period of time, then there is a considerable overhead in\npassing the turn from station to station, because most of the stations will not trans-\nmit but simply pass their turns. Under such circumstances other techniques may be\npreferable, largely depending on whether the data traffic has a stream or bursty\ncharacteristic."
  },
  {
    "text": "Stream traffic is characterized by lengthy and fairly continuous trans-\nmissions; examples are voice communication, telemetry, and bulk file transfer. Bursty traffic is characterized by short, sporadic transmissions; interactive terminal-\nhost traffic fits this description. Reservation For stream traffic, reservation techniques are well suited."
  },
  {
    "text": "In general,\nfor these techniques, time on the medium is divided into slots, much as with syn-\nchronous TDM. A station wishing to transmit reserves future slots for an extended\nor even an indefinite period. Again, reservations may be made in a centralized or\ndistributed fashion."
  },
  {
    "text": "Contention For bursty traffic, contention techniques are usually appropriate.With\nthese techniques, no control is exercised to determine whose turn it is; all stations\ncontend for time in a way that can be, as we shall see, rather rough and tumble.These\ntechniques are of necessity distributed in nature."
  },
  {
    "text": "Their principal advantage is that\nthey are simple to implement and, under light to moderate load, efficient. For some\nof these techniques, however, performance tends to collapse under heavy load. Although both centralized and distributed reservation techniques have been\nimplemented in some LAN products, round-robin and contention techniques are\nthe most common."
  },
  {
    "text": "MAC Frame Format The MAC layer receives a block of data from the LLC\nlayer and is responsible for performing functions related to medium access and for\ntransmitting the data. As with other protocol layers, MAC implements these func-\ntions making use of a protocol data unit at its layer. In this case, the PDU is referred\nto as a MAC frame."
  },
  {
    "text": "The exact format of the MAC frame differs somewhat for the various MAC\nprotocols in use. In general, all of the MAC frames have a format similar to that of\nFigure 15.7.The fields of this frame are\n• MAC Control: This field contains any protocol control information needed for\nthe functioning of the MAC protocol. For example, a priority level could be\nindicated here."
  },
  {
    "text": "• Destination MAC Address: The destination physical attachment point on the\nLAN for this frame. 15.4 / BRIDGES\n• Source MAC Address: The source physical attachment point on the LAN for\nthis frame. • LLC: The LLC data from the next higher layer. • CRC: The Cyclic Redundancy Check field (also known as the frame check\nsequence, FCS, field)."
  },
  {
    "text": "This is an error-detecting code, as we have seen in\nHDLC and other data link control protocols (Chapter 7). In most data link control protocols, the data link protocol entity is responsible\nnot only for detecting errors using the CRC, but for recovering from those errors by\nretransmitting damaged frames."
  },
  {
    "text": "In the LAN protocol architecture, these two func-\ntions are split between the MAC and LLC layers. The MAC layer is responsible for\ndetecting errors and discarding any frames that are in error. The LLC layer option-\nally keeps track of which frames have been successfully received and retransmits\nunsuccessful frames."
  },
  {
    "text": "15.4 BRIDGES\nIn virtually all cases, there is a need to expand beyond the confines of a single LAN,\nto provide interconnection to other LANs and to wide area networks. Two general\napproaches are used for this purpose: bridges and routers.The bridge is the simpler\nof the two devices and provides a means of interconnecting similar LANs."
  },
  {
    "text": "The\nrouter is a more general-purpose device, capable of interconnecting a variety of\nLANs and WANs. We explore bridges in this section and look at routers in Part\nThe bridge is designed for use between local area networks (LANs) that use\nidentical protocols for the physical and link layers (e.g., all conforming to IEEE\n802.3)."
  },
  {
    "text": "Because the devices all use the same protocols, the amount of processing\nrequired at the bridge is minimal. More sophisticated bridges are capable of map-\nping from one MAC format to another (e.g., to interconnect an Ethernet and a\ntoken ring LAN). Because the bridge is used in a situation in which all the LANs have the same\ncharacteristics, the reader may ask, why not simply have one large LAN?"
  },
  {
    "text": "Depend-\ning on circumstance, there are several reasons for the use of multiple LANs con-\nnected by bridges:\n• Reliability: The danger in connecting all data processing devices in an organi-\nzation to one network is that a fault on the network may disable communica-\ntion for all devices. By using bridges, the network can be partitioned into\nself-contained units."
  },
  {
    "text": "• Performance: In general, performance on a LAN declines with an increase in\nthe number of devices or the length of the wire. A number of smaller LANs\nwill often give improved performance if devices can be clustered so that\nintranetwork traffic significantly exceeds internetwork traffic. • Security: The establishment of multiple LANs may improve security of com-\nmunications."
  },
  {
    "text": "It is desirable to keep different types of traffic (e.g., accounting,\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\npersonnel, strategic planning) that have different security needs on physically\nseparate media. At the same time, the different types of users with different\nlevels of security need to communicate through controlled and monitored\nmechanisms."
  },
  {
    "text": "• Geography: Clearly, two separate LANs are needed to support devices clus-\ntered in two geographically distant locations. Even in the case of two buildings\nseparated by a highway, it may be far easier to use a microwave bridge link\nthan to attempt to string coaxial cable between the two buildings."
  },
  {
    "text": "Functions of a Bridge\nFigure 15.8 illustrates the action of a bridge connecting two LANs, A and B, using\nthe same MAC protocol. In this example, a single bridge attaches to both LANs; fre-\nquently, the bridge function is performed by two “half-bridges,” one on each LAN."
  },
  {
    "text": "The functions of the bridge are few and simple:\n• Read all frames transmitted on A and accept those addressed to any station on B. • Using the medium access control protocol for B, retransmit each frame on B. • Do the same for B-to-A traffic."
  },
  {
    "text": "Several design aspects of a bridge are worth highlighting:\n• The bridge makes no modification to the content or format of the frames it\nreceives, nor does it encapsulate them with an additional header. Each frame\nto be transferred is simply copied from one LAN and repeated with exactly\nthe same bit pattern on the other LAN."
  },
  {
    "text": "Because the two LANs use the same\nLAN protocols, it is permissible to do this. • The bridge should contain enough buffer space to meet peak demands. Over a\nshort period of time, frames may arrive faster than they can be retransmitted. • The bridge must contain addressing and routing intelligence. At a minimum,\nthe bridge must know which addresses are on each network to know which\nframes to pass."
  },
  {
    "text": "Further, there may be more than two LANs interconnected by\na number of bridges. In that case, a frame may have to be routed through sev-\neral bridges in its journey from source to destination. • A bridge may connect more than two LANs. In summary, the bridge provides an extension to the LAN that requires no\nmodification to the communications software in the stations attached to the LANs."
  },
  {
    "text": "It appears to all stations on the two (or more) LANs that there is a single LAN on\nwhich each station has a unique address. The station uses that unique address and\nneed not explicitly discriminate between stations on the same LAN and stations on\nother LANs; the bridge takes care of that. Bridge Protocol Architecture\nThe IEEE 802.1D specification defines the protocol architecture for MAC bridges."
  },
  {
    "text": "Within the 802 architecture, the endpoint or station address is designated at the\n15.4 / BRIDGES\nFrames with\naddresses 11 through\n20 are accepted and\nrepeated on LAN B\nFrames with\naddresses 1 through\n10 are accepted and\nrepeated on LAN A\nFigure 15.8\nBridge Operation\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n(a) Architecture\n(b) Operation\nMAC-H LLC-H\nt3, t4, t5, t6\nFigure 15.9\nConnection of Two LANs by a Bridge\nMAC level.Thus, it is at the MAC level that a bridge can function."
  },
  {
    "text": "Figure 15.9 shows\nthe simplest case, which consists of two LANs connected by a single bridge. The\nLANs employ the same MAC and LLC protocols.The bridge operates as previously\ndescribed."
  },
  {
    "text": "A MAC frame whose destination is not on the immediate LAN is cap-\ntured by the bridge, buffered briefly, and then transmitted on the other LAN.As far\nas the LLC layer is concerned, there is a dialogue between peer LLC entities in the\ntwo endpoint stations. The bridge need not contain an LLC layer because it is\nmerely serving to relay the MAC frames."
  },
  {
    "text": "Figure 15.9b indicates the way in which data are encapsulated using a bridge. Data are provided by some user to LLC. The LLC entity appends a header and\npasses the resulting data unit to the MAC entity, which appends a header and a\ntrailer to form a MAC frame."
  },
  {
    "text": "On the basis of the destination MAC address in the\nframe, it is captured by the bridge.The bridge does not strip off the MAC fields; its\nfunction is to relay the MAC frame intact to the destination LAN. Thus, the frame\nis deposited on the destination LAN and captured by the destination station."
  },
  {
    "text": "The concept of a MAC relay bridge is not limited to the use of a single bridge\nto connect two nearby LANs. If the LANs are some distance apart, then they can be\nconnected by two bridges that are in turn connected by a communications facility. The intervening communications facility can be a network, such as a wide area\npacket-switching network, or a point-to-point link."
  },
  {
    "text": "In such cases, when a bridge cap-\ntures a MAC frame, it must encapsulate the frame in the appropriate packaging and\ntransmit it over the communications facility to a target bridge. The target bridge\nstrips off these extra fields and transmits the original, unmodified MAC frame to the\ndestination station."
  },
  {
    "text": "Fixed Routing\nThere is a trend within many organizations to an increasing number of LANs inter-\nconnected by bridges. As the number of LANs grows, it becomes important to\n15.4 / BRIDGES\nFigure 15.10\nConfiguration of Bridges and LANs, with Alternate Routes\nprovide alternate paths between LANs via bridges for load balancing and recon-\nfiguration in response to failure."
  },
  {
    "text": "Thus, many organizations will find that static, pre-\nconfigured routing tables are inadequate and that some sort of dynamic routing is\nConsider the configuration of Figure 15.10. Suppose that station 1 transmits a\nframe on LAN A intended for station 6.The frame will be read by bridges 101, 102,\nand 107."
  },
  {
    "text": "For each bridge, the addressed station is not on a LAN to which the bridge\nis attached.Therefore, each bridge must make a decision whether or not to retrans-\nmit the frame on its other LAN, in order to move it closer to its intended destina-\ntion. In this case, bridge 102 should repeat the frame on LAN C, whereas bridges\n101 and 107 should refrain from retransmitting the frame."
  },
  {
    "text": "Once the frame has been\ntransmitted on LAN C, it will be picked up by both bridges 105 and 106. Again,\neach must decide whether or not to forward the frame."
  },
  {
    "text": "In this case, bridge 105\nshould retransmit the frame on LAN F, where it will be received by the destination,\nThus we see that, in the general case, the bridge must be equipped with a\nrouting capability.When a bridge receives a frame, it must decide whether or not to\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\nforward it."
  },
  {
    "text": "If the bridge is attached to two or more networks, then it must decide\nwhether or not to forward the frame and, if so, on which LAN the frame should be\ntransmitted. The routing decision may not always be a simple one. Figure 15.10 also shows\nthat there are two routes between LAN A and LAN E."
  },
  {
    "text": "Such redundancy provides\nfor higher overall Internet availability and creates the possibility for load balanc-\ning. In this case, if station 1 transmits a frame on LAN A intended for station 5 on\nLAN E, then either bridge 101 or bridge 107 could forward the frame."
  },
  {
    "text": "It would\nappear preferable for bridge 107 to forward the frame, since it will involve only one\nhop, whereas if the frame travels through bridge 101, it must suffer two hops. Another consideration is that there may be changes in the configuration. For exam-\nple, bridge 107 may fail, in which case subsequent frames from station 1 to station 5\nshould go through bridge 101."
  },
  {
    "text": "So we can say that the routing capability must take\ninto account the topology of the internet configuration and may need to be dynam-\nically altered. A variety of routing strategies have been proposed and implemented in recent\nyears. The simplest and most common strategy is fixed routing. This strategy is suit-\nable for small internets and for internets that are relatively stable."
  },
  {
    "text": "In addition, two\ngroups within the IEEE 802 committee have developed specifications for routing\nstrategies.The IEEE 802.1 group has issued a standard for routing based on the use\nof a spanning tree algorithm. The token ring committee, IEEE 802.5, has issued its\nown specification, referred to as source routing."
  },
  {
    "text": "In the remainder of this section, we\nlook at fixed routing and the spanning tree algorithm, which is the most commonly\nused bridge routing algorithm. For fixed routing, a route is selected for each source-destination pair of LANs\nin the configuration. If alternate routes are available between two LANs, then typi-\ncally the route with the least number of hops is selected."
  },
  {
    "text": "The routes are fixed, or at\nleast only change when there is a change in the topology of the internet. The strategy for developing a fixed routing configuration for bridges is similar\nto that employed in a packet-switching network (Figure 12.2). A central routing\nmatrix is created, to be stored perhaps at a network control center."
  },
  {
    "text": "The matrix\nshows, for each source-destination pair of LANs, the identity of the first bridge on\nthe route. So, for example, the route from LAN E to LAN F begins by going through\nbridge 107 to LAN A. Again consulting the matrix, the route from LAN A to LAN\nF goes through bridge 102 to LAN C. Finally, the route from LAN C to LAN F is\ndirectly through bridge 105."
  },
  {
    "text": "Thus the complete route from LAN E to LAN F is\nbridge 107, LAN A, bridge 102, LAN C, bridge 105. From this overall matrix, routing tables can be developed and stored at each\nbridge. Each bridge needs one table for each LAN to which it attaches. The infor-\nmation for each table is derived from a single row of the matrix."
  },
  {
    "text": "For example, bridge\n105 has two tables, one for frames arriving from LAN C and one for frames arriving\nfrom LAN F.The table shows, for each possible destination MAC address, the iden-\ntity of the LAN to which the bridge should forward the frame. Once the directories have been established, routing is a simple matter. A\nbridge copies each incoming frame on each of its LANs."
  },
  {
    "text": "If the destination MAC\naddress corresponds to an entry in its routing table, the frame is retransmitted on\nthe appropriate LAN. 15.4 / BRIDGES\nThe fixed routing strategy is widely used in commercially available products. It\nrequires that a network manager manually load the data into the routing tables. It\nhas the advantage of simplicity and minimal processing requirements."
  },
  {
    "text": "However, in a\ncomplex internet, in which bridges may be dynamically added and in which failures\nmust be allowed for, this strategy is too limited. The Spanning Tree Approach\nThe spanning tree approach is a mechanism in which bridges automatically develop\na routing table and update that table in response to changing topology."
  },
  {
    "text": "The algo-\nrithm consists of three mechanisms: frame forwarding, address learning, and loop\nresolution. Frame Forwarding In this scheme, a bridge maintains a forwarding database for\neach port attached to a LAN.The database indicates the station addresses for which\nframes should be forwarded through that port.We can interpret this in the following\nfashion."
  },
  {
    "text": "For each port, a list of stations is maintained.A station is on the list if it is on\nthe “same side” of the bridge as the port. For example, for bridge 102 of Figure\n15.10, stations on LANs C, F, and G are on the same side of the bridge as the LAN\nC port, and stations on LANs A, B, D, and E are on the same side of the bridge as\nthe LAN A port."
  },
  {
    "text": "When a frame is received on any port, the bridge must decide\nwhether that frame is to be forwarded through the bridge and out through one of\nthe bridge’s other ports. Suppose that a bridge receives a MAC frame on port x. The\nfollowing rules are applied:\n1. Search the forwarding database to determine if the MAC address is listed for\nany port except port x. 2."
  },
  {
    "text": "If the destination MAC address is not found, forward frame out all ports except\nthe one from which is was received.This is part of the learning process described\nsubsequently. 3. If the destination address is in the forwarding database for some port y, then\ndetermine whether port y is in a blocking or forwarding state."
  },
  {
    "text": "For reasons\nexplained later, a port may sometimes be blocked, which prevents it from receiv-\ning or transmitting frames. 4. If port y is not blocked, transmit the frame through port y onto the LAN to\nwhich that port attaches."
  },
  {
    "text": "Address Learning The preceding scheme assumes that the bridge is already\nequipped with a forwarding database that indicates the direction, from the bridge, of\neach destination station. This information can be preloaded into the bridge, as in\nfixed routing."
  },
  {
    "text": "However, an effective automatic mechanism for learning the direction\nof each station is desirable.A simple scheme for acquiring this information is based\non the use of the source address field in each MAC frame. The strategy is this. When a frame arrives on a particular port, it clearly has\ncome from the direction of the incoming LAN."
  },
  {
    "text": "The source address field of the\nframe indicates the source station. Thus, a bridge can update its forwarding data-\nbase for that port on the basis of the source address field of each incoming frame. To allow for changes in topology, each element in the database is equipped with a\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\ntimer. When a new element is added to the database, its timer is set."
  },
  {
    "text": "If the timer\nexpires, then the element is eliminated from the database, since the correspond-\ning direction information may no longer be valid. Each time a frame is received,\nits source address is checked against the database. If the element is already in the\ndatabase, the entry is updated (the direction may have changed) and the timer is\nreset."
  },
  {
    "text": "If the element is not in the database, a new entry is created, with its own\nSpanning Tree Algorithm The address learning mechanism described previ-\nously is effective if the topology of the internet is a tree; that is, if there are no alter-\nnate routes in the network. The existence of alternate routes means that there is a\nclosed loop."
  },
  {
    "text": "For example in Figure 15.10, the following is a closed loop: LAN A,\nbridge 101, LAN B, bridge 104, LAN E, bridge 107, LAN A. To see the problem created by a closed loop, consider Figure 15.11.At time \nstation A transmits a frame addressed to station B. The frame is captured by both\nbridges."
  },
  {
    "text": "Each bridge updates its database to indicate that station A is in the direc-\ntion of LAN X, and retransmits the frame on LAN Y. Say that bridge \nretransmits\na short time later \nThus B will receive two copies of the\nframe. Furthermore, each bridge will receive the other’s transmission on LAN Y."
  },
  {
    "text": "Note that each transmission is a frame with a source address of A and a destination\naddress of B.Thus each bridge will update its database to indicate that station A is in\nFigure 15.11\nLoop of Bridges\n15.5 / LAYER 2 AND LAYER 3 SWITCHES\nthe direction of LAN Y. Neither bridge is now capable of forwarding a frame\naddressed to station A."
  },
  {
    "text": "To overcome this problem, a simple result from graph theory is used: For any\nconnected graph, consisting of nodes and edges connecting pairs of nodes, there is a\nspanning tree of edges that maintains the connectivity of the graph but contains no\nclosed loops. In terms of internets, each LAN corresponds to a graph node, and each\nbridge corresponds to a graph edge."
  },
  {
    "text": "Thus, in Figure 15.10, the removal of one (and\nonly one) of bridges 107, 101, and 104, results in a spanning tree.What is desired is to\ndevelop a simple algorithm by which the bridges of the internet can exchange suffi-\ncient information to automatically (without user intervention) derive a spanning\ntree. The algorithm must be dynamic."
  },
  {
    "text": "That is, when a topology change occurs, the\nbridges must be able to discover this fact and automatically derive a new spanning\nThe spanning tree algorithm developed by IEEE 802.1, as the name sug-\ngests, is able to develop such a spanning tree. All that is required is that each\nbridge be assigned a unique identifier and that costs be assigned to each bridge\nport."
  },
  {
    "text": "In the absence of any special considerations, all costs could be set equal; this\nproduces a minimum-hop tree. The algorithm involves a brief exchange of mes-\nsages among all of the bridges to discover the minimum-cost spanning tree. Whenever there is a change in topology, the bridges automatically recalculate the\nspanning tree."
  },
  {
    "text": "15.5 LAYER 2 AND LAYER 3 SWITCHES\nIn recent years, there has been a proliferation of types of devices for interconnecting\nLANs that goes beyond the bridges discussed in Section 15.4 and the routers dis-\ncussed in Part Five. These devices can conveniently be grouped into the categories\nof layer 2 switches and layer 3 switches.We begin with a discussion of hubs and then\nexplore these two concepts."
  },
  {
    "text": "Earlier, we used the term hub in reference to a star-topology LAN. The hub is the\nactive central element of the star layout. Each station is connected to the hub by two\nlines (transmit and receive).The hub acts as a repeater:When a single station trans-\nmits, the hub repeats the signal on the outgoing line to each station. Ordinarily, the\nline consists of two unshielded twisted pairs."
  },
  {
    "text": "Because of the high data rate and the\npoor transmission qualities of unshielded twisted pair, the length of a line is limited\nto about 100 m.As an alternative, an optical fiber link may be used. In this case, the\nmaximum length is about 500 m."
  },
  {
    "text": "Note that although this scheme is physically a star, it is logically a bus:A trans-\nmission from any one station is received by all other stations, and if two stations\ntransmit at the same time there will be a collision. Multiple levels of hubs can be cascaded in a hierarchical configuration. Figure 15.12 illustrates a two-level configuration."
  },
  {
    "text": "There is one header hub\n(HHUB) and one or more intermediate hubs (IHUB). Each hub may have a\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n(twisted pair or\noptical fiber)\nFigure 15.12\nTwo-Level Star Topology\nmixture of stations and other hubs attached to it from below."
  },
  {
    "text": "This layout fits well\nwith building wiring practices.Typically, there is a wiring closet on each floor of an\noffice building, and a hub can be placed in each one. Each hub could service the\nstations on its floor."
  },
  {
    "text": "Layer 2 Switches\nIn recent years, a new device, the layer 2 switch, has replaced the hub in popularity,\nparticularly for high-speed LANs.The layer 2 switch is also sometimes referred to as\na switching hub."
  },
  {
    "text": "To clarify the distinction between hubs and switches, Figure 15.13a shows a\ntypical bus layout of a traditional 10-Mbps LAN.A bus is installed that is laid out so\nthat all the devices to be attached are in reasonable proximity to a point on the bus."
  },
  {
    "text": "In the figure, station B is transmitting.This transmission goes from B, across the lead\nfrom B to the bus, along the bus in both directions, and along the access lines of each\nof the other attached stations. In this configuration, all the stations must share the\ntotal capacity of the bus, which is 10 Mbps."
  },
  {
    "text": "A hub, often in a building wiring closet, uses a star wiring arrangement to\nattach stations to the hub. In this arrangement, a transmission from any one station\nis received by the hub and retransmitted on all of the outgoing lines. Therefore, to\navoid collision, only one station can transmit at a time. Again, the total capacity of\nthe LAN is 10 Mbps."
  },
  {
    "text": "The hub has several advantages over the simple bus arrange-\nment. It exploits standard building wiring practices in the layout of cable."
  },
  {
    "text": "In addi-\ntion, the hub can be configured to recognize a malfunctioning station that is\n15.5 / LAYER 2 AND LAYER 3 SWITCHES\nFigure 15.13\nLan Hubs and Switches\nShared bus — 10 Mbps\n(a) Shared medium bus\n(b) Shared medium hub\nTotal capacity\nup to 10 Mbps\n(c) Layer 2 switch\nTotal capacity\nN \u0006 10 Mbps\njamming the network and to cut that station out of the network."
  },
  {
    "text": "Figure 15.13b illus-\ntrates the operation of a hub. Here again, station B is transmitting.This transmission\ngoes from B, across the transmit line from B to the hub, and from the hub along the\nreceive lines of each of the other attached stations. We can achieve greater performance with a layer 2 switch. In this case, the cen-\ntral hub acts as a switch, much as a packet switch or circuit switch."
  },
  {
    "text": "With a layer 2\nswitch, an incoming frame from a particular station is switched to the appropriate\noutput line to be delivered to the intended destination. At the same time, other\nunused lines can be used for switching other traffic. Figure 15.13c shows an example\nin which B is transmitting a frame to A and at the same time C is transmitting a\nframe to D."
  },
  {
    "text": "So, in this example, the current throughput on the LAN is 20 Mbps,\nalthough each individual device is limited to 10 Mbps.The layer 2 switch has several\nattractive features:\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\n1. No change is required to the software or hardware of the attached devices to\nconvert a bus LAN or a hub LAN to a switched LAN."
  },
  {
    "text": "In the case of an Ether-\nnet LAN, each attached device continues to use the Ethernet medium access\ncontrol protocol to access the LAN. From the point of view of the attached\ndevices, nothing has changed in the access logic. 2."
  },
  {
    "text": "Each attached device has a dedicated capacity equal to that of the entire original\nLAN, assuming that the layer 2 switch has sufficient capacity to keep up with all\nattached devices. For example, in Figure 15.13c, if the layer 2 switch can sustain a\nthroughput of 20 Mbps, each attached device appears to have a dedicated capac-\nity for either input or output of 10 Mbps. 3."
  },
  {
    "text": "The layer 2 switch scales easily.Additional devices can be attached to the layer\n2 switch by increasing the capacity of the layer 2 switch correspondingly. Two types of layer 2 switches are available as commercial products:\n• Store-and-forward switch: The layer 2 switch accepts a frame on an input\nline, buffers it briefly, and then routes it to the appropriate output line."
  },
  {
    "text": "• Cut-through switch: The layer 2 switch takes advantage of the fact that the\ndestination address appears at the beginning of the MAC (medium access\ncontrol) frame. The layer 2 switch begins repeating the incoming frame onto\nthe appropriate output line as soon as the layer 2 switch recognizes the desti-\nnation address."
  },
  {
    "text": "The cut-through switch yields the highest possible throughput but at some risk\nof propagating bad frames, because the switch is not able to check the CRC prior to\nretransmission. The store-and-forward switch involves a delay between sender and\nreceiver but boosts the overall integrity of the network. A layer 2 switch can be viewed as a full-duplex version of the hub."
  },
  {
    "text": "It can also\nincorporate logic that allows it to function as a multiport bridge. [BREY99] lists the\nfollowing differences between layer 2 switches and bridges:\n• Bridge frame handling is done in software. A layer 2 switch performs the\naddress recognition and frame forwarding functions in hardware."
  },
  {
    "text": "• A bridge can typically only analyze and forward one frame at a time, whereas\na layer 2 switch has multiple parallel data paths and can handle multiple\nframes at a time. • A bridge uses store-and-forward operation.With a layer 2 switch, it is possible\nto have cut-through instead of store-and-forward operation."
  },
  {
    "text": "Because a layer 2 switch has higher performance and can incorporate the\nfunctions of a bridge, the bridge has suffered commercially. New installations typi-\ncally include layer 2 switches with bridge functionality rather than bridges. Layer 3 Switches\nLayer 2 switches provide increased performance to meet the needs of high-volume\ntraffic generated by personal computers, workstations, and servers."
  },
  {
    "text": "A set of devices and LANs connected by layer 2 switches is considered to have\na flat address space.The term flat means that all users share a common MAC broad-\ncast address. Thus, if any device issues a MAC frame with a broadcast address, that\nframe is to be delivered to all devices attached to the overall network connected by\nlayer 2 switches and/or bridges."
  },
  {
    "text": "In a large network, frequent transmission of broad-\ncast frames can create tremendous overhead. Worse, a malfunctioning device can\ncreate a broadcast storm, in which numerous broadcast frames clog the network and\ncrowd out legitimate traffic."
  },
  {
    "text": "A second performance-related problem with the use of bridges and/or layer\n2 switches is that the current standards for bridge protocols dictate that there be no\nclosed loops in the network. That is, there can only be one path between any two\ndevices.Thus, it is impossible, in a standards-based implementation, to provide mul-\ntiple paths through multiple switches between devices."
  },
  {
    "text": "Fur-\nthermore, IP-based routers employ sophisticated routing algorithms that allow the\nuse of multiple paths between subnetworks going through different routers. However, the problem with using routers to overcome some of the inadequa-\ncies of bridges and layer 2 switches is that routers typically do all of the IP-level\nprocessing involved in the forwarding of IP traffic in software."
  },
  {
    "text": "High-speed LANs\nand high-performance layer 2 switches may pump millions of packets per second,\nwhereas a software-based router may only be able to handle well under a million\npackets per second.To accommodate such a load, a number of vendors have devel-\noped layer 3 switches, which implement the packet-forwarding logic of the router\nin hardware."
  },
  {
    "text": "There are a number of different layer 3 schemes on the market, but funda-\nmentally they fall into two categories: packet by packet and flow based.The packet-\nby-packet switch operates in the identical fashion as a traditional router."
  },
  {
    "text": "Because\nthe forwarding logic is in hardware, the packet-by-packet switch can achieve an\norder of magnitude increase in performance compared to the software-based\nrouter.A flow-based switch tries to enhance performance by identifying flows of IP\npackets that have the same source and destination."
  },
  {
    "text": "This can be done by observing\nongoing traffic or by using a special flow label in the packet header (allowed in IPv6\nbut not IPv4). Once a flow is identified, a predefined route can be established\nthrough the network to speed up the forwarding process. Again, huge performance\nincreases over a pure software-based router are achieved."
  },
  {
    "text": "Figure 15.14 is a typical example of the approach taken to local networking in\nan organization with a large number of PCs and workstations (thousands to tens of\nthousands). Desktop systems have links of 10 Mbps to 100 Mbps into a LAN con-\ntrolled by a layer 2 switch. Wireless LAN connectivity is also likely to be available\nfor mobile users."
  },
  {
    "text": "Layer 3 switches are at the local network’s core, forming a local\nbackbone. Typically, these switches are interconnected at 1 Gbps and connect to\nlayer 2 switches at from 100 Mbps to 1 Gbps."
  },
  {
    "text": "Servers connect directly to layer 2 or\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\nLaptop with\nwireless connection\nFigure 15.14\nTypical Premises Network Configuration\nlayer 3 switches at 1 Gbps or possible 100 Mbps.A lower-cost software-based router\nprovides WAN connection. The circles in the figure identify separate LAN subnet-\nworks; a MAC broadcast frame is limited to its own subnetwork."
  },
  {
    "text": "What are the differences among backend LANs, SANs, and backbone LANs? What is network topology? List four common LAN topologies and briefly describe their methods of operation. What is the purpose of the IEEE 802 committee? Why are there multiple LAN standards? List and briefly define the services provided by LLC. List and briefly define the types of operation provided by the LLC protocol."
  },
  {
    "text": "List some basic functions performed at the MAC layer. What functions are performed by a bridge? What is a spanning tree? What is the difference between a hub and a layer 2 switch? What is the difference between a store-and forward switch and a cut-through switch?"
  },
  {
    "text": "bus topology\nlayer 2 switch\nlayer 3 switch\nlocal area network (LAN)\nlogical link control\nmedium access control (MAC)\nring topology\nspanning tree\nstar topology\ntree topology\nstorage area networks (SAN)\nCHAPTER 15 / LOCAL AREA NETWORK OVERVIEW\nInstead of LLC, could HDLC be used as a data link control protocol for a LAN? If\nnot, what is lacking?"
  },
  {
    "text": "Consider the transfer of a file containing one million 8-bit characters from one station\nto another. What is the total elapsed time and effective throughput for the following\nA circuit-switched, star-topology local network. Call setup time is negligible and\nthe data rate on the medium is 64 kbps. b."
  },
  {
    "text": "A bus topology local network with two stations a distance D apart, a data rate of\nB bps, and a frame size of P with 80 bits of overhead per frame. Each frame is\nacknowledged with an 88-bit frame before the next is sent.The propagation speed\non the bus is \nA ring topology local network with a total circular length of 2D, with the two sta-\nChapter 17 covers wireless LANs."
  },
  {
    "text": "16.1 THE EMERGENCE OF HIGH-SPEED LANS\nPersonal computers and microcomputer workstations began to achieve widespread\nacceptance in business computing in the early 1980s and have now achieved the sta-\ntus of the telephone: an essential tool for office workers."
  },
  {
    "text": "Until relatively recently,\noffice LANs provided basic connectivity services—connecting personal computers\nCHAPTER 16 / HIGH-SPEED LANS\nCharacteristics of Some High-Speed LANs\nFast Ethernet\nGigabit Ethernet\nFibre Channel\nWireless LAN\n1 Gbps, 10 Gbps\n100 Mbps–3.2 Gbps\n1 Mbps–54 Mbps\nTransmission Media\nUTP, shielded cable,\nOptical fiber, coaxial\n2.4-GHz, 5-GHz \noptical Fiber\noptical fiber\nAccess Method\nCSMA/Polling\nSupporting Standard\nFibre Channel\nIEEE 802.11\nAssociation\nand terminals to mainframes and midrange systems that ran corporate applications,\nand providing workgroup connectivity at the departmental or divisional level."
  },
  {
    "text": "In\nboth cases, traffic patterns were relatively light, with an emphasis on file transfer\nand electronic mail. The LANs that were available for this type of workload, pri-\nmarily Ethernet and token ring, are well suited to this environment."
  },
  {
    "text": "In recent years, two significant trends have altered the role of the personal\ncomputer and therefore the requirements on the LAN:\n• The speed and computing power of personal computers has continued to\nenjoy explosive growth. Today’s more powerful platforms support graphics-\nintensive applications and ever more elaborate graphical user interfaces to the\noperating system."
  },
  {
    "text": "• MIS organizations have recognized the LAN as a viable and indeed essential\ncomputing platform, resulting in the focus on network computing. This trend\nbegan with client/server computing, which has become a dominant architec-\nture in the business environment and the more recent intranetwork trend."
  },
  {
    "text": "Both of these approaches involve the frequent transfer of potentially large\nvolumes of data in a transaction-oriented environment. The effect of these trends has been to increase the volume of data to be han-\ndled over LANs and, because applications are more interactive, to reduce the accept-\nable delay on data transfers."
  },
  {
    "text": "The earlier generation of 10-Mbps Ethernets and\n16-Mbps token rings are simply not up to the job of supporting these requirements."
  },
  {
    "text": "The following are examples of requirements that call for higher-speed LANs:\n• Centralized server farms: In many applications, there is a need for user, or\nclient, systems to be able to draw huge amounts of data from multiple central-\nized servers, called server farms.An example is a color publishing operation, in\nwhich servers typically contain hundreds of gigabytes of image data that must\nbe downloaded to imaging workstations."
  },
  {
    "text": "As the performance of the servers\nthemselves has increased, the bottleneck has shifted to the network. • Power workgroups: These groups typically consist of a small number of cooper-\nating users who need to draw massive data files across the network."
  },
  {
    "text": "Examples\nare a software development group that runs tests on a new software version, or\na computer-aided design (CAD) company that regularly runs simulations of\nnew designs. In such cases, large amounts of data are distributed to several\nworkstations, processed, and updated at very high speed for multiple iterations."
  },
  {
    "text": "16.2 / ETHERNET\n• High-speed local backbone: As processing demand grows, LANs proliferate at\na site, and high-speed interconnection is necessary. 16.2 ETHERNET\nThe most widely used high-speed LANs today are based on Ethernet and were\ndeveloped by the IEEE 802.3 standards committee."
  },
  {
    "text": "As with other LAN standards,\nthere is both a medium access control layer and a physical layer, which are consid-\nered in turn in what follows. IEEE 802.3 Medium Access Control\nIt is easier to understand the operation of CSMA/CD if we look first at some earlier\nschemes from which CSMA/CD evolved."
  },
  {
    "text": "Precursors CSMA/CD and its precursors can be termed random access, or con-\ntention, techniques.They are random access in the sense that there is no predictable\nor scheduled time for any station to transmit; station transmissions are ordered ran-\ndomly. They exhibit contention in the sense that stations contend for time on the\nshared medium."
  },
  {
    "text": "The earliest of these techniques, known as ALOHA, was developed for\npacket radio networks. However, it is applicable to any shared transmission\nmedium. ALOHA, or pure ALOHA as it is sometimes called, specifies that a sta-\ntion may transmit a frame at any time."
  },
  {
    "text": "The station then listens for an amount of\ntime equal to the maximum possible round-trip propagation delay on the network\n(twice the time it takes to send a frame between the two most widely separated sta-\nCHAPTER 16 / HIGH-SPEED LANS\nBoth ALOHA and slotted ALOHA exhibit poor utilization."
  },
  {
    "text": "Both fail to take\nadvantage of one of the key properties of both packet radio networks and LANs,\nwhich is that propagation delay between stations may be very small compared to\nframe transmission time. Consider the following observations."
  },
  {
    "text": "If the station-to-station\npropagation time is large compared to the frame transmission time, then, after a sta-\ntion launches a frame, it will be a long time before other stations know about it. Dur-\ning that time, one of the other stations may transmit a frame; the two frames may\ninterfere with each other and neither gets through."
  },
  {
    "text": "Indeed, if the distances are great\nenough, many stations may begin transmitting, one after the other, and none of their\nframes get through unscathed. Suppose, however, that the propagation time is small\ncompared to frame transmission time.In that case,when a station launches a frame,all\nthe other stations know it almost immediately."
  },
  {
    "text": "So, if they had any sense, they would\nnot try transmitting until the first station was done. Collisions would be rare because\nthey would occur only when two stations began to transmit almost simultaneously. Another way to look at it is that a short propagation delay provides the stations with\nbetter feedback about the state of the network; this information can be used to\nimprove efficiency."
  },
  {
    "text": "The foregoing observations led to the development of carrier sense multiple\naccess (CSMA). With CSMA, a station wishing to transmit first listens to the\nmedium to determine if another transmission is in progress (carrier sense). If the\nmedium is in use, the station must wait. If the medium is idle, the station may trans-\nmit."
  },
  {
    "text": "It may happen that two or more stations attempt to transmit at about the same\ntime. If this happens, there will be a collision; the data from both transmissions will\nbe garbled and not received successfully."
  },
  {
    "text": "To account for this, a station waits a rea-\nCHAPTER 16 / HIGH-SPEED LANS\ntransmission, the expected number of stations that will attempt to transmit is\nequal to the number of stations ready to transmit times the probability of trans-\nmitting, or np. If np is greater than 1, on average multiple stations will attempt to\ntransmit and there will be a collision."
  },
  {
    "text": "What is more, as soon as all these stations\nrealize that their transmission suffered a collision, they will be back again,\nalmost guaranteeing more collisions. Worse yet, these retries will compete with\nnew transmissions from other stations, further increasing the probability of col-\nlision."
  },
  {
    "text": "Eventually, all stations will be trying to send, causing continuous colli-\nsions, with throughput dropping to zero. To avoid this catastrophe, np must be\nless than one for the expected peaks of n; therefore, if a heavy load is expected\nto occur with some regularity, p must be small. However, as p is made smaller,\nstations must wait longer to attempt transmission."
  },
  {
    "text": "At low loads, this can result in\nvery long delays. For example, if only a single station desires to transmit, the\nexpected number of iterations of step 1 is 1/p (see Problem 16.2). Thus, if\nat low load, a station will wait an average of 9 time units before trans-\nmitting on an idle line."
  },
  {
    "text": "Description of CSMA/CD CSMA, although more efficient than ALOHA or\nslotted ALOHA, still has one glaring inefficiency. When two frames collide, the\nmedium remains unusable for the duration of transmission of both damaged frames. For long frames, compared to propagation time, the amount of wasted capacity can\nbe considerable."
  },
  {
    "text": "This waste can be reduced if a station continues to listen to the\nmedium while transmitting.This leads to the following rules for CSMA/CD:\n1. If the medium is idle, transmit; otherwise, go to step 2. 2. If the medium is busy, continue to listen until the channel is idle, then transmit\nimmediately. 3."
  },
  {
    "text": "If a collision is detected during transmission, transmit a brief jamming signal to\nassure that all stations know that there has been a collision and then cease trans-\n4. After transmitting the jamming signal, wait a random amount of time, referred\nto as the backoff, then attempt to transmit again (repeat from step 1). Figure 16.2 illustrates the technique for a baseband bus."
  },
  {
    "text": "The upper part of\nthe figure shows a bus LAN layout. At time \nstation A begins transmitting \na packet addressed to D. At \nboth B and C are ready to transmit. B senses a\ntransmission and so defers. C, however, is still unaware of A’s transmission\n(because the leading edge of A’s transmission has not yet arrived at C) \nand begins its own transmission."
  },
  {
    "text": "When A’s transmission reaches C, at \ndetects the collision and ceases transmission. The effect of the collision propa-\ngates back to A, where it is detected some time later,\nat which time A ceases\ntransmission. With CSMA/CD, the amount of wasted capacity is reduced to the time it takes\nto detect a collision. Question: How long does that take?"
  },
  {
    "text": "Let us consider the case of a\nbaseband bus and consider two stations as far apart as possible.For example,in Figure\n16.2, suppose that station A begins a transmission and that just before that transmis-\nsion reaches D, D is ready to transmit. Because D is not yet aware of A’s transmission,\n16.2 / ETHERNET\nit begins to transmit. A collision occurs almost immediately and is recognized by D."
  },
  {
    "text": "However, the collision must propagate all the way back to A before A is aware of the\ncollision. By this line of reasoning, we conclude that the amount of time that it takes\nto detect a collision is no greater than twice the end-to-end propagation delay."
  },
  {
    "text": "An important rule followed in most CSMA/CD systems, including the IEEE\nstandard, is that frames should be long enough to allow collision detection prior to the\nend of transmission.If shorter frames are used,then collision detection does not occur,\nand CSMA/CD exhibits the same performance as the less efficient CSMA protocol."
  },
  {
    "text": "In the nonpersistent case, capacity is wasted because the medium\nwill generally remain idle following the end of a transmission even if there are sta-\ntions waiting to send."
  },
  {
    "text": "In the p-persistent case, p must be set low enough to avoid\nA's transmission\nC's transmission\nSignal on bus\nA's transmission\nC's transmission\nSignal on bus\nA's transmission\nC's transmission\nSignal on bus\nA's transmission\nC's transmission\nSignal on bus\nFigure 16.2\nCSMA/CD Operation\nCHAPTER 16 / HIGH-SPEED LANS\ninstability, with the result of sometimes atrocious delays under light load.The 1-per-\nsistent algorithm, which means, after all, that \nwould seem to be even more\nunstable than p-persistent due to the greed of the stations.What saves the day is that\nthe wasted time due to collisions is mercifully short (if the frames are long relative to\npropagation delay), and with random backoff, the two stations involved in a collision\nare unlikely to collide on their next tries."
  },
  {
    "text": "To ensure that backoff maintains stability,\nIEEE 802.3 and Ethernet use a technique known as binary exponential backoff. A\nstation will attempt to transmit repeatedly in the face of repeated collisions. For the\nfirst 10 retransmission attempts, the mean value of the random delay is doubled.This\nmean value then remains the same for 6 additional attempts."
  },
  {
    "text": "After 16 unsuccessful\nattempts, the station gives up and reports an error.Thus, as congestion increases, sta-\ntions back off by larger and larger amounts to reduce the probability of collision. The beauty of the 1-persistent algorithm with binary exponential backoff is\nthat it is efficient over a wide range of loads."
  },
  {
    "text": "At low loads, 1-persistence guarantees\nthat a station can seize the channel as soon as it goes idle, in contrast to the non- and\np-persistent schemes. At high loads, it is at least as stable as the other techniques."
  },
  {
    "text": "However, one unfortunate effect of the backoff algorithm is that it has a last-in first-\nout effect; stations with no or few collisions will have a chance to transmit before\nstations that have waited longer."
  },
  {
    "text": "For baseband bus, a collision should produce substantially higher voltage\nswings than those produced by a single transmitter.Accordingly, the IEEE standard\ndictates that the transmitter will detect a collision if the signal on the cable at the\ntransmitter tap point exceeds the maximum that could be produced by the transmit-\nter alone."
  },
  {
    "text": "Because a transmitted signal attenuates as it propagates, there is a poten-\ntial problem: If two stations far apart are transmitting, each station will receive a\ngreatly attenuated signal from the other. The signal strength could be so small that\nwhen it is added to the transmitted signal at the transmitter tap point, the combined\nsignal does not exceed the CD threshold."
  },
  {
    "text": "For this reason, among others, the IEEE\nstandard restricts the maximum length of coaxial cable to 500 m for 10BASE5 and\n200 m for 10BASE2. A much simpler collision detection scheme is possible with the twisted-pair\nstar-topology approach (Figure 15.12). In this case, collision detection is based on\nlogic rather than sensing voltage magnitudes."
  },
  {
    "text": "For any hub, if there is activity (signal)\non more than one input, a collision is assumed. A special signal called the collision\npresence signal is generated.This signal is generated and sent out as long as activity\nis sensed on any of the input lines. This signal is interpreted by every node as an\noccurrence of a collision. MAC Frame Figure 16.3 depicts the frame format for the 802.3 protocol."
  },
  {
    "text": "It con-\nsists of the following fields:\n• Preamble: A 7-octet pattern of alternating 0s and 1s used by the receiver to\nestablish bit synchronization. • Start Frame Delimiter (SFD): The sequence 10101011, which indicates the\nactual start of the frame and enables the receiver to locate the first bit of the\nrest of the frame."
  },
  {
    "text": "• Destination Address (DA): Specifies the station(s) for which the frame is\nintended.It may be a unique physical address,a group address,or a global address."
  },
  {
    "text": "16.2 / ETHERNET\nFigure 16.3\nIEEE 802.3 Frame Format\n46 to 1500 octets\nSFD = Start of frame delimiter\nDA = Destination address\n= Source address\nFCS = Frame check sequence\nCHAPTER 16 / HIGH-SPEED LANS\n1There is also a 10BROAD36 option, specifying a 10-Mbps broadband bus; this option is rarely used. 2See Section 5.1. • Source Address (SA): Specifies the station that sent the frame."
  },
  {
    "text": "• Length/Type: Length of LLC data field in octets, or Ethernet Type field,\ndepending on whether the frame conforms to the IEEE 802.3 standard or the\nearlier Ethernet specification. In either case, the maximum frame size, exclud-\ning the Preamble and SFD, is 1518 octets. • LLC Data: Data unit supplied by LLC."
  },
  {
    "text": "• Pad: Octets added to ensure that the frame is long enough for proper CD\n• Frame Check Sequence (FCS): A 32-bit cyclic redundancy check, based on all\nfields except preamble, SFD, and FCS. IEEE 802.3 10-Mbps Specifications (Ethernet)\nThe IEEE 802.3 committee has defined a number of alternative physical configura-\ntions.This is both good and bad."
  },
  {
    "text": "On the good side, the standard has been responsive\nto evolving technology. On the bad side, the customer, not to mention the potential\nvendor, is faced with a bewildering array of options. However, the committee has\nbeen at pains to ensure that the various options can be easily integrated into a con-\nfiguration that satisfies a variety of needs."
  },
  {
    "text": "Thus, the user that has a complex set of\nrequirements may find the flexibility and variety of the 802.3 standard to be an asset."
  },
  {
    "text": "To distinguish the various implementations that are available, the committee\nhas developed a concise notation:\n6data rate in Mbps6signaling method7maximum segment length in \nhundreds of meters7\nThe defined alternatives for 10-Mbps are as follows:1\n• 10BASE5: Specifies the use of 50-ohm coaxial cable and Manchester digital sig-\nnaling.2 The maximum length of a cable segment is set at 500 meters.The length\nof the network can be extended by the use of repeaters.A repeater is transpar-\nent to the MAC level; as it does no buffering, it does not isolate one segment\nfrom another."
  },
  {
    "text": "So, for example, if two stations on different segments attempt to\ntransmit at the same time, their transmissions will collide.To avoid looping, only\none path of segments and repeaters is allowed between any two stations. The\nstandard allows a maximum of four repeaters in the path between any two\nstations, extending the effective length of the medium to 2.5 kilometers."
  },
  {
    "text": "• 10BASE2: Similar to 10BASE5 but uses a thinner cable, which supports fewer\ntaps over a shorter distance than the 10BASE5 cable.This is a lower-cost alter-\nnative to 10BASE5. • 10BASE-T: Uses unshielded twisted pair in a star-shaped topology. Because of\nthe high data rate and the poor transmission qualities of unshielded twisted-\npair, the length of a link is limited to 100 meters."
  },
  {
    "text": "16.2 / ETHERNET\nIEEE 802.3 10-Mbps Physical Layer Medium Alternatives\nTransmission medium\nCoaxial cable \nCoaxial cable\n850-nm optical\ntwisted pair\nSignaling technique\nManchester/\n(Manchester)\n(Manchester)\n(Manchester)\nMaximum segment length (m)\nNodes per segment\nCable diameter (mm)\n62.5/125 mm\n3See Chapter 4 for a discussion of Category 3 and Category 5 cable."
  },
  {
    "text": "• 10BASE-F: Contains three specifications: a passive-star topology for intercon-\nnecting stations and repeaters with up to 1 km per segment; a point-to-point\nlink that can be used to connect stations or repeaters at up to 2 km; a point-to-\npoint link that can be used to connect repeaters at up to 2 km."
  },
  {
    "text": "Note that 10BASE-T and 10-BASE-F do not quite follow the notation: “T”\nstands for twisted pair and “F” stands for optical fiber. Table 16.2 summarizes the\nremaining options."
  },
  {
    "text": "All of the alternatives listed in the table specify a data rate of\nIEEE 802.3 100-Mbps Specifications (Fast Ethernet)\nFast Ethernet refers to a set of specifications developed by the IEEE 802.3 \ncommittee to provide a low-cost, Ethernet-compatible LAN operating at \n100 Mbps. The blanket designation for these standards is 100BASE-T."
  },
  {
    "text": "The com-\nmittee defined a number of alternatives to be used with different transmission\nTable 16.3 summarizes key characteristics of the 100BASE-T options. All of\nthe 100BASE-T options use the IEEE 802.3 MAC protocol and frame format. 100BASE-X refers to a set of options that use two physical links between nodes; one\nfor transmission and one for reception."
  },
  {
    "text": "100BASE-TX makes use of shielded twisted\npair (STP) or high-quality (Category 5) unshielded twisted pair (UTP). 100BASE-\nFX uses optical fiber. In many buildings, any of the 100BASE-X options requires the installation\nof new cable."
  },
  {
    "text": "For such cases, 100BASE-T4 defines a lower-cost alternative that can\nuse Category 3, voice-grade UTP in addition to the higher-quality Category 5\nUTP.3 To achieve the 100-Mbps data rate over lower-quality cable, 100BASE-T4 dic-\ntates the use of four twisted-pair lines between nodes, with the data transmission mak-\ning use of three pairs in one direction at a time."
  },
  {
    "text": "For all of the 100BASE-T options, the topology is similar to that of 10BASE-T,\nnamely a star-wire topology."
  },
  {
    "text": "CHAPTER 16 / HIGH-SPEED LANS\nIEEE 802.3 100BASE-T Physical Layer Medium Alternatives\nTransmission medium\n2 pair, STP\n2 pair, Category\n2 optical fibers\n4 pair, Category\n3, 4, or 5 UTP\nSignaling technique\nMaximum segment length\nNetwork span\n100BASE-X For all of the transmission media specified under 100BASE-X, a uni-\ndirectional data rate of 100 Mbps is achieved transmitting over a single link (single\ntwisted pair, single optical fiber)."
  },
  {
    "text": "For all of these media, an efficient and effective sig-\nnal encoding scheme is required.The one chosen is referred to as 4B/5B-NRZI.This\nCHAPTER 16 / HIGH-SPEED LANS\n100/1000-Mbps Hubs\n100 Mbps link\n1 Gbps link\nFigure 16.4\nExample Gigabit Ethernet Configuration\n• Frame bursting: This feature allows for multiple short frames to be transmit-\nted consecutively, up to a limit, without relinquishing control for CSMA/CD\nbetween frames."
  },
  {
    "text": "Frame bursting avoids the overhead of carrier extension\nwhen a single station has a number of small frames ready to send. With a switching hub (Figure 15.13c), which provides dedicated access to the\nmedium, the carrier extension and frame bursting features are not needed."
  },
  {
    "text": "This is\nbecause data transmission and reception at a station can occur simultaneously with-\nout interference and with no contention for a shared medium."
  },
  {
    "text": "Physical Layer The current 1-Gbps specification for IEEE 802.3 includes the fol-\nlowing physical layer alternatives (Figure 16.5):\n• 1000BASE-SX: This short-wavelength option supports duplex links of up to\n275 m using \nmultimode or up to 550 m using \nmultimode fiber. Wavelengths are in the range of 770 to 860 nm."
  },
  {
    "text": "• 1000BASE-LX: This long-wavelength option supports duplex links of up to\nmultimode fiber or 5 km of \nsingle-mode\nfiber.Wavelengths are in the range of 1270 to 1355 nm. 16.2 / ETHERNET\n• 1000BASE-CX:\nThis option supports 1-Gbps links among devices \nlocated within a single room or equipment rack, using copper jumpers (spe-\ncialized shielded twisted-pair cable that spans no more than 25 m)."
  },
  {
    "text": "Each\nlink is composed of a separate shielded twisted pair running in each \n• 1000BASE-T: This option makes use of four pairs of Category 5 unshielded\ntwisted pair to support devices over a range of up to 100 m."
  },
  {
    "text": "The signal encoding scheme used for the first three Gigabit Ethernet options\nCHAPTER 16 / HIGH-SPEED LANS\nInitially network managers will use 10-Gbps Ethernet to provide high-speed,\nlocal backbone interconnection between large-capacity switches.As the demand for\nbandwidth increases, 10-Gbps Ethernet will be deployed throughout the entire net-\nwork and will include server farm, backbone, and campuswide connectivity."
  },
  {
    "text": "This\ntechnology enables Internet service providers (ISPs) and network service providers\n(NSPs) to create very high-speed links at a low cost, between co-located, carrier-\nclass switches and routers. The technology also allows the construction of metropolitan area networks\n(MANs) and WANs that connect geographically dispersed LANs between cam-\npuses or points of presence (PoPs)."
  },
  {
    "text": "Thus, Ethernet begins to compete with ATM\nand other wide area transmission and networking technologies."
  },
  {
    "text": "In most cases\nwhere the customer requirement is data and TCP/IP transport, 10-Gbps Ethernet\nprovides substantial value over ATM transport for both network end users and\nservice providers:\n• No expensive, bandwidth-consuming conversion between Ethernet packets\nand ATM cells is required; the network is Ethernet, end to end."
  },
  {
    "text": "• The combination of IP and Ethernet offers quality of service and traffic\npolicing capabilities that approach those provided by ATM, so that\nadvanced traffic engineering technologies are available to users and\n• A wide variety of standard optical interfaces (wavelengths and link distances)\nhave been specified for 10-Gbps Ethernet, optimizing its operation and cost\nfor LAN, MAN, or WAN applications."
  },
  {
    "text": "Figure 16.6 illustrates potential uses of 10-Gbps Ethernet. Higher-capacity\nbackbone pipes will help relieve congestion for workgroup switches, where Gigabit\nEthernet uplinks can easily become overloaded, and for server farms, where 1-Gbps\nnetwork interface cards are already in widespread use."
  },
  {
    "text": "The goal for maximum link distances cover a range of applications: from 300 m\nto 40 km.The links operate in full-duplex mode only, using a variety of optical fiber\nphysical media. Four physical layer options are defined for 10-Gbps Ethernet (Figure 16.7)."
  },
  {
    "text": "The first three of these have two suboptions: an “R” suboption and a “W” subop-\ntion.The R designation refers to a family of physical layer implementations that use\na signal encoding technique known as 64B/66B. The R implementations are\ndesigned for use over dark fiber, meaning a fiber optic cable that is not in use and\nthat is not connected to any other equipment."
  },
  {
    "text": "The W designation refers to a family\nof physical layer implementations that also use 64B/66B signaling but that are then\nencapsulated to connect to SONET equipment. The four physical layer options are\n• 10GBASE-S (short): Designed for 850-nm transmission on multimode fiber. This medium can achieve distances up to 300 m. There are 10GBASE-SR and\n10GBASE-SW versions."
  },
  {
    "text": "• 10GBASE-L (long): Designed for 1310-nm transmission on single-mode fiber. This medium can achieve distances up to 10 km.There are 10GBASE-LR and\n10GBASE-LW versions."
  },
  {
    "text": "16.2 / ETHERNET\n10/100 Mbps\nWorkstations\nServer farm\nFigure 16.6\nExample 10 Gigabit Ethernet Configuration\nCHAPTER 16 / HIGH-SPEED LANS\nMaximum distance\n50-\u0004m multimode fiber\nSingle-mode fiber\nSingle-mode fiber\nSingle-mode fiber\n50-\u0004m multimode fiber\n10GBASE-LX4\n62.5-\u0004m multimode fiber\n62.5-\u0004m multimode fiber\nFigure 16.7\n10-Gbps Ethernet Distance Options (log scale)\n• 10GBASE-E (extended): Designed for 1550-nm transmission on single-mode\nfiber."
  },
  {
    "text": "This medium can achieve distances up to 40 km. There are 10GBASE-\nER and 10GBASE-EW versions. • 10GBASE-LX4: Designed for 1310-nm transmission on single-mode or multi-\nmode fiber.This medium can achieve distances up to 10 km.This medium uses\nwavelength-division multiplexing (WDM) to multiplex the bit stream across\nfour light waves."
  },
  {
    "text": "The success of Fast Ethernet, Gigabit Ethernet, and 10-Gbps Ethernet highlights\nthe importance of network management concerns in choosing a network technology."
  },
  {
    "text": "Both ATM and Fiber Channel,explored later,may be technically superior choices for a\nhigh-speed backbone,because of their flexibility and scalability.However,the Ethernet\nalternatives offer compatibility with existing installed LANs, network management\nsoftware, and applications.This compatibility has accounted for the survival of a nearly\n30-year-old technology (CSMA/CD) in today’s fast-evolving network environment."
  },
  {
    "text": "16.3 FIBRE CHANNEL\nAs the speed and memory capacity of personal computers, workstations, and servers\nhave grown, and as applications have become ever more complex with greater\nreliance on graphics and video, the requirement for greater speed in delivering data\nto the processor has grown.This requirement affects two methods of data communi-\ncations with the processor: I/O channel and network communications."
  },
  {
    "text": "An I/O channel is a direct point-to-point or multipoint communications link,\npredominantly hardware based and designed for high speed over very short dis-\ntances."
  },
  {
    "text": "The I/O channel transfers data between a buffer at the source device and a\nCHAPTER 16 / HIGH-SPEED LANS\nFibre Channel\nswitching fabric\nFigure 16.8\nFibre Channel Network\nThe solution was to develop a simple generic transport mechanism based on\npoint-to-point links and a switching network."
  },
  {
    "text": "This underlying infrastructure sup-\nports a simple encoding and framing scheme that in turn supports a variety of chan-\nnel and network protocols. Fibre Channel Elements\nThe key elements of a Fibre Channel network are the end systems, called nodes, and\nthe network itself, which consists of one or more switching elements. The collection\nof switching elements is referred to as a fabric."
  },
  {
    "text": "These elements are interconnected\nby point-to-point links between ports on the individual nodes and switches. Com-\nmunication consists of the transmission of frames across the point-to-point links. Each node includes one or more ports, called N_ports, for interconnection. Similarly, each fabric-switching element includes multiple ports, called F_ports."
  },
  {
    "text": "Interconnection is by means of bidirectional links between ports. Any node can\ncommunicate with any other node connected to the same fabric using the services of\nthe fabric.All routing of frames between N_ports is done by the fabric. Frames may\nbe buffered within the fabric, making it possible for different nodes to connect to\nthe fabric at different data rates."
  },
  {
    "text": "A fabric can be implemented as a single fabric element with attached nodes (a\nsimple star arrangement) or as a more general network of fabric elements, as shown\nin Figure 16.8. In either case, the fabric is responsible for buffering and for routing\nframes between source and destination nodes. The Fibre Channel network is quite different from the IEEE 802 LANs."
  },
  {
    "text": "Fibre\nChannel is more like a traditional circuit-switching or packet-switching network, in\ncontrast to the typical shared-medium LAN. Thus, Fibre Channel need not be con-\ncerned with medium access control issues.Because it is based on a switching network,\nthe Fibre Channel scales easily in terms of N_ports, data rate, and distance covered."
  },
  {
    "text": "16.3 / FIBRE CHANNEL\nMaximum Distance for Fibre Channel Media Types\nSingle mode fiber\nmultimode fiber\nmultimode fiber\nVideo coaxial cable\nMiniature coaxial cable\nShielded twisted pair\nThis approach provides great flexibility.Fibre Channel can readily accommodate new\ntransmission media and data rates by adding new switches and F_ports to an existing\nfabric."
  },
  {
    "text": "Thus, an existing investment is not lost with an upgrade to new technologies\nand equipment. Further, the layered protocol architecture accommodates existing\nI/O interface and networking protocols, preserving the preexisting investment. Fibre Channel Protocol Architecture\nThe Fibre Channel standard is organized into five levels. Each level defines a func-\ntion or set of related functions."
  },
  {
    "text": "The standard does not dictate a correspondence\nbetween levels and actual implementations, with a specific interface between adja-\ncent levels."
  },
  {
    "text": "Rather, the standard refers to the level as a “document artifice” used to\ngroup related functions.The layers are as follows:\n• FC-0 Physical Media: Includes optical fiber for long-distance applications,\ncoaxial cable for high speeds over short distances, and shielded twisted pair for\nlower speeds over short distances\n• FC-1 Transmission Protocol: Defines the signal encoding scheme\n• FC-2 Framing Protocol: Deals with defining topologies, frame format, flow\nand error control, and grouping of frames into logical entities called sequences\nand exchanges\n• FC-3 Common Services: Includes multicasting\n• FC-4 Mapping: Defines the mapping of various channel and network proto-\ncols to Fibre Channel, including IEEE 802, ATM, IP, and the Small Computer\nSystem Interface (SCSI)\nFibre Channel Physical Media and Topologies\nOne of the major strengths of the Fibre Channel standard is that it provides a range\nof options for the physical medium, the data rate on that medium, and the topology\nof the network (Table 16.4)."
  },
  {
    "text": "Transmission Media The transmission media options that are available under\nFibre Channel include shielded twisted pair, video coaxial cable, and optical fiber. Standardized data rates range from 100 Mbps to 3.2 Gbps. Point-to-point link dis-\ntances range from 33 m to 10 km."
  },
  {
    "text": "CHAPTER 16 / HIGH-SPEED LANS\nTopologies The most general topology supported by Fibre Channel is referred to\nas a fabric or switched topology. This is an arbitrary topology that includes at least\none switch to interconnect a number of end systems. The fabric topology may also\nconsist of a number of switches forming a switched network, with some or all of\nthese switches also supporting end nodes."
  },
  {
    "text": "Each port in the con-\nfiguration has a unique address.When data from a node are transmitted into the fab-\nric, the edge switch to which the node is attached uses the destination port address in\nthe incoming data frame to determine the destination port location.The switch then\neither delivers the frame to another node attached to the same switch or transfers the\nframe to an adjacent switch to begin routing the frame to a remote destination."
  },
  {
    "text": "The fabric topology provides scalability of capacity: As additional ports are\nadded, the aggregate capacity of the network increases, thus minimizing congestion\nand contention and increasing throughput."
  },
  {
    "text": "The fabric is protocol independent and\nlargely distance insensitive.The technology of the switch itself and of the transmis-\nsion links connecting the switch to nodes may be changed without affecting the\noverall configuration. Another advantage of the fabric topology is that the burden\non nodes is minimized."
  },
  {
    "text": "An individual Fibre Channel node (end system) is only\nresponsible for managing a simple point-to-point connection between itself and the\nfabric; the fabric is responsible for routing between ports and error detection. In addition to the fabric topology, the Fibre Channel standard defines two\nother topologies."
  },
  {
    "text": "With the point-to-point topology there are only two ports, and\nthese are directly connected, with no intervening fabric switches. In this case there is\nno routing. The arbitrated loop topology is a simple, low-cost topology for connect-\ning up to 126 nodes in a loop. The arbitrated loop operates in a manner roughly\nequivalent to the token ring protocols that we have seen."
  },
  {
    "text": "Topologies, transmission media, and data rates may be combined to provide an\noptimized configuration for a given site. Figure 16.9 is an example that illustrates the\nprincipal applications of Fiber Channel."
  },
  {
    "text": "Prospects for Fibre Channel\nFibre Channel is backed by an industry interest group known as the Fibre Chan-\nnel Association and a variety of interface cards for different applications are\navailable. Fibre Channel has been most widely accepted as an improved periph-\neral device interconnect, providing services that can eventually replace such\nschemes as SCSI."
  },
  {
    "text": "[SACH96] is a good survey of Fibre Channel. A short but worthwhile treatment is\nLinking high-\nperformance\nworkstation clusters\nConnecting mainframes\nto each other\nLinking LANs and\nWANs to the backbone\nClustering disk farms\nGiving server farms high-speed pipes\nFibre Channel\nswitching fabric\nFigure 16.9\nFive Applications of Fibre Channel\nFibre Channel Industry Association."
  },
  {
    "text": "Explain the three persistence protocols that can be used with CSMA. What is CSMA/CD? Explain binary exponential backoff. What are the transmission medium options for Fast Ethernet? How does Fast Ethernet differ from 10BASE-T, other than the data rate? In the context of Ethernet, what is full-duplex operation? List the levels of Fibre Channel and the functions of each level."
  },
  {
    "text": "What are the topology options for Fibre Channel? A disadvantage of the contention approach for LANs, such as CSMA/CD, is the\ncapacity wasted due to multiple stations attempting to access the channel at the\nsame time. Suppose that time is divided into discrete slots, with each of N stations\nattempting to transmit with probability p during each slot."
  },
  {
    "text": "If the time unit used\nin the protocol is T, show that the average number of iterations of step 1 of the proto-\ncol is 1/p and that therefore the expected time that the station will have to wait after\nthe current transmission is\nHint: Use the equality \nThe binary exponential backoff algorithm is defined by IEEE 802 as follows:\nThe delay is an integral multiple of slot time.The number of slot times to delay\nbefore the nth retransmission attempt is chosen as a uniformly distributed ran-\ndom integer r in the range \nSlot time is, roughly, twice the round-trip propagation delay.Assume that two stations\nalways have a frame to send."
  },
  {
    "text": "After a collision, what is the mean number of retrans-\nmission attempts before one station successfully retransmits? What is the answer if\nthree stations always have frames to send? Describe the signal pattern produced on the medium by the Manchester-encoded\npreamble of the IEEE 802.3 MAC frame."
  },
  {
    "text": "Analyze the advantages of having the FCS field of IEEE 802.3 frames in the trailer of\nthe frame rather than in the header of the frame. The most widely used MAC approach for a ring topology is token ring, defined in\nIEEE 802.5. The token ring technique is based on the use of a small frame, called a\ntoken, that circulates when all stations are idle."
  },
  {
    "text": "A station wishing to transmit must\nwait until it detects a token passing by. It then seizes the token by changing one bit in\nthe token, which transforms it from a token to a start-of-frame sequence for a data\nframe. The station then appends and transmits the remainder of the fields needed to\nconstruct a data frame."
  },
  {
    "text": "When a station seizes a token and begins to transmit a data\nframe, there is no token on the ring, so other stations wishing to transmit must wait."
  },
  {
    "text": "The frame on the ring will make a round trip and be absorbed by the transmitting sta-\ntion.The transmitting station will insert a new token on the ring when both of the fol-\nlowing conditions have been met: (1) The station has completed transmission of its\nframe. (2) The leading edge of the transmitted frame has returned (after a complete\ncirculation of the ring) to the station."
  },
  {
    "text": "An option in IEEE 802.5, known as early token release, eliminates the second\ncondition just listed. Under what conditions will early token release result in\nimproved utilization? b. Are there any potential disadvantages to early token release? Explain."
  },
  {
    "text": "For a token ring LAN, suppose that the destination station removes the data\nCHAPTER 16 / HIGH-SPEED LANS\nWith 8B6T coding, the DC algorithm sometimes negates all of the ternary symbols in\na code group. How does the receiver recognize this condition? How does the receiver\ndiscriminate between a negated code group and one that has not been negated?"
  },
  {
    "text": "For\nexample, the code group for data byte 00 is \nand the code group for data\nbyte 38 is the negation of that, namely,\nDraw the MLT decoder state diagram that corresponds to the encoder state diagram\nof Figure 16.10. For the bit stream 0101110, sketch the waveforms for NRZ-L, NRZI, Manchester, and\nDifferential Manchester, and MLT-3."
  },
  {
    "text": "Consider a token ring system with N stations in which a station that has just transmit-\nted a frame releases a new token only after the station has completed transmission of\nits frame and the leading edge of the transmitted frame has returned (after a com-\nplete circulation of the ring) to the station. Show that utilization can be approximated by \nb."
  },
  {
    "text": "What is the asymptotic value of utilization as N increases? Verify that the division illustrated in Figure 16.18a corresponds to the implemen-\ntation of Figure 16.17a by calculating the result step by step using Equation (16.7). b."
  },
  {
    "text": "Verify that the multiplication illustrated in Figure 16.18b corresponds to the\nimplementation of Figure 16.17b by calculating the result step by step using\nEquation (16.8). Draw a figure similar to Figure 16.17 for the MLT-3 scrambler and descrambler."
  },
  {
    "text": "In Chapter 5, we looked at some of the common techniques for encoding digital data for trans-\nmission, including Manchester and differential Manchester, which are used in some of the\nferential encoding."
  },
  {
    "text": "Recall from Chapter 5 that in differential encoding, the signal is decoded\nby comparing the polarity of adjacent signal elements rather than the absolute value of a sig-\nnal element.A benefit of this scheme is that it is generally more reliable to detect a transition\nin the presence of noise and distortion than to compare a value to a threshold."
  },
  {
    "text": "Now we are in a position to describe the 4B/5B code and to understand the selections\nthat were made.Table 16.5 shows the symbol encoding.Each 5-bit code group pattern is shown,\ntogether with its NRZI realization. Because we are encoding 4 bits with a 5-bit pattern, only\n16 of the 32 possible patterns are needed for data encoding."
  },
  {
    "text": "The codes selected to represent\n4B/5B Code Groups (page 1 of 2)\nNRZI pattern\nInterpretation\nStart of stream \ndelimiter, part 1\nStart of stream \ndelimiter, part 2\nEnd of stream \ndelimiter, part 1\nEnd of stream \ndelimiter, part 2\nTransmit error\nInvalid codes\nCHAPTER 16 / HIGH-SPEED LANS\nthe 16 4-bit data blocks are such that a transition is present at least twice for each 5-code group\ncode."
  },
  {
    "text": "No more than three zeros in a row are allowed across one or more code groups\nThe encoding scheme can be summarized as follows:\n1. A simple NRZ encoding is rejected because it does not provide synchronization; a\nstring of 1s or 0s will have no transitions. 2. The data to be transmitted must first be encoded to assure transitions.The 4B/5B code is\nchosen over Manchester because it is more efficient."
  },
  {
    "text": "3. The 4B/5B code is further encoded using NRZI so that the resulting differential signal will\nimprove reception reliability. 4. The specific 5-bit patterns for the encoding of the 16 4-bit data patterns are chosen to\nguarantee no more than three zeros in a row to provide for adequate synchronization."
  },
  {
    "text": "Those code groups not used to represent data are either declared invalid or assigned\nspecial meaning as control symbols. These assignments are listed in Table 16.5. The nondata\nsymbols fall into the following categories:\n• Idle: The idle code group is transmitted between data transmission sequences."
  },
  {
    "text": "It\nconsists of a constant flow of binary ones, which in NRZI comes out as a continuous\nalternation between the two signal levels. This continuous fill pattern establishes\nand maintains synchronization and is used in the CSMA/CD protocol to indicate\nthat the shared medium is idle."
  },
  {
    "text": "• Start of stream delimiter: Used to delineate the starting boundary of a data transmis-\nsion sequence; consists of two different code groups. • End of stream delimiter: Used to terminate normal data transmission sequences; con-\nsists of two different code groups. • Transmit error: This code group is interpreted as a signaling error."
  },
  {
    "text": "The normal use of\nthis indicator is for repeaters to propagate received errors. Although 4B/5B-NRZI is effective over optical fiber, it is not suitable as is for use over\ntwisted pair. The reason is that the signal energy is concentrated in such a way as to produce\nundesirable radiated emissions from the wire. MLT-3, which is used on 100BASE-TX, is\ndesigned to overcome this problem."
  },
  {
    "text": "The following steps are involved:\n1. NRZI to NRZ conversion. The 4B/5B NRZI signal of the basic 100BASE-X is con-\nverted back to NRZ. 2. Scrambling. The bit stream is scrambled to produce a more uniform spectrum distribution\nfor the next stage. 3. Encoder. The scrambled bit stream is encoded using a scheme known as MLT-3. 4. Driver. The resulting encoding is transmitted."
  },
  {
    "text": "The encoding rules are best explained with reference to the encoder state diagram shown in\nFigure 16.10:\nCHAPTER 16 / HIGH-SPEED LANS\nTable 16.6 shows a portion of the 8B6T code table; the full table maps all possible 8-bit\npatterns into a unique code group of 6 ternary symbols. The mapping was chosen with two\nrequirements in mind: synchronization and DC balance."
  },
  {
    "text": "For synchronization, the codes were\nchosen so to maximize the average number of transitions per code group.The second require-\nment is to maintain DC balance, so that the average voltage on the line is zero. For this pur-\npose all of the selected code groups either have an equal number of positive and negative\nsymbols or an excess of one positive symbol."
  },
  {
    "text": "To maintain balance, a DC balancing algorithm\nis used. In essence, this algorithm monitors the cumulative weight of the of all code groups\ntransmitted on a single pair."
  },
  {
    "text": "Each code group has a weight of 0 or 1.To maintain balance, the\n3 = 25 Mbaud\nStream of 8-bit\n8B (100 Mbps)\n6T (25 Mbaud)\n6T (25 MBaud)\n6T (25 MBaud)\nFigure 16.12\n8B6T Transmission Scheme\nPortion of 8B6T Code Table\n+ 0 - + 0 -\n0 - - 0 + +\n0 - + 0 + -\n+ 0 - - 0 +\n- + 0 + 0 -\n- 0 - 0 + +\n0 - + 0 - +\n- + 0 - 0 +\n0 - + + 0 -\n- - 0 0 + +\n0 - + + + -\n0 - + - 0 +\n+ 0 - 0 - +\n0 - - + + 0\n0 - + 0 0 +\n+ 0 - 0 + -\n+ 0 - - + 0\n0 - - + 0 +\n0 + - 0 0 +\n+ 0 - + - 0\n- + 0 - + 0\n- 0 - + 0 +\n0 + - + + -\n- + 0 + - 0\n0 - + - + 0\n- - 0 + 0 +\n0 + - 0 - +\n0 - + + - 0\n- + 0 0 - +\n- 0 - + + 0\n0 + - 0 + -\n- + 0 0 + -\n- 0 + + 0 -\n- - + + + -\n0 + + 0 - -\n- 0 + - 0 +\n+ - 0 + 0 -\n0 0 - 0 0 +\n+ 0 + 0 - -\n+ - 0 - 0 +\n0 + - + 0 -\n0 0 + 0 + -\n+ + 0 0 - -\n0 + - - 0 +\n- 0 + 0 - +\n0 0 + 0 - +\n0 + + - - 0\n- 0 + 0 + -\n- 0 + - + 0\n+ + - 0 - +\n0 + + - 0 -\n- 0 + + - 0\n+ - 0 - + 0\n+ + - 0 + -\n+ 0 + - 0 -\n+ - 0 + - 0\n0 + - - + 0\n- - + 0 0 +\n+ + 0 - 0 -\n0 + - + - 0\n+ - 0 0 - +\n0 0 - + + -\n+ 0 + - - 0\n+ - 0 0 + -\nCHAPTER 16 / HIGH-SPEED LANS\nEthernet frame, including control fields, is considered “data” for this pzrocess."
  },
  {
    "text": "In addition, there\nare nondata symbols, called “control,” and which include those defined for the 4B/5B code dis-\ncussed previously plus a few other symbols. For a 64-bit block consisting only of data octets, the\nentire block is scrambled.Two synchronization bits, with values 01, are prepended to the scram-\nbled block."
  },
  {
    "text": "For a block consisting a mixture of control and data octets, a 56-bit block is used,\nwhich is scrambled;a 66-bit block is formed by prepending two synchronization bits,with values\n10, and an 8-bit control type field, which defines the control functions included with this block."
  },
  {
    "text": "In both cases, scrambling is performed using the polynomial \nIn Chapter 7, we introduced the parameter a, defined as\nIn that context, we were concerned with a point-to-point link, with a given propagation time\nbetween the two endpoints and a transmission time for either a fixed or average frame size."
  },
  {
    "text": "It\nwas shown that a could be expressed as\nThis parameter is also important in the context of LANs and MANs, and in fact deter-\nmines an upper bound on utilization. Consider a perfectly efficient access mechanism that\nallows only one transmission at a time. As soon as one transmission is over, another station\nbegins transmitting."
  },
  {
    "text": "Furthermore, the transmission is pure data; no overhead bits.What is the\nmaximum possible utilization of the network?"
  },
  {
    "text": "It can be expressed as the ratio of total\nthroughput of the network to its data rate:\nNow define, as in Chapter 7:\nL = average or fixed frame length\nV = velocity of signal propagation\nd = maximum distance between any two stations\nR = data rate of the channel\nLength of data link in bits\nLength of frame in bits\nPropagation time\nTransmission time\n1 + X39 + X58."
  },
  {
    "text": "CHAPTER 16 / HIGH-SPEED LANS\nevents 2 and 3 are interchanged. In both cases, the total time for one “turn”\nbut the transmission time is only 1, for a utilization of \nThe same effect can be seen to apply to a ring network in Figure 16.15."
  },
  {
    "text": "Here we assume\nthat one station transmits and then waits to receive its own transmission before any other sta-\ntion transmits.The identical sequence of events just outlined applies. Typical values of a range from about 0.01 to 0.1 for LANs and 0.1 to well over 1.0 for\nMANs. Table 16.7 gives some representative values for a bus topology."
  },
  {
    "text": "As can be seen, for\nlarger and/or higher-speed networks, utilization suffers. For this reason, the restriction of only\none frame at a time is lifted for high-speed LANs."
  },
  {
    "text": "Figure 16.15\nThe Effect of a on Utilization for Ring\nRepresentative Values of a\nData Rate (Mbps)\nFrame Size (bits)\nNetwork Length (km)\nCHAPTER 16 / HIGH-SPEED LANS\nThis function takes on a maximum over P when\nWe are interested in the maximum because we want to calculate the maximum throughput of\nthe medium."
  },
  {
    "text": "It should be clear that the maximum throughput will be achieved if we maximize\nthe probability of successful seizure of the medium. Therefore, the following rule should be\nenforced: During periods of heavy usage, a station should restrain its offered load to 1/N. (This assumes that each station knows the value of N."
  },
  {
    "text": "To derive an expression for maximum\npossible throughput, we live with this assumption.) On the other hand, during periods of light\nusage, maximum utilization cannot be achieved because the load is too low; this region is not\nof interest here."
  },
  {
    "text": "Now we can estimate the mean length of a contention interval, w, in slots:\nThe summation converges to\nWe can now determine the maximum utilization, which is the length of a transmission inter-\nval as a proportion of a cycle consisting of a transmission and a contention interval:\nFigure 16.16 shows normalized throughput as a function of a for two values of N."
  },
  {
    "text": "Throughput declines as a increases.This is to be expected. Figure 16.16 also shows throughput\nas a function of N. The performance of CSMA/CD decreases because of the increased likeli-\nhood of collision or no transmission."
  },
  {
    "text": "It is interesting to note the asymptotic value of U as N increases.We need to know that\nThen we have\nCHAPTER 16 / HIGH-SPEED LANS\nAs can be seen, the descrambled output is the original sequence. We can represent this process with the use of polynomials. Thus, for this example, the\npolynomial is \nThe input is divided by this polynomial to produce the\nscrambled sequence."
  },
  {
    "text": "At the receiver the received scrambled signal is multiplied by the same\npolynomial to reproduce the original input. Figure 16.18 is an example using the polynomial\nP(X) and an input of 101010100000111.4 The scrambled transmission, produced by dividing\nby P(X) (100101), is 101110001101001. When this number is multiplied by P(X), we get the\nP1X2 = 1 + X3 + X5."
  },
  {
    "text": "= Am1 \u0001 Bm-3 \u0001 Bm-32 \u0001 1Bm-5 \u0001 Bm-52\n= 1Am \u0001 Bm-3 \u0001 Bm-52 \u0001 Bm-3 \u0001 Bm-5\nCm = Bm \u0001 Bm-3 \u0001 Bm-5\n(a) Scrambling\n(b) Descrambling\n1 0 0 1 0 1\n1 0 0 1 0 1\n1 1 1 1 1 0\n1 0 0 1 0 1\n1 0 1 0 1 0 1 0 0 0 0 0 1 1 1 \u0003 \u0003 \u0003 \u0003 \u0003\n1 0 1 1 1 0 0 0 1 1 0 1 0 0 1\n1 1 0 1 1 0\n1 0 0 1 0 1\n1 0 0 1 1 0\n1 0 0 1 0 1\n1 1 0 0 1 1\n1 0 0 1 0 1\n1 0 1 1 0 1\n1 0 0 1 0 1\n1 0 0 0 0 0\n1 0 0 1 0 1\n1 0 1 0 0 0\n1 0 1 1 1 0 0 0 1 1 0 1 0 0 1\n1 0 1 1 1 0 0 0 1 1 0 1 0 0 1\n1 0 1 1 1 0 0 0 1 1 0 1 0 0 1\n1 0 1 1 1 0 0 0 1 1 0 1 0 0 1\n1 0 1 0 1 0 1 0 0 0 0 0 1 1 1\n1 0 0 1 0 1\nFigure 16.18\nExample of Scrambling with P1X2 \u0001 1 \u0002 X\u00033 \u0002 X\u00035\n4We use the convention that the leftmost bit is the first bit presented to the scrambler; thus the bits can be\nSimilarly, the polynomial is converted to a bit string from left to right.The polynomial\nis represented as B0B1B2 Á ."
  },
  {
    "text": "Wireless LAN Applications\n[PAHL95] lists four application areas for wireless LANs: LAN extension, cross-\nbuilding interconnect, nomadic access, and ad hoc networks. Let us consider each of\nthese in turn. LAN Extension Early wireless LAN products, introduced in the late 1980s, were\nmarketed as substitutes for traditional wired LANs."
  },
  {
    "text": "A wireless LAN saves the cost\nof the installation of LAN cabling and eases the task of relocation and other modi-\nfications to network structure. However, this motivation for wireless LANs was\novertaken by events. First, as awareness of the need for LANs became greater,\narchitects designed new buildings to include extensive prewiring for data applica-\ntions."
  },
  {
    "text": "Second, with advances in data transmission technology, there is an increasing\nreliance on twisted pair cabling for LANs and, in particular, Category 3 and Cate-\ngory 5 unshielded twisted pair. Most older buildings are already wired with an abun-\ndance of Category 3 cable, and many newer buildings are prewired with Category 5."
  },
  {
    "text": "Thus, the use of a wireless LAN to replace wired LANs has not happened to any\ngreat extent. However, in a number of environments, there is a role for the wireless LAN as\nan alternative to a wired LAN."
  },
  {
    "text": "Examples include buildings with large open areas,\nsuch as manufacturing plants, stock exchange trading floors, and warehouses; histor-\nical buildings with insufficient twisted pair and where drilling holes for new wiring is\nprohibited; and small offices where installation and maintenance of wired LANs is\nnot economical."
  },
  {
    "text": "In all of these cases, a wireless LAN provides an effective and more\nattractive alternative. In most of these cases, an organization will also have a wired\nLAN to support servers and some stationary workstations. For example, a manufac-\nturing facility typically has an office area that is separate from the factory floor but\nthat must be linked to it for networking purposes."
  },
  {
    "text": "Therefore, typically, a wireless\nLAN will be linked into a wired LAN on the same premises. Thus, this application\narea is referred to as LAN extension. Figure 17.1 indicates a simple wireless LAN configuration that is typical of\nmany environments. There is a backbone wired LAN, such as Ethernet, that sup-\nports servers, workstations, and one or more bridges or routers to link with other\nnetworks."
  },
  {
    "text": "In addition, there is a control module (CM) that acts as an interface to a\nwireless LAN. The control module includes either bridge or router functionality to\nlink the wireless LAN to the backbone. It includes some sort of access control logic,\nsuch as a polling or token-passing scheme, to regulate the access from the end sys-\ntems."
  },
  {
    "text": "Note that some of the end systems are standalone devices, such as a worksta-\ntion or a server. Hubs or other user modules (UMs) that control a number of\nstations off a wired LAN may also be part of the wireless LAN configuration. The configuration of Figure 17.1 can be referred to as a single-cell wireless\nLAN; all of the wireless end systems are within range of a single control module."
  },
  {
    "text": "17.1 / OVERVIEW\nUM \u0001 user module\nCM \u0001 control module\nEthernet switch\nEthernet switch\nBridge or router\nFigure 17.1\nExample Single-Cell Wireless LAN Configuration\nAnother common configuration, suggested by Figure 17.2, is a multiple-cell wireless\nLAN. In this case, there are multiple control modules interconnected by a wired\nLAN."
  },
  {
    "text": "Each control module supports a number of wireless end systems within its\ntransmission range. For example, with an infrared LAN, transmission is limited to a\nsingle room; therefore, one cell is needed for each room in an office building that\nrequires wireless support."
  },
  {
    "text": "Cross-Building Interconnect Another use of wireless LAN technology is to\nconnect LANs in nearby buildings, be they wired or wireless LANs. In this case, a\npoint-to-point wireless link is used between two buildings.The devices so connected\nare typically bridges or routers."
  },
  {
    "text": "This single point-to-point link is not a LAN per se,\nbut it is usual to include this application under the heading of wireless LAN. Nomadic Access Nomadic access provides a wireless link between a LAN hub\nand a mobile data terminal equipped with an antenna, such as a laptop computer or\nnotepad computer."
  },
  {
    "text": "One example of the utility of such a connection is to enable an\nemployee returning from a trip to transfer data from a personal portable computer\nto a server in the office. Nomadic access is also useful in an extended environment\nsuch as a campus or a business operating out of a cluster of buildings."
  },
  {
    "text": "In both of\nCHAPTER 17 / WIRELESS LANS\nFrequency 1\nFrequency 2\nFrequency 3\nEthernet switch\nBridge or router\nFigure 17.2\nExample Multiple-Cell Wireless LAN Configuration\nthese cases, users may move around with their portable computers and may wish\naccess to the servers on a wired LAN from various locations."
  },
  {
    "text": "Ad Hoc Networking An ad hoc network is a peer-to-peer network (no central-\nized server) set up temporarily to meet some immediate need. For example, a group\nof employees, each with a laptop or palmtop computer, may convene in a confer-\nence room for a business or classroom meeting.The employees link their computers\nin a temporary network just for the duration of the meeting."
  },
  {
    "text": "Figure 17.3 suggests the differences between a wireless LAN that supports LAN\nextension and nomadic access requirements and an ad hoc wireless LAN.In the former\ncase,the wireless LAN forms a stationary infrastructure consisting of one or more cells\nwith a control module for each cell.Within a cell, there may be a number of stationary\nend systems. Nomadic stations can move from one cell to another."
  },
  {
    "text": "In contrast, there is\nno infrastructure for an ad hoc network. Rather, a peer collection of stations within\nrange of each other may dynamically configure themselves into a temporary network."
  },
  {
    "text": "Wireless LAN Requirements\nA wireless LAN must meet the same sort of requirements typical of any LAN,\nincluding high capacity, ability to cover short distances, full connectivity among\nattached stations, and broadcast capability."
  },
  {
    "text": "In addition, there are a number of\n17.1 / OVERVIEW\nHigh-speed backbone wired LAN\n(b) Ad hoc LAN\n(a) Infrastructure wireless LAN\nFigure 17.3\nWireless LAN Configurations\nrequirements specific to the wireless LAN environment."
  },
  {
    "text": "The following are among\nthe most important requirements for wireless LANs:\n• Throughput: The medium access control protocol should make as efficient use\nas possible of the wireless medium to maximize capacity. • Number of nodes: Wireless LANs may need to support hundreds of nodes\nacross multiple cells."
  },
  {
    "text": "• Connection to backbone LAN: In most cases, interconnection with stations on\na wired backbone LAN is required. For infrastructure wireless LANs, this is\neasily accomplished through the use of control modules that connect to both\nCHAPTER 17 / WIRELESS LANS\ntypes of LANs. There may also need to be accommodation for mobile users\nand ad hoc wireless networks."
  },
  {
    "text": "• Service area: A typical coverage area for a wireless LAN has a diameter of\n100 to 300 m. • Battery power consumption: Mobile workers use battery-powered worksta-\ntions that need to have a long battery life when used with wireless adapters."
  },
  {
    "text": "This suggests that a MAC protocol that requires mobile nodes to monitor\naccess points constantly or engage in frequent handshakes with a base station\nis inappropriate. Typical wireless LAN implementations have features to\nreduce power consumption while not using the network, such as a sleep mode."
  },
  {
    "text": "• Transmission robustness and security: Unless properly designed, a wireless\nLAN may be especially vulnerable to interference and eavesdropping. The\ndesign of a wireless LAN must permit reliable transmission even in a noisy\nenvironment and should provide some level of security from eavesdropping."
  },
  {
    "text": "• Collocated network operation: As wireless LANs become more popular, it is\nquite likely for two or more wireless LANs to operate in the same area or in\nsome area where interference between the LANs is possible. Such interfer-\nence may thwart the normal operation of a MAC algorithm and may allow\nunauthorized access to a particular LAN."
  },
  {
    "text": "• License-free operation: Users would prefer to buy and operate wireless LAN\nproducts without having to secure a license for the frequency band used by the\n• Handoff/roaming: The MAC protocol used in the wireless LAN should enable\nmobile stations to move from one cell to another."
  },
  {
    "text": "• Dynamic configuration: The MAC addressing and network management\naspects of the LAN should permit dynamic and automated addition, deletion,\nand relocation of end systems without disruption to other users."
  },
  {
    "text": "17.2 WIRELESS LAN TECHNOLOGY\nWireless LANs are generally categorized according to the transmission technique that\nis used.All current wireless LAN products fall into one of the following categories:\n• Infrared (IR) LANs: An individual cell of an IR LAN is limited to a single\nroom, because infrared light does not penetrate opaque walls."
  },
  {
    "text": "• Spread spectrum LANs: This type of LAN makes use of spread spectrum trans-\nmission technology. In most cases, these LANs operate in the ISM (industrial,\nscientific, and medical) microwave bands so that no Federal Communications\nCommission (FCC) licensing is required for their use in the United States."
  },
  {
    "text": "Infrared LANs\nOptical wireless communication in the infrared portion of the spectrum is com-\nmonplace in most homes, where it is used for a variety of remote control devices. 17.2 / WIRELESS LAN TECHNOLOGY\nMore recently, attention has turned to the use of infrared technology to construct\nwireless LANs."
  },
  {
    "text": "In this section, we begin with a comparison of the characteristics of\ninfrared LANs with those of radio LANs and then look at some of the details of\ninfrared LANs. Strengths and Weaknesses Infrared offers a number of significant advantages\nover microwave approaches. The spectrum for infrared is virtually unlimited, which\npresents the possibility of achieving extremely high data rates."
  },
  {
    "text": "The infrared spec-\ntrum is unregulated worldwide, which is not true of some portions of the microwave\nIn addition, infrared shares some properties of visible light that make it attrac-\ntive for certain types of LAN configurations. Infrared light is diffusely reflected by\nlight-colored objects; thus it is possible to use ceiling reflection to achieve coverage\nof an entire room."
  },
  {
    "text": "Infrared light does not penetrate walls or other opaque objects. This has two advantages: First, infrared communications can be more easily secured\nagainst eavesdropping than microwave; and second, a separate infrared installation\ncan be operated in every room in a building without interference, enabling the con-\nstruction of very large infrared LANs."
  },
  {
    "text": "Another strength of infrared is that the equipment is relatively inexpensive\nand simple. Infrared data transmission typically uses intensity modulation, so that\nIR receivers need to detect only the amplitude of optical signals, whereas most\nmicrowave receivers must detect frequency or phase. The infrared medium also exhibits some drawbacks."
  },
  {
    "text": "Many indoor environ-\nments experience rather intense infrared background radiation, from sunlight and\nindoor lighting. This ambient radiation appears as noise in an infrared receiver,\nrequiring the use of transmitters of higher power than would otherwise be required\nand also limiting the range."
  },
  {
    "text": "However, increases in transmitter power are limited by\nconcerns of eye safety and excessive power consumption. Transmission Techniques Three alternative transmission techniques are in\ncommon use for IR data transmission: the transmitted signal can be focused and\naimed (as in a remote TV control); it can be radiated omnidirectionally; or it can be\nreflected from a light-colored ceiling."
  },
  {
    "text": "Directed-beam IR can be used to create point-to-point links. In this mode, the\nrange depends on the emitted power and on the degree of focusing.A focused IR data\nlink can have a range of kilometers.Such ranges are not needed for constructing indoor\nwireless LANs."
  },
  {
    "text": "However, an IR link can be used for cross-building interconnect\nbetween bridges or routers located in buildings within a line of sight of each other. One indoor use of point-to-point IR links is to set up a ring LAN. A set of IR\ntransceivers can be positioned so that data circulate around them in a ring configu-\nration."
  },
  {
    "text": "Each transceiver supports a workstation or a hub of stations, with the hub\nproviding a bridging function. An omnidirectional configuration involves a single base station that is within\nline of sight of all other stations on the LAN.Typically, this station is mounted on the\nceiling. The base station acts as a multiport repeater."
  },
  {
    "text": "The ceiling transmitter broad-\ncasts an omnidirectional signal that can be received by all of the other IR trans-\nceivers in the area. These other transceivers transmit a directional beam aimed at\nthe ceiling base unit. CHAPTER 17 / WIRELESS LANS\nIn a diffused configuration, all of the IR transmitters are focused and aimed at\na point on a diffusely reflecting ceiling."
  },
  {
    "text": "IR radiation striking the ceiling is reradiated\nomnidirectionally and picked up by all of the receivers in the area. Spread Spectrum LANs\nCurrently, the most popular type of wireless LAN uses spread spectrum techniques."
  },
  {
    "text": "Configuration Except for quite small offices, a spread spectrum wireless LAN\nmakes use of a multiple-cell arrangement, as was illustrated in Figure 17.2.Adjacent\ncells make use of different center frequencies within the same band to avoid inter-\nWithin a given cell, the topology can be either hub or peer to peer. The hub\ntopology is indicated in Figure 17.2."
  },
  {
    "text": "In a hub topology, the hub is typically mounted\non the ceiling and connected to a backbone wired LAN to provide connectivity to\nstations attached to the wired LAN and to stations that are part of wireless LANs in\nother cells. The hub may also control access, as in the IEEE 802.11 point coordina-\ntion function, described subsequently."
  },
  {
    "text": "The hub may also control access by acting as\na multiport repeater with similar functionality to Ethernet multiport repeaters. In\nthis case, all stations in the cell transmit only to the hub and receive only from the\nhub."
  },
  {
    "text": "Alternatively, and regardless of access control mechanism, each station may\nbroadcast using an omnidirectional antenna so that all other stations in the cell may\nreceive; this corresponds to a logical bus configuration. One other potential function of a hub is automatic handoff of mobile stations."
  },
  {
    "text": "At any time, a number of stations are dynamically assigned to a given hub based on\nproximity.When the hub senses a weakening signal, it can automatically hand off to\nthe nearest adjacent hub. A peer-to-peer topology is one in which there is no hub.A MAC algorithm such\nas CSMA is used to control access.This topology is appropriate for ad hoc LANs."
  },
  {
    "text": "Transmission Issues A desirable,though not necessary,characteristic of a wireless\nLAN is that it be usable without having to go through a licensing procedure. The\nlicensing regulations differ from one country to another,which complicates this objec-\ntive."
  },
  {
    "text": "Within the United States, the FCC has authorized two unlicensed applications\nwithin the ISM band: spread spectrum systems, which can operate at up to 1 watt, and\nvery low power systems, which can operate at up to 0.5 watts. Since the FCC opened\nup this band, its use for spread spectrum wireless LANs has become popular."
  },
  {
    "text": "In the United States, three microwave bands have been set aside for unlicensed\nspread spectrum use:902–928 MHz (915-MHz band),2.4–2.4835 GHz (2.4-GHz band),\nand 5.725–5.825 GHz (5.8-GHz band).Of these,the 2.4 GHz is also used in this manner\nin Europe and Japan.The higher the frequency, the higher the potential bandwidth, so\nthe three bands are of increasing order of attractiveness from a capacity point of view."
  },
  {
    "text": "There are a number of\ndevices that operate at around 900 MHz,including cordless telephones,wireless micro-\nphones, and amateur radio.There are fewer devices operating at 2.4 GHz; one notable\nexample is the microwave oven, which tends to have greater leakage of radiation with\nincreasing age.At present there is little competition at the 5.8-GHz-band; however, the\nhigher the frequency band, in general the more expensive the equipment."
  },
  {
    "text": "17.3 / IEEE 802.11 ARCHITECTURE AND SERVICES\n17.3 IEEE 802.11 ARCHITECTURE AND SERVICES\nIn 1990, the IEEE 802 Committee formed a new working group, IEEE 802.11, specifi-\ncally devoted to wireless LANs,with a charter to develop a MAC protocol and physical\nmedium specification.The initial interest was in developing a wireless LAN operating\nin the ISM (industrial, scientific, and medical) band."
  },
  {
    "text": "IEEE 802.11 Standards\nMedium access control (MAC): One common MAC for WLAN applications\nIEEE 802.11\nPhysical layer: Infrared at 1 and 2 Mbps\nPhysical layer: 2.4-GHz FHSS at 1 and 2 Mbps\nPhysical layer: 2.4-GHz DSSS at 1 and 2 Mbps\nIEEE 802.11a\nPhysical layer: 5-GHz OFDM at rates from 6 to 54 Mbps\nIEEE 802.11b\nPhysical layer: 2.4-GHz DSSS at 5.5 and 11 Mbps\nIEEE 802.11c\nBridge operation at 802.11 MAC layer\nIEEE 802.11d\nPhysical layer: Extend operation of 802.11 WLANs to new regulatory domains \n(countries)\nIEEE 802.11e\nMAC: Enhance to improve quality of service and enhance security mechanisms\nIEEE 802.11f\nRecommended practices for multivendor access point interoperability\nIEEE 802.11g\nPhysical layer: Extend 802.11b to data rates \nIEEE 802.11h\nPhysical/MAC: Enhance IEEE 802.11a to add indoor and outdoor channel selection and \nto improve spectrum and transmit power management\nIEEE 802.11i\nMAC: Enhance security and authentication mechanisms\nIEEE 802.11j\nPhysical: Enhance IEEE 802.11a to conform to Japanese requirements\nIEEE 802.11k\nRadio resource measurement enhancements to provide interface to higher layers for \nradio and network measurements\nIEEE 802.11m\nMaintenance of IEEE 802.11-1999 standard with technical and editorial corrections\nIEEE 802.11n\nPhysical/MAC: Enhancements to enable higher throughput\nIEEE 802.11p\nPhysical/MAC:Wireless access in vehicular environments\nIEEE 802.11r\nPhysical/MAC: Fast roaming (fast BSS transition)\nIEEE 802.11s\nPhysical/MAC: ESS mesh networking\nIEEE 802.11,2\nRecommended practice for the evaluation of 802.11 wireless performance\nIEEE 802.11u\nPhysical/MAC: Interworking with external networks\nCHAPTER 17 / WIRELESS LANS\nIEEE 802.11 Terminology\nAccess point (AP)\nAny entity that has station functionality and provides access to the distribution system \nvia the wireless medium for associated stations\nBasic service set\nA set of stations controlled by a single coordination function\nCoordination\nThe logical function that determines when a station operating within a BSS is permitted \nto transmit and may be able to receive PDUs\nDistribution system\nA system used to interconnect a set of BSSs and integrated LANs to create an (ESS)\nExtended service \nA set of one or more interconnected BSSs and integrated LANs that appear as a \nsingle BSS to the LLC layer at any station associated with one of these BSSs\nMAC protocol data\nThe unit of data exchanged between two peer MAC entites using the \nunit (MPDU)\nservices of the physical layer\nMAC service data\nInformation that is delivered as a unit between MAC users\nunit (MSDU)\nAny device that contains an IEEE 802.11 conformant MAC and physical layer\nThe Wi-Fi Alliance\nThe first 802.11 standard to gain broad industry acceptance was 802.11b."
  },
  {
    "text": "Although\n802.11b products are all based on the same standard, there is always a concern\nwhether products from different vendors will successfully interoperate.To meet this\nconcern, the Wireless Ethernet Compatibility Alliance (WECA), an industry con-\nsortium, was formed in 1999."
  },
  {
    "text": "This organization, subsequently renamed the Wi-Fi\n(Wireless Fidelity) Alliance, created a test suite to certify interoperability for\n802.11b products. The term used for certified 802.11b products is Wi-Fi. Wi-Fi certi-\nfication has been extended to 802.11g products,. The Wi-Fi Alliance has also devel-\noped a certification process for 802.11a products, called Wi-Fi5."
  },
  {
    "text": "The Wi-Fi Alliance\nis concerned with a range of market areas for WLANs, including enterprise, home,\nand hot spots. IEEE 802.11 Architecture\nFigure 17.4 illustrates the model developed by the 802.11 working group."
  },
  {
    "text": "The\nsmallest building block of a wireless LAN is a basic service set (BSS), which con-\nsists of some number of stations executing the same MAC protocol and competing\nfor access to the same shared wireless medium. A BSS may be isolated or it may\nconnect to a backbone distribution system (DS) through an access point (AP). The AP functions as a bridge and a relay point."
  },
  {
    "text": "In a BSS, client stations do not\ncommunicate directly with one another. Rather, if one station in the BSS wants to\ncommunicate with another station in the same BSS, the MAC frame is first sent\nfrom the originating station to the AP, and then from the AP to the destination\nstation."
  },
  {
    "text": "Similarly, a MAC frame from a station in the BSS to a remote station is\nsent from the local station to the AP and then relayed by the AP over the DS on\nits way to the destination station. The BSS generally corresponds to what is\nreferred to as a cell in the literature.The DS can be a switch, a wired network, or a\nwireless network."
  },
  {
    "text": "17.3 / IEEE 802.11 ARCHITECTURE AND SERVICES\nservice set\nservice set\nSTA \u0001 station\nAP \u0001 access point\nservice set\nDistribution system\nIEEE 802.x LAN\nFigure 17.4\nIEEE 802.11 Architecture\nWhen all the stations in the BSS are mobile stations, with no connection to\nother BSSs, the BSS is called an independent BSS (IBSS).An IBSS is typically an ad\nhoc network."
  },
  {
    "text": "In an IBSS, the stations all communicate directly, and no AP is\nA simple configuration is shown in Figure 17.4, in which each station belongs\nto a single BSS; that is, each station is within wireless range only of other stations\nwithin the same BSS. It is also possible for two BSSs to overlap geographically, so\nthat a single station could participate in more than one BSS."
  },
  {
    "text": "Further, the association\nbetween a station and a BSS is dynamic. Stations may turn off, come within range,\nand go out of range. An extended service set (ESS) consists of two or more basic service sets inter-\nconnected by a distribution system. Typically, the distribution system is a wired\nbackbone LAN but can be any communications network."
  },
  {
    "text": "Figure 17.4 indicates that an access point (AP) is implemented as part of a sta-\ntion; the AP is the logic within a station that provides access to the DS by providing\nDS services in addition to acting as a station.To integrate the IEEE 802.11 architec-\nture with a traditional wired LAN, a portal is used."
  },
  {
    "text": "The portal logic is implemented\nin a device, such as a bridge or router, that is part of the wired LAN and that is\nattached to the DS. IEEE 802.11 Services\nIEEE 802.11 defines nine services that need to be provided by the wireless LAN to\nprovide functionality equivalent to that which is inherent to wired LANs. Table 17.3\nlists the services and indicates two ways of categorizing them."
  },
  {
    "text": "CHAPTER 17 / WIRELESS LANS\nIEEE 802.11 Services\nUsed to Support\nAssociation\nDistribution system\nMSDU delivery\nAuthentication\nLAN access and security\nDeauthentication\nLAN access and security\nDissassociation\nDistribution system\nMSDU delivery\nDistribution\nDistribution system\nMSDU delivery\nIntegration\nDistribution system\nMSDU delivery\nMSDU delivery\nMSDU delivery\nLAN access and security\nReassocation\nDistribution system\nMSDU delivery\n1."
  },
  {
    "text": "The service provider can be either the station or the DS. Station services are\nimplemented in every 802.11 station, including AP stations. Distribution ser-\nvices are provided between BSSs; these services may be implemented in an AP\nor in another special-purpose device attached to the distribution system. 2. Three of the services are used to control IEEE 802.11 LAN access and confi-\ndentiality."
  },
  {
    "text": "Six of the services are used to support delivery of MAC service data\nunits (MSDUs) between stations. The MSDU is a block of data passed down\nfrom the MAC user to the MAC layer; typically this is a LLC PDU. If the\nMSDU is too large to be transmitted in a single MAC frame, it may be frag-\nmented and transmitted in a series of MAC frames. Fragmentation is discussed\nin Section 17.4."
  },
  {
    "text": "Following the IEEE 802.11 document, we next discuss the services in an order\ndesigned to clarify the operation of an IEEE 802.11 ESS network. MSDU delivery,\nwhich is the basic service, has already been mentioned. Services related to security\nare discussed in Section17.6."
  },
  {
    "text": "Distribution of Messages within a DS The two services involved with the dis-\ntribution of messages within a DS are distribution and integration."
  },
  {
    "text": "Distribution is the\nprimary service used by stations to exchange MAC frames when the frame must tra-\nverse the DS to get from a station in one BSS to a station in another BSS.For example,\nsuppose a frame is to be sent from station 2 (STA 2) to STA 7 in Figure 17.4.The frame\nis sent from STA 2 to STA 1, which is the AP for this BSS.The AP gives the frame to\nthe DS,which has the job of directing the frame to the AP associated with STA 5 in the\ntarget BSS."
  },
  {
    "text": "STA 5 receives the frame and forwards it to STA 7. How the message is\ntransported through the DS is beyond the scope of the IEEE 802.11 standard. If the two stations that are communicating are within the same BSS, then the\ndistribution service logically goes through the single AP of that BSS."
  },
  {
    "text": "The integration service enables transfer of data between a station on an IEEE\n802.11 LAN and a station on an integrated IEEE 802.x LAN."
  },
  {
    "text": "The term integrated\n17.4 / IEEE 802.11 MEDIUM ACCESS CONTROL\nrefers to a wired LAN that is physically connected to the DS and whose stations\nmay be logically connected to an IEEE 802.11 LAN via the integration service.The\nintegration service takes care of any address translation and media conversion logic\nrequired for the exchange of data."
  },
  {
    "text": "Association-Related Services The primary purpose of the MAC layer is to\ntransfer MSDUs between MAC entities; this purpose is fulfilled by the distribution\nservice. For that service to function, it requires information about stations within the\nESS that is provided by the association-related services."
  },
  {
    "text": "Before the distribution ser-\nvice can deliver data to or accept data from a station, that station must be associated."
  },
  {
    "text": "Before looking at the concept of association, we need to describe the concept of\nmobility.The standard defines three transition types, based on mobility:\n• No transition: A station of this type is either stationary or moves only within\nthe direct communication range of the communicating stations of a single BSS."
  },
  {
    "text": "• BSS transition: This is defined as a station movement from one BSS to another\nBSS within the same ESS. In this case, delivery of data to the station requires\nthat the addressing capability be able to recognize the new location of the sta-\n• ESS transition: This is defined as a station movement from a BSS in one ESS\nto a BSS within another ESS."
  },
  {
    "text": "This case is supported only in the sense that the\nstation can move. Maintenance of upper-layer connections supported by\n802.11 cannot be guaranteed. In fact, disruption of service is likely to occur. To deliver a message within a DS, the distribution service needs to know\nwhere the destination station is located."
  },
  {
    "text": "Specifically, the DS needs to know the iden-\ntity of the AP to which the message should be delivered in order for that message to\nreach the destination station."
  },
  {
    "text": "To meet this requirement, a station must maintain an\nassociation with the AP within its current BSS.Three services relate to this require-\n• Association: Establishes an initial association between a station and an AP.Before\na station can transmit or receive frames on a wireless LAN,its identity and address\nmust be known."
  },
  {
    "text": "For this purpose, a station must establish an association with an\nAP within a particular BSS. The AP can then communicate this information to\nother APs within the ESS to facilitate routing and delivery of addressed frames. • Reassociation: Enables an established association to be transferred from one\nAP to another, allowing a mobile station to move from one BSS to another."
  },
  {
    "text": "• Disassociation: A notification from either a station or an AP that an existing\nassociation is terminated.A station should give this notification before leaving\nan ESS or shutting down. However, the MAC management facility protects\nitself against stations that disappear without notification."
  },
  {
    "text": "17.4 IEEE 802.11 MEDIUM ACCESS CONTROL\nThe IEEE 802.11 MAC layer covers three functional areas: reliable data delivery,\naccess control, and security.This section covers the first two topics. CHAPTER 17 / WIRELESS LANS\nReliable Data Delivery\nAs with any wireless network, a wireless LAN using the IEEE 802.11 physical and\nMAC layers is subject to considerable unreliability."
  },
  {
    "text": "Noise, interference, and other\npropagation effects result in the loss of a significant number of frames. Even with\nerror correction codes, a number of MAC frames may not successfully be received. This situation can be dealt with by reliability mechanisms at a higher layer, such as\nTCP. However, timers used for retransmission at higher layers are typically on the\norder of seconds."
  },
  {
    "text": "It is therefore more efficient to deal with errors at the MAC level. For this purpose, IEEE 802.11 includes a frame exchange protocol. When a station\nCHAPTER 17 / WIRELESS LANS\nWait for frame\nto transmit\nWait until current\ntransmission ends\nExponential backoff\nwhile medium idle\nTransmit frame\nTransmit frame\nFigure 17.6\nIEEE 802.11 Medium Access Control Logic\n2."
  },
  {
    "text": "If the medium is busy (either because the station initially finds the medium busy\nor because the medium becomes busy during the IFS idle time), the station\ndefers transmission and continues to monitor the medium until the current trans-\nmission is over. 3. Once the current transmission is over, the station delays another IFS."
  },
  {
    "text": "If the\nmedium remains idle for this period, then the station backs off a random amount\nof time and again senses the medium. If the medium is still idle, the station may\ntransmit.During the backoff time,if the medium becomes busy,the backoff timer\nis halted and resumes when the medium becomes idle. 4."
  },
  {
    "text": "If the transmission is unsuccessful, which is determined by the absence of an\nacknowledgement, then it is assumed that a collision has occurred. To ensure that backoff maintains stability, binary exponential backoff,\ndescribed in Chapter 16, is used. Binary exponential backoff provides a means of\n17.4 / IEEE 802.11 MEDIUM ACCESS CONTROL\nhandling a heavy load."
  },
  {
    "text": "Repeated failed attempts to transmit result in longer and\nlonger backoff times, which helps to smooth out the load. Without such a backoff,\nthe following situation could occur:Two or more stations attempt to transmit at the\nsame time, causing a collision. These stations then immediately attempt to retrans-\nmit, causing a new collision."
  },
  {
    "text": "The preceding scheme is refined for DCF to provide priority-based access by\nthe simple expedient of using three values for IFS:\n• SIFS (short IFS): The shortest IFS, used for all immediate response actions, as\nexplained in the following discussion\n• PIFS (point coordination function IFS): A midlength IFS, used by the central-\nized controller in the PCF scheme when issuing polls\n• DIFS (distributed coordination function IFS): The longest IFS, used as a min-\nimum delay for asynchronous frames contending for access\nFigure 17.7a illustrates the use of these time values."
  },
  {
    "text": "Any station using SIFS to determine transmission opportunity has, in effect, the\nhighest priority, because it will always gain access in preference to a station waiting\nan amount of time equal to PIFS or DIFS.The SIFS is used in the following circum-\nDefer access\nImmediate access\nwhen medium is free\nlonger than DIFS\nBusy Medium\nBackoff window\nContention window\nSelect slot using binary exponential backoff\n(a) Basic access method\nPCF (optional)\nContention-free\nVariable length\n(per superframe)\nBusy medium\nPCF (optional)\nContention period\nSuperframe (fixed nominal length)\nSuperframe (fixed nominal length)\nForeshortened actual\nsuperframe period\nasynchronous\ntraffic defers\n(b) PCF superframe construction\nFigure 17.7\nIEEE 802.11 MAC Timing\nCHAPTER 17 / WIRELESS LANS\nCHAPTER 17 / WIRELESS LANS\nWe now look at the three MAC frame types."
  },
  {
    "text": "Control Frames Control frames assist in the reliable delivery of data frames. There are six control frame subtypes:\n• Power Save-Poll (PS-Poll): This frame is sent by any station to the station that\nincludes the AP (access point). Its purpose is to request that the AP transmit a\nframe that has been buffered for this station while the station was in power-\nsaving mode."
  },
  {
    "text": "• Request to Send (RTS): This is the first frame in the four-way frame exchange\ndiscussed under the subsection on reliable data delivery at the beginning of\nSection 17.3. The station sending this message is alerting a potential destina-\ntion, and all other stations within reception range, that it intends to send a data\nframe to that destination."
  },
  {
    "text": "• Clear to Send (CTS): This is the second frame in the four-way exchange. It is\nsent by the destination station to the source station to grant permission to send\na data frame. CHAPTER 17 / WIRELESS LANS\nRecall from Chapter 9 that a DSSS system makes use of a chipping code, or\npseudonoise sequence, to spread the data rate and hence the bandwidth of the sig-\nnal."
  },
  {
    "text": "For IEEE 802.11, a Barker sequence is used. A Barker sequence is a binary \nof length n with the\nproperty that its autocorrelation values \nAutocorrelation is defined by the following formula:\nare the bits of the sequence.1\nFurther, the Barker property is preserved under the following transformations:\nas well as under compositions of these transformations."
  },
  {
    "text": "Only the following Barker\nsequences are known:\nIEEE 802.11 DSSS uses the 11-chip Barker sequence. Each data binary 1 is\nmapped into the sequence \nand each binary 0 is\nmapped into the sequence \nImportant characteristics of Barker sequences are their robustness against\ninterference and their insensitivity to multipath propagation."
  },
  {
    "text": "Frequency-Hopping Spread Spectrum Recall from Chapter 9 that a FHSS\nsystem makes use of a multiple channels, with the signal hopping from one channel\nto another based on a pseudonoise sequence. In the case of the IEEE 802.11\nscheme, 1-MHz channels are used. The details of the hopping scheme are adjustable. For example, the\nminimum hop rate for the United States is 2.5 hops per second."
  },
  {
    "text": "The minimum\n5- + - - + - - - + + +6. 5+ - + + - + + + - - -6,\n+ + + + + - - + + - + - +\n+ - + + - + + + - - -\n+ + + - - + -\ns1t2 : -s1t2\ns1t2 : 1-12ts1t2 and s1t2 : -s1n - 1 - t2\nƒ t ƒ … 1n - 12. ƒ R1t2ƒ … 1\n17.5 / IEEE 802.11 PHYSICAL LAYER\nhop distance in frequency is 6 MHz in North America and most of Europe and \n5 MHz in Japan."
  },
  {
    "text": "For modulation, the FHSS scheme uses two-level Gaussian FSK for the 1-Mbps\nsystem. The bits zero and one are encoded as deviations from the current carrier\nfrequency. For 2 Mbps, a four-level GFSK scheme is used, in which four different\ndeviations from the center frequency define the four 2-bit combinations."
  },
  {
    "text": "Infrared The IEEE 802.11 infrared scheme is omnidirectional rather than point to\npoint.A range of up to 20 m is possible.The modulation scheme for the 1-Mbps data\nrate is known as 16-PPM (pulse position modulation)."
  },
  {
    "text": "In pulse position modulation\n(PPM), the input value determines the position of a narrow pulse relative to the\nclocking time.The advantage of PPM is that it reduces the output power required of\nthe infrared source. For 16-PPM, each group of 4 data bits is mapped into one of the\n16-PPM symbols; each symbol is a string of 16 pulse positions."
  },
  {
    "text": "Each 16-pulse string\nconsists of fifteen 0s and one binary 1. For the 2-Mbps data rate, each group of 2\ndata bits is mapped into one of four 4-pulse-position sequences. Each sequence con-\nsists of three 0s and one binary 1.The actual transmission uses an intensity modula-\ntion scheme, in which the presence of a signal corresponds to a binary 1 and the\nabsence of a signal corresponds to binary 0."
  },
  {
    "text": "IEEE 802.11a\nChannel Structure IEEE 802.11a makes use of the frequency band called the\nUniversal Networking Information Infrastructure (UNNI), which is divided into\nthree parts. The UNNI-1 band (5.15 to 5.25 GHz) is intended for indoor use; the\nUNNI-2 band (5.25 to 5.35 GHz) can be used either indoor or outdoor, and the\nUNNI-3 band (5.725 to 5.825 GHz) is for outdoor use."
  },
  {
    "text": "IEEE 80211.a has several advantages over IEEE 802.11b/g:\n• IEEE 802.11a utilizes more available bandwidth than 802.11b/g. Each UNNI\nband provides four nonoverlapping channels for a total of 12 across the allo-\ncated spectrum. • IEEE 802.11a provides much higher data rates than 802.11b and the same\nmaximum data rate as 802.11g."
  },
  {
    "text": "• IEEE 802.11a uses a different, relatively uncluttered frequency spectrum \nCoding and Modulation Unlike the 2.4-GHz specifications, IEEE 802.11 does\nnot use a spread spectrum scheme but rather uses orthogonal frequency division\nmultiplexing (OFDM)."
  },
  {
    "text": "Recall from Section 11.2 that OFDM, also called multicar-\nrier modulation, uses multiple carrier signals at different frequencies, sending some\nof the bits on each channel.This is similar to FDM. However, in the case of OFDM,\nall of the subchannels are dedicated to a single data source. To complement OFDM, the specification supports the use of a variety of\nmodulation and coding alternatives."
  },
  {
    "text": "Subcarrier frequency\nCHAPTER 17 / WIRELESS LANS\nPLCP preamble\nPLCP Header\nPLCP Preamble\n(BPSK, r = 1/2)\n(rate is indicated in signal)\n1 Mbps DBPSK\n2 Mbps DQPSK\nVariable number bits at\n2 Mbps DQPSK; 5.5 Mbps DBPSK; 11 Mbps DQPSK\nVariable number of OFDM symbols\n(a) IEEE 802.11a physical PDU\n(b) IEEE 802.11b physical PDU\n12 OFDM symbols\nFigure 17.9\nIEEE 802 Physical-Level Protocol Data Units\nspacing is 0.3125 MHz., and each subcarrier transmits at a rate of 250 kbaud."
  },
  {
    "text": "A\nconvolutional code at a rate of 1/2, 2/3, or 3/4 provides forward error correction. The combination of modulation technique and coding rate determines the data\nPhysical-Layer Frame Structure The primary purpose of the physical layer is\nto transmit medium access control (MAC) protocol data units (MPDUs) as directed\nby the 802.11 MAC layer."
  },
  {
    "text": "The PLCP sublayer provides the framing and signaling\nbits needed for the OFDM transmission and the PDM sublayer performs the actual\nencoding and transmission operation. Figure 17.9a illustrates the physical layer frame format. The PLCP Preamble\nfield enables the receiver to acquire an incoming OFDM signal and synchronize the\ndemodulator."
  },
  {
    "text": "The Preamble and Signal fields are transmitted at 6 Mbps using\nBPSK.The signal field consists of the following subfields:\n• Rate: Specifies the data rate at which the data field portion of the frame is\ntransmitted\n• r: reserved for future use\n• Length: Number of octets in the MAC PDU\n17.5 / IEEE 802.11 PHYSICAL LAYER\n• P: An even parity bit for the 17 bits in the Rate, r, and Length subfields\n• Tail: Consists of 6 zero bits appended to the symbol to bring the convolutional\nencoder to zero state\nThe Data field consists of a variable number of OFDM symbols transmitted at\nthe data rate specified in the Rate subfield."
  },
  {
    "text": "Prior to transmission, all of the bits of\nCHAPTER 17 / WIRELESS LANS\n(discussed in [STAL05]). The output of the mapping, plus the two additional\nbits, forms the input to a QPSK modulator. An optional alternative to CCK is known as packet binary convolutional cod-\ning (PBCC). PBCC provides for potentially more efficient transmission at the cost\nof increased computation at the receiver."
  },
  {
    "text": "PBCC was incorporated into 802.11b in\nanticipation of its need for higher data rates for future enhancements to the stan-\nPhysical-Layer Frame Structure IEEE 802.11b defines two physical-layer\nframe formats, which differ only in the length of the preamble.The long preamble of\n144 bits is the same as used in the original 802.11 DSSS scheme and allows interop-\nerability with other legacy systems.The short preamble of 72 bits provides improved\nthroughput efficiency."
  },
  {
    "text": "Figure 17.9b illustrates the physical layer frame format with\nthe short preamble. The PLCP Preamble field enables the receiver to acquire an\nincoming signal and synchronize the demodulator. It consists of two subfields: a \n56-bit Sync field for synchronization, and a 16-bit start-of-frame delimiter (SFD)."
  },
  {
    "text": "The preamble is transmitted at 1 Mbps using differential BPSK and Barker code\nFollowing the preamble is the PLCP Header, which is transmitted at 2 Mbps\nusing DQPSK. It consists of the following subfields:\n• Signal: Specifies the data rate at which the MPDU portion of the frame is\ntransmitted. • Service: Only 3 bits of this 8-bit field are used in 802.11b."
  },
  {
    "text": "One bit indicates\nwhether the transmit frequency and symbol clocks use the same local oscilla-\ntor.Another bit indicates whether CCK or PBCC encoding is used.A third bit\nacts as an extension to the Length subfield. • Length: Indicates the length of the MPDU field by specifying the number of\nmicroseconds necessary to transmit the MPDU."
  },
  {
    "text": "Given the data rate, the length\nof the MPDU in octets can be calculated. For any data rate over 8 Mbps, the\nlength extension bit from the Service field is needed to resolve a rounding\n• CRC: A 16-bit error detection code used to protect the Signal, Service, and\nLength fields. The MPDU field consists of a variable number of bits transmitted at the\ndata rate specified in the Signal subfield."
  },
  {
    "text": "Prior to transmission, all of the bits of\nCHAPTER 17 / WIRELESS LANS\nAccess and Privacy Services\nIEEE 802.11 defines three services that provide a wireless LAN with these two fea-\n• Authentication: Used to establish the identity of stations to each other."
  },
  {
    "text": "In a\nwired LAN, it is generally assumed that access to a physical connection con-\nveys authority to connect to the LAN.This is not a valid assumption for a wire-\nless LAN, in which connectivity is achieved simply by having an attached\nantenna that is properly tuned. The authentication service is used by stations\nto establish their identity with stations they wish to communicate with."
  },
  {
    "text": "IEEE\n802.11 supports several authentication schemes and allows for expansion of\nthe functionality of these schemes.The standard does not mandate any partic-\nular authentication scheme, which could range from relatively unsecure hand-\nshaking to public-key encryption schemes."
  },
  {
    "text": "[KAHN97] provides\ngood coverage of infrared LANs. [ROSH04] provides a good up-to-date technical treatment of IEEE 802.11. Another\nuseful book is [BING02]. [OHAR99] is an excellent technical treatment of IEEE 802.11. Another good treatment is [LARO02]. [CROW97] is a good survey article on the 802.11\nstandards but does not cover IEEE 802.11a and IEEE 802.11b."
  },
  {
    "text": "New York:Wiley, 2002. Crow, B., et al. “IEEE 802.11 Wireless Local Area Networks.” IEEE\nCommunications Magazine, September 1997. Geier, J. “Enabling Fast Wireless Networks with OFDM.” Communications\nSystem Design, February 2001. (www.csdmag.com)\nKahn, J., and Barry, J.“Wireless Infrared Communications.” Proceedings of the\nIEEE, February 1997. LaRocca, J., and LaRocca, R. 802.11 Demystified."
  },
  {
    "text": "New York: McGraw-Hill, 2002. McFarland, B., and Wong, M. ’The Family Dynamics of 802.11” ACM Queue,\nOhara, B., and Petrick, A. IEEE 802.11 Handbook: A Designer’s Companion. New York: IEEE Press, 1999. Pahlavan, K.; Probert, T.; and Chase, M. “Trends in Local Wireless Networks.”\nIEEE Communications Magazine, March 1995. Petrick, A."
  },
  {
    "text": "“IEEE 802.11b—Wireless Ethernet.” Communications System\nDesign, June 2000. www.commsdesign.com\nRoshan, P., and Leary, J. 802.11 Wireless LAN Fundamentals. Indianapolis:\nCisco Press, 2004. Shoemake, M. “IEEE 802.11g Jells as Applications Mount.” Communications\nSystem Design, April 2002. www.commsdesign.com. Xiao, Y."
  },
  {
    "text": "What are some key advantages of infrared LANs? What are some key disadvantages of infrared LANs? List and briefly define three transmission techniques for infrared LANs. What is the difference between an access point and a portal? Is a distribution system a wireless network? List and briefly define IEEE 802.11 services. How is the concept of an association related to that of mobility?"
  },
  {
    "text": "Show the transmission periods\nand the gaps. Find the autocorrelation for the 11-bit Barker sequence as a function of \nFor the 16-PPM scheme used for the 1-Mbps IEEE 802.11 infrared standard,\na1. What is the period of transmission (time between bits)? For the corresponding infrared pulse transmission,\na2."
  },
  {
    "text": "What is the average time between pulses (1 values) and the corresponding\naverage rate of pulse transmission? a3. What is the minimum time between adjacent pulses? a4. What is the maximum time between pulses? b. Repeat (a) for the 4-PPM scheme used for the 2-Mbps infrared standard. For IEEE 802.11a, show how the modulation technique and coding rate determine\nthe data rate."
  },
  {
    "text": "Before proceeding with Part Five, the reader is advised to revisit Chapter 2,\nwhich introduces the concept of a protocol architecture and discusses the key\nelements of a protocol. Internet and Transport\nChapter 18 Internet Protocols\nWith the proliferation of networks, internetworking facilities have become\nessential components of network design."
  },
  {
    "text": "Chapter 18 begins with an exami-\nnation of the requirements for an internetworking facility and the various\ndesign approaches that can be taken to satisfy those requirements. The\nremainder of the chapter deals with the use of routers for internetworking. The Internet Protocol (IP) and the new IPv6 are examined."
  },
  {
    "text": "The traffic that the Internet and these private internetworks must\ncarry continues to grow and change.The demand generated by traditional\ndata-based applications, such as electronic mail, Usenet news, file trans-\nfer, and remote logon, is sufficient to challenge these systems."
  },
  {
    "text": "But the dri-\nving factors are the heavy use of the World Wide Web, which demands\nreal-time response, and the increasing use of voice, image, and even video\nover internetwork architectures. These internetwork schemes are essentially datagram packet-\nswitching technology with routers functioning as the switches."
  },
  {
    "text": "This tech-\nnology was not designed to handle voice and video and is straining to\nmeet the demands placed on it. While some foresee the replacement of\nthis conglomeration of Ethernet-based LANs, packet-based WANs, and\nIP-datagram-based routers with a seamless ATM transport service from\ndesktop to backbone, that day is far off."
  },
  {
    "text": "Meanwhile, the internetworking\nand routing functions of these networks must be engineered to meet the\nChapter 19 looks at some of the tools and techniques designed to\nmeet the new demand, beginning with a discussion of routing schemes,\nwhich can help smooth out load surges."
  },
  {
    "text": "The remainder of the chapter\nlooks at recent efforts to provide a given level of quality of service (QoS)\nto various applications. The most important elements of this new\napproach are integrated services and differentiated services. Chapter 20 Transport Protocols\nThe transport protocol is the keystone of the whole concept of a com-\nputer communications architecture."
  },
  {
    "text": "It can also be one of the most com-\nplex of protocols. Chapter 20 examines in detail transport protocol\nmechanisms and then discusses two important examples, TCP and UDP. The bulk of the chapter is devoted to an analysis of the complex set of\nTCP mechanisms and of TCP congestion control schemes."
  },
  {
    "text": "It presents the underground network\nas a geometric grid. The tube lines do not, of course, lie at right angles to one\nanother like the streets of Manhattan. Nor do they branch off at acute angles or\nform perfect oblongs. —King Solomon’s Carpet."
  },
  {
    "text": "Barbara Vine (Ruth Rendell)\nKey functions typically performed by a protocol include encapsula-\ntion, fragmentation and reassembly, connection control, ordered\ndelivery, flow control, error control, addressing, and multiplexing. An internet consists of multiple separate networks that are intercon-\nnected by routers."
  },
  {
    "text": "Data are transmitted in packets from a source sys-\ntem to a destination across a path involving multiple networks and\nrouters. Typically, a connectionless or datagram operation is used. A\nrouter accepts datagrams and relays them on toward their destination\nand is responsible for determining the route, much the same way as\npacket-switching nodes operate."
  },
  {
    "text": "The most widely used protocol for internetworking is the Internet\nProtocol (IP). IP attaches a header to upper-layer (e.g., TCP) data to\nform an IP datagram. The header includes source and destination\naddresses, information used for fragmentation and reassembly, a time-\nto-live field, a type-of-service field, and a checksum. A next-generation IP, known as IPv6, has been defined."
  },
  {
    "text": "IPv6 provides\nlonger address fields and more functionality than the current IP. The purpose of this chapter is to examine the Internet Protocol, which is\nthe foundation on which all of the internet-based protocols and on which\ninternetworking is based.First,it will be useful to review the basic functions\nof networking protocols."
  },
  {
    "text": "This review serves to summarize some of the\nmaterial introduced previously and to set the stage for the study of inter-\nnet-based protocols in Parts Five and Six.We then move to a discussion of\ninternetworking. Next, the chapter focuses on the two standard internet\nprotocols: IPv4 and IPv6. Finally, the topic of IP security is introduced."
  },
  {
    "text": "Refer to Figure 2.5 to see the position within the TCP/IP suite of the\nprotocols discussed in this chapter. 18.1 BASIC PROTOCOL FUNCTIONS\nBefore turning to a discussion of internet protocols, let us consider a rather small set\nof functions that form the basis of all protocols. Not all protocols have all functions;\nthis would involve a significant duplication of effort."
  },
  {
    "text": "There are, nevertheless, many\ninstances of the same type of function being present in protocols at different levels."
  },
  {
    "text": "We can group protocol functions into the following categories:\n• Encapsulation\n• Fragmentation and reassembly\n• Connection control\n• Ordered delivery\n• Flow control\n• Error control\n• Addressing\n• Multiplexing\n• Transmission services\nEncapsulation\nFor virtually all protocols, data are transferred in blocks, called protocol data units\n(PDUs)."
  },
  {
    "text": "Each PDU contains not only data but also control information. Indeed,\nsome PDUs consist solely of control information and no data. The control informa-\ntion falls into three general categories:\n• Address: The address of the sender and/or receiver may be indicated. • Error-detecting code: Some sort of frame check sequence is often included for\nerror detection."
  },
  {
    "text": "• Protocol control: Additional information is included to implement the proto-\ncol functions listed in the remainder of this section. The addition of control information to data is referred to as encapsulation. Data are accepted or generated by an entity and encapsulated into a PDU contain-\ning that data plus control information."
  },
  {
    "text": "Typically, the control information is con-\ntained in a PDU header; some data link layer PDUs include a trailer as well. Numerous examples of PDUs appear in the preceding chapters [e.g., TFTP (Figure\n2.13), HDLC (Figure 7.7), frame relay (Figure 10.16),ATM (Figure 11.4), LLC (Fig-\nure 15.7), IEEE 802.3 (Figure 16.3), IEEE 802.11 (Figure 17.8)]."
  },
  {
    "text": "Fragmentation and Reassembly1\nA protocol is concerned with exchanging data between two entities. Usually, the\ntransfer can be characterized as consisting of a sequence of PDUs of some bounded\nsize."
  },
  {
    "text": "Whether the application entity sends data in messages or in a continuous\n1The term segmentation is used in OSI-related documents, but in protocol specifications related to the\nTCP/IP protocol suite, the term fragmentation is used.The meaning is the same. CHAPTER 18 / INTERNET PROTOCOLS\n18.1 / BASIC PROTOCOL FUNCTIONS\nstream, lower-level protocols typically organize the data into blocks."
  },
  {
    "text": "Further, a \nprotocol may need to divide a block received from a higher layer into multiple\nblocks of some smaller bounded size.This process is called fragmentation. There are a number of motivations for fragmentation, depending on the \ncontext.Among the typical reasons for fragmentation are the following:\n• The communications network may only accept blocks of data up to a certain\nsize."
  },
  {
    "text": "For example, an ATM network is limited to blocks of 53 octets; Ethernet\nimposes a maximum size of 1526 octets. • Error control may be more efficient with a smaller PDU size. With smaller\nPDUs, fewer bits need to be retransmitted when a PDU suffers an error. • More equitable access to shared transmission facilities, with shorter delay, can\nbe provided."
  },
  {
    "text": "For example, without a maximum block size, one station could\nmonopolize a multipoint medium. • A smaller PDU size may mean that receiving entities can allocate smaller\n• An entity may require that data transfer comes to some sort of “closure” from\ntime to time, for checkpoint and restart/recovery operations."
  },
  {
    "text": "There are several disadvantages to fragmentation that argue for making PDUs\nas large as possible:\n• Because each PDU contains a certain amount of control information, smaller\nblocks have a greater percentage of overhead. • PDU arrival may generate an interrupt that must be serviced. Smaller blocks\nresult in more interrupts. • More time is spent processing smaller, more numerous PDUs."
  },
  {
    "text": "All of these factors must be taken into account by the protocol designer in\ndetermining minimum and maximum PDU size. The counterpart of fragmentation is reassembly. Eventually, the segmented\ndata must be reassembled into messages appropriate to the application level. If\nPDUs arrive out of order, the task is complicated."
  },
  {
    "text": "Connection Control\nAn entity may transmit data to another entity in such a way that each PDU is\ntreated independently of all prior PDUs.This is known as connectionless data trans-\nfer; an example is the use of the datagram, described in Chapter 10.While this mode\nis useful, an equally important technique is connection-oriented data transfer, of\nwhich the virtual circuit, also described in Chapter 10, is an example."
  },
  {
    "text": "Connection-oriented data transfer is preferred (even required) if stations\nanticipate a lengthy exchange of data and/or certain details of their protocol must\nbe worked out dynamically."
  },
  {
    "text": "A logical association, or connection, is established\nbetween the entities.Three phases occur (Figure 18.1):\n• Connection establishment\n• Data transfer\n• Connection termination\nWith more sophisticated protocols, there may also be connection interrupt and\nrecovery phases to cope with errors and other sorts of interruptions."
  },
  {
    "text": "During the connection establishment phase, two entities agree to exchange\ndata. Typically, one station will issue a connection request (in connectionless fash-\nion) to the other.A central authority may or may not be involved. In simpler proto-\ncols, the receiving entity either accepts or rejects the request and, in the former case,\nthe connection is considered to be established."
  },
  {
    "text": "In more complex proposals, this\nphase includes a negotiation concerning the syntax, semantics, and timing of the\nprotocol. Both entities must, of course, be using the same protocol. But the protocol\nmay allow certain optional features and these must be agreed upon by means of\nnegotiation."
  },
  {
    "text": "For example, the protocol may specify a PDU size of up to 8000 octets;\none station may wish to restrict this to 1000 octets. Following connection establishment, the data transfer phase is entered. Dur-\ning this phase both data and control information (e.g., flow control, error control)\nare exchanged."
  },
  {
    "text": "Figure 18.1 shows a situation in which all of the data flow in one\nCHAPTER 18 / INTERNET PROTOCOLS\n18.1 / BASIC PROTOCOL FUNCTIONS\n2The term host refers to any end system attached to a network, such as a PC, workstation, or server. number PDUs and keep track of both incoming and outgoing numbers. Sequencing\nsupports three main functions: ordered deliver, flow control, and error control."
  },
  {
    "text": "Sequencing is not found in all connection-oriented protocols. Examples\ninclude frame relay and ATM. However, all connection-oriented protocols \ninclude in the PDU format some way of identifying the connection, which may be a\nunique connection identifier or a combination of source and destination addresses."
  },
  {
    "text": "Ordered Delivery\nIf two communicating entities are in different hosts2connected by a network, there\nis a risk that PDUs will not arrive in the order in which they were sent, because\nthey may traverse different paths through the network. In connection-oriented\nprotocols, it is generally required that PDU order be maintained."
  },
  {
    "text": "For example, if a\nfile is transferred between two systems, we would like to be assured that the\nrecords of the received file are in the same order as those of the transmitted file,\nand not shuffled. If each PDU is given a unique number, and numbers are assigned\nsequentially, then it is a logically simple task for the receiving entity to reorder\nreceived PDUs on the basis of sequence number."
  },
  {
    "text": "A problem with this scheme is\nthat, with a finite sequence number field, sequence numbers repeat (modulo some\nmaximum number). Evidently, the maximum sequence number must be greater\nthan the maximum number of PDUs that could be outstanding at any time. In fact,\nthe maximum number may need to be twice the maximum number of PDUs that\ncould be outstanding (e.g., selective-repeat ARQ; see Chapter 7)."
  },
  {
    "text": "Flow Control\nFlow control is a function performed by a receiving entity to limit the amount or\nrate of data that is sent by a transmitting entity. The simplest form of flow control is a stop-and-wait procedure, in which each\nPDU must be acknowledged before the next can be sent."
  },
  {
    "text": "More efficient protocols\ninvolve some form of credit provided to the transmitter, which is the amount of data\nis an example of this mechanism (Chapter 7). Flow control is a good example of a function that must be implemented in sev-\neral protocols."
  },
  {
    "text": "Consider Figure 18.2, which repeats Figure 2.1.The network will need\nto exercise flow control over host A via the network access protocol, to enforce net-\nwork traffic control. At the same time, B’s network access module has finite buffer\nspace and needs to exercise flow control over A’s transmission; it can do this via the\ntransport protocol."
  },
  {
    "text": "Finally, even though B’s network access module can control its\ndata flow, B’s application may be vulnerable to overflow. For example, the applica-\ntion could be hung up waiting for disk access.Thus, flow control is also needed over\nthe application-oriented protocol. Error Control\nError control techniques are needed to guard against loss or damage of data and\ncontrol information."
  },
  {
    "text": "Typically, error control is implemented as two separate\nCHAPTER 18 / INTERNET PROTOCOLS\nPhysical Physical\nNetwork access\nprotocol #1\nNetwork access\nprotocol #2\nGlobal internet\nSubnetwork attachment\npoint address\nLogical connection\n(e.g., virtual circuit)\nLogical connection\n(TCP connection)\n(service access point)\nFigure 18.2\nTCP/IP Concepts\nfunctions: error detection and retransmission.To achieve error detection, the sender\ninserts an error-detecting code in the transmitted PDU, which is a function of the\nother bits in the PDU."
  },
  {
    "text": "The receiver checks the value of the code on the incoming\nPDU. If an error is detected, the receiver discards the PDU. Upon failing to receive\nidentifiers. For example, in the frame relay protocol (discussed in Chapter 10),\nconnection request packets contain both source and destination address fields."
  },
  {
    "text": "After a logical connection, called a data link connection, is established, data\nframes contain a data link connection identifier (DLCI) of 10, 16, or 23 bits. • Routing: In setting up a connection, a fixed route may be defined.The connec-\ntion identifier serves to identify the route to intermediate systems, such as\npacket-switching nodes, for handling future PDUs."
  },
  {
    "text": "• Multiplexing: We address this function in more general terms later. Here we\nnote that an entity may wish to enjoy more than one connection simultane-\nously.Thus, incoming PDUs must be identified by connection identifier. • Use of state information: Once a connection is established, the end systems\ncan maintain state information relating to the connection."
  },
  {
    "text": "This enables such\nfunctions as flow control and error control using sequence numbers. We see\nexamples of this with HDLC (Chapter 7) and IEEE 802.11 (Chapter 17). Figure 18.2 shows several examples of connections. The logical connection\nbetween router J and host B is at the network level."
  },
  {
    "text": "For example, if network 2 is a\nframe relay network, then this logical connection would be a data link connection. At a higher level, many transport-level protocols, such as TCP, support logical con-\nnections between users of the transport service. Thus, TCP can maintain a connec-\ntion between two ports on different systems. Another addressing concept is that of addressing mode."
  },
  {
    "text": "Most commonly, an\naddress refers to a single system or port; in this case it is referred to as an individual or\nunicast address."
  },
  {
    "text": "It is also possible for an address to refer to more than one entity or\nport.Such an address identifies multiple simultaneous recipients for data.For example,\na user might wish to send a memo to a number of individuals.The network control cen-\nter may wish to notify all users that the network is going down.An address for multiple\nrecipients may be broadcast, intended for all entities within a domain, or multicast,\nintended for a specific subset of entities."
  },
  {
    "text": "Table 18.1 illustrates the possibilities. Multiplexing\nRelated to the concept of addressing is that of multiplexing. One form of multi-\nplexing is supported by means of multiple connections into a single system."
  },
  {
    "text": "For\nCHAPTER 18 / INTERNET PROTOCOLS\n18.1 / BASIC PROTOCOL FUNCTIONS\nexample, with frame relay, there can be multiple data link connections terminating\nin a single end system; we can say that these data link connections are multiplexed\nover the single physical interface between the end system and the network."
  },
  {
    "text": "Multi-\nplexing can also be accomplished via port names, which also permit multiple simul-\ntaneous connections. For example, there can be multiple TCP connections\nterminating in a given system, each connection supporting a different pair of ports. Multiplexing is used in another context as well, namely the mapping of connec-\ntions from one level to another. Consider again Figure 18.2."
  },
  {
    "text": "Network 1 might provide\na connection-oriented service. For each process-to-process connection established at\nthe next higher level, a data link connection could be created at the network access\nlevel.This is a one-to-one relationship, but it need not be so. Multiplexing can be used\nin one of two directions."
  },
  {
    "text": "Upward multiplexing, or inward multiplexing, occurs when\nmultiple higher-level connections are multiplexed on, or share, a single lower-level\nconnection.This may be needed to make more efficient use of the lower-level service\nor to provide several higher-level connections in an environment where only a single\nlower-level connection exists."
  },
  {
    "text": "Downward multiplexing, or splitting, means that a sin-\ngle higher-level connection is built on top of multiple lower-level connections, and\nthe traffic on the higher connection is divided among the various lower connections. This technique may be used to provide reliability, performance, or efficiency."
  },
  {
    "text": "Transmission Services\nA protocol may provide a variety of additional services to the entities that use it.We\nmention here three common examples:\n• Priority: Certain messages, such as control messages, may need to get through\nto the destination entity with minimum delay. An example would be a termi-\nnate-connection request. Thus, priority could be assigned on a message basis."
  },
  {
    "text": "Additionally, priority could be assigned on a connection basis. • Quality of service: Certain classes of data may require a minimum throughput\nor a maximum delay threshold. • Security: Security mechanisms, restricting access, may be invoked. All of these services depend on the underlying transmission system and any\nintervening lower-level entities."
  },
  {
    "text": "If it is possible for these services to be provided\nfrom below, the protocol can be used by the two entities to exercise those services."
  },
  {
    "text": "Addressing Modes\nDestination\nNetwork Address\nSystem Address\nPort/SAP Address\n18.2 PRINCIPLES OF INTERNETWORKING\nPacket-switching and packet-broadcasting networks grew out of a need to allow the\ncomputer user to have access to resources beyond that available in a single system. In a similar fashion, the resources of a single network are often inadequate to meet\nusers’ needs."
  },
  {
    "text": "Because the networks that might be of interest exhibit so many differ-\nences, it is impractical to consider merging them into a single network. Rather, what\nis needed is the ability to interconnect various networks so that any two stations on\nany of the constituent networks can communicate. Table 18.2 lists some commonly used terms relating to the interconnection of\nnetworks, or internetworking."
  },
  {
    "text": "An interconnected set of networks, from a user’s\npoint of view, may appear simply as a larger network. However, if each of the con-\nstituent networks retains its identity and special mechanisms are needed for com-\nmunicating across multiple networks, then the entire configuration is often referred\nto as an internet."
  },
  {
    "text": "Each constituent network in an internet supports communication among the\ndevices attached to that network; these devices are referred to as end systems (ESs). In addition, networks are connected by devices referred to in the ISO documents as\nintermediate systems (ISs)."
  },
  {
    "text": "Intermediate systems provide a communications path\nCHAPTER 18 / INTERNET PROTOCOLS\nInternetworking Terms\nCommunication Network\nA facility that provides a data transfer service among devices attached to the network. A collection of communication networks interconnected by bridges and/or routers."
  },
  {
    "text": "An internet used by a single organization that provides the key Internet applications, especially the World\nWide Web.An intranet operates within the organization for internal purposes and can exist as an isolated,\nself-contained internet, or may have links to the Internet."
  },
  {
    "text": "Refers to a constituent network of an internet.This avoids ambiguity because the entire internet, from a user’s\npoint of view, is a single network."
  },
  {
    "text": "End System (ES)\nA device attached to one of the networks of an internet that is used to support end-user applications or \nIntermediate System (IS)\nA device used to connect two networks and permit communication between end systems attached to different\nAn IS used to connect two LANs that use similar LAN protocols.The bridge acts as an address filter, picking\nup packets from one LAN that are intended for a destination on another LAN and passing those packets on."
  },
  {
    "text": "protocol present in each router and each end system of the network. The router operates at layer 3 of the\n18.2 / PRINCIPLES OF INTERNETWORKING\nand perform the necessary relaying and routing functions so that data can be\nexchanged between devices attached to different networks in the internet. Two types of ISs of particular interest are bridges and routers."
  },
  {
    "text": "The differ-\nences between them have to do with the types of protocols used for the internet-\nworking logic. In essence, a bridge operates at layer 2 of the open systems\ninterconnection (OSI) seven-layer architecture and acts as a relay of frames\nbetween similar networks; bridges are discussed in Chapter 15."
  },
  {
    "text": "A router operates\nat layer 3 of the OSI architecture and routes packets between potentially different\nnetworks. Both the bridge and the router assume that the same upper-layer proto-\ncols are in use. We begin our examination of internetworking with a discussion of the basic\nprinciples of internetworking."
  },
  {
    "text": "We then examine the most important architectural\napproach to internetworking: the connectionless router. Requirements\nThe overall requirements for an internetworking facility are as follows (we refer to\nFigure 18.2 as an example throughout):\n1. Provide a link between networks. At minimum, a physical and link control\nconnection is needed."
  },
  {
    "text": "(Router J has physical links to N1 and N2, and on each\nlink there is a data link protocol.)\n2. Provide for the routing and delivery of data between processes on different net-\nworks. (Application X on host A exchanges data with application X on host B.)\n3. Provide an accounting service that keeps track of the use of the various networks\nand routers and maintains status information. 4."
  },
  {
    "text": "Provide the services just listed in such a way as not to require modifications to the\nnetworking architecture of any of the constituent networks. This means that the\ninternetworking facility must accommodate a number of differences among net-\nworks.These include\n• Different addressing schemes: The networks may use different endpoint\nnames and addresses and directory maintenance schemes."
  },
  {
    "text": "Some form of\nglobal network addressing must be provided, as well as a directory service. (Hosts A and B and router J have globally unique IP addresses.)\n• Different maximum packet size: Packets from one network may have to be\nbroken up into smaller pieces for another. This process is referred to as\nfragmentation."
  },
  {
    "text": "(N1 and N2 may set different upper limits on packet sizes.)\n• Different network access mechanisms:\nThe network access mechanism\nbetween station and network may be different for stations on different net-\nworks."
  },
  {
    "text": "(For example, N1 may be a frame relay network and N2 an Ethernet\n• Different timeouts: Typically, a connection-oriented transport service will\nCHAPTER 18 / INTERNET PROTOCOLS\n18.3 / INTERNET PROTOCOL OPERATION\n18.3 INTERNET PROTOCOL OPERATION\nIn this section, we examine the essential functions of an internetwork protocol."
  },
  {
    "text": "For convenience, we refer specifically to the Internet Standard IPv4, but the\nnarrative in this section applies to any connectionless Internet Protocol, such\nFrame relay\nt1, t6, t7, t10, t11, t16\n\u0001 TCP header\n\u0001 IP header\n\u0001 LLC header\nMACi-H \u0001 MAC header\nMACi-T \u0001 MAC trailer\n\u0001 Frame relay header\n\u0001 Frame relay trailer\nMAC1-H LLC1-H\nMAC2-H LLC2-H\nFigure 18.3\nExample of Internet Protocol Operation\nOperation of a Connectionless Internetworking Scheme\nIP provides a connectionless, or datagram, service between end systems.There are a\nnumber of advantages to this approach:\n• A connectionless internet facility is flexible."
  },
  {
    "text": "It can deal with a variety of net-\nworks, some of which are themselves connectionless. In essence, IP requires\nvery little from the constituent networks. • A connectionless internet service can be made highly robust. This is basically\nthe same argument made for a datagram network service versus a virtual cir-\ncuit service. For a further discussion, see Section 10.5."
  },
  {
    "text": "• A connectionless internet service is best for connectionless transport proto-\ncols, because it does not impose unnecessary overhead."
  },
  {
    "text": "Figure 18.3 depicts a typical example using IP, in which two LANs are intercon-\nnected by a frame relay WAN.The figure depicts the operation of the Internet Protocol\nfor data exchange between host A on one LAN (network 1) and host B on another\nLAN (network 2) through the WAN."
  },
  {
    "text": "The figure shows the protocol architecture and\nformat of the data unit at each stage.The end systems and routers must all share a com-\nmon Internet Protocol. In addition, the end systems must share the same protocols\nabove IP.The intermediate routers need only implement up through IP. The IP at A receives blocks of data to be sent to B from a higher layers of soft-\nware in A (e.g., TCP or UDP)."
  },
  {
    "text": "IP attaches a header (at time ) specifying, among\nother things, the global internet address of B. That address is logically in two parts:\nnetwork identifier and end system identifier."
  },
  {
    "text": "The combination of IP header and\nupper-level data is called an Internet Protocol data unit (PDU), or simply a data-\ngram.The datagram is then encapsulated with the LAN protocol (LLC header at \nMAC header and trailer at ) and sent to the router, which strips off the LAN fields\nto read the IP header \nThe router then encapsulates the datagram with the\nframe relay protocol fields \nand transmits it across the WAN to another router."
  },
  {
    "text": "This router strips off the frame relay fields and recovers the datagram, which it then\nwraps in LAN fields appropriate to LAN 2 and sends it to B. Let us now look at this example in more detail."
  },
  {
    "text": "End system A has a datagram to\ntransmit to end system B;the datagram includes the internet address of B.The IP mod-\nule in A recognizes that the destination (B) is on another network.So the first step is to\nsend the data to a router, in this case router X.To do this, IP passes the datagram down\nto the next lower layer (in this case LLC) with instructions to send it to router X."
  },
  {
    "text": "LLC\nin turn passes this information down to the MAC layer, which inserts the MAC-level\naddress of router X into the MAC header. Thus, the block of data transmitted onto\nLAN 1 includes data from a layer or layers above TCP, plus a TCP header, an IP\nheader, an LLC header, and a MAC header and trailer (time \nin Figure 18.3). Next, the packet travels through network 1 to router X."
  },
  {
    "text": "The router removes\nMAC and LLC fields and analyzes the IP header to determine the ultimate destina-\ntion of the data, in this case B. The router must now make a routing decision. There\nare three possibilities:\n1. The destination station B is connected directly to one of the networks to which the\nrouter is attached. If so, the router sends the datagram directly to the destination."
  },
  {
    "text": "CHAPTER 18 / INTERNET PROTOCOLS\n18.3 / INTERNET PROTOCOL OPERATION\n2. To reach the destination, one or more additional routers must be traversed. If so, a routing decision must be made: To which router should the datagram\nbe sent? In both cases 1 and 2, the IP module in the router sends the datagram\ndown to the next lower layer with the destination network address."
  },
  {
    "text": "Please\nnote that we are speaking here of a lower-layer address that refers to this\n3. The router does not know the destination address. In this case, the router\nreturns an error message to the source of the datagram. In this example, the data must pass through router Y before reaching the desti-\nnation."
  },
  {
    "text": "So router X constructs a new frame by appending a frame relay (LAPF)\nheader and trailer to the IP datagram. The frame relay header indicates a logical\nconnection to router Y. When this frame arrives at router Y, the frame header and\ntrailer are stripped off. The router determines that this IP data unit is destined for B,\nwhich is connected directly to a network to which this router is attached."
  },
  {
    "text": "The router\ntherefore creates a frame with a layer-2 destination address of B and sends it out\nonto LAN 2. The data finally arrive at B, where the LAN and IP headers can be\nstripped off. At each router, before the data can be forwarded, the router may need to frag-\nment the datagram to accommodate a smaller maximum packet size limitation on\nthe outgoing network."
  },
  {
    "text": "If so, the data unit is split into two or more fragments, each of\nwhich becomes an independent IP datagram. Each new data unit is wrapped in a\nlower-layer packet and queued for transmission. The router may also limit the\nlength of its queue for each network to which it attaches so as to avoid having a slow\nnetwork penalize a faster one."
  },
  {
    "text": "Once the queue limit is reached, additional data units\nare simply dropped. The process just described continues through as many routers as it takes for\nthe data unit to reach its destination. As with a router, the destination end system\nrecovers the IP datagram from its network wrapping."
  },
  {
    "text": "If fragmentation has occurred,\nthe IP module in the destination end system buffers the incoming data until the\nentire original data field can be reassembled. This block of data is then passed to a\nhigher layer in the end system.3\nThis service offered by IP is an unreliable one."
  },
  {
    "text": "That is, IP does not guaran-\ntee that all data will be delivered or that the data that are delivered will arrive in\nthe proper order. It is the responsibility of the next higher layer (e.g., TCP) to\nrecover from any errors that occur. This approach provides for a great deal of\nflexibility."
  },
  {
    "text": "With the Internet Protocol approach, each unit of data is passed from router to\nrouter in an attempt to get from source to destination. Because delivery is not\nguaranteed, there is no particular reliability requirement on any of the networks. Thus, the protocol will work with any combination of network types."
  },
  {
    "text": "Because the\nsequence of delivery is not guaranteed, successive data units can follow different\npaths through the internet. This allows the protocol to react to both congestion and\nfailure in the internet by changing routes."
  },
  {
    "text": "CHAPTER 18 / INTERNET PROTOCOLS\n(a) Packet-switching network architecture\n(b) Internetwork architecture\nFigure 18.4\nThe Internet as a Network (based on [HIND83])\n18.3 / INTERNET PROTOCOL OPERATION\nto the packet-switching nodes (P1, P2, P3) in the network, and the networks (N1, N2,\nN3) in the internet correspond to the transmission links (T1,T2,T3) in the networks."
  },
  {
    "text": "The routers perform essentially the same functions as packet-switching nodes and\nuse the intervening networks in a manner analogous to transmission links. Routing For the purpose of routing, each end system and router maintains a rout-\ning table that lists, for each possible destination network, the next router to which\nthe internet datagram should be sent."
  },
  {
    "text": "The routing table may be static or dynamic.A static table, however, could con-\ntain alternate routes if a particular router is unavailable. A dynamic table is more\nflexible in responding to both error and congestion conditions."
  },
  {
    "text": "In the Internet, for\nexample, when a router goes down, all of its neighbors will send out a status report,\nallowing other routers and stations to update their routing tables. A similar scheme\ncan be used to control congestion. Congestion control is particularly important\nbecause of the mismatch in capacity between local and wide area networks. Chapter\n19 discusses routing protocols."
  },
  {
    "text": "Routing tables may also be used to support other internetworking services,\nsuch as security and priority. For example, individual networks might be classified to\nhandle data up to a given security classification.The routing mechanism must assure\nthat data of a given security level are not allowed to pass through networks not\ncleared to handle such data. Another routing technique is source routing."
  },
  {
    "text": "The source station specifies the\nroute by including a sequential list of routers in the datagram. This, again, could be\nuseful for security or priority requirements. Finally, we mention a service related to routing: route recording. To record a\nroute, each router appends its internet address to a list of addresses in the datagram. This feature is useful for testing and debugging purposes."
  },
  {
    "text": "Datagram Lifetime If dynamic or alternate routing is used, the potential exists\nfor a datagram to loop indefinitely through the internet. This is undesirable for two\nreasons. First, an endlessly circulating datagram consumes resources."
  },
  {
    "text": "Alternatively, the life-\ntime could be a true measure of time. This requires that the routers must somehow\nknow how long it has been since the datagram or fragment last crossed a router, to\nknow by how much to decrement the lifetime field."
  },
  {
    "text": "This would seem to require\nsome global clocking mechanism.The advantage of using a true time measure is that\nit can be used in the reassembly algorithm, described next. Fragmentation and Reassembly Individual networks within an internet may\nspecify different maximum packet sizes. It would be inefficient and unwieldy to try\nto dictate uniform packet size across networks."
  },
  {
    "text": "Thus, routers may need to fragment\nincoming datagrams into smaller pieces, called segments or fragments, before trans-\nmitting on to the next network. If datagrams can be fragmented (perhaps more than once) in the course of\ntheir travels, the question arises as to where they should be reassembled.The easiest\nsolution is to have reassembly performed at the destination only."
  },
  {
    "text": "The principal dis-\nadvantage of this approach is that fragments can only get smaller as data move\nthrough the internet. This may impair the efficiency of some networks. However, if\nintermediate router reassembly is allowed, the following disadvantages result:\n1. Large buffers are required at routers, and there is the risk that all of the buffer\nspace will be used up storing partial datagrams. 2."
  },
  {
    "text": "All fragments of a datagram must pass through the same router. This inhibits\nthe use of dynamic routing. In IP, datagram fragments are reassembled at the destination end system. The\nIP fragmentation technique uses the following information in the IP header:\n• Data Unit Identifier (ID)\n• Data Length4\n• More Flag\nThe ID is a means of uniquely identifying an end-system-originated datagram."
  },
  {
    "text": "In IP, it consists of the source and destination addresses, a number that corresponds\nto the protocol layer that generated the data (e.g., TCP), and an identification sup-\nplied by that protocol layer. The Data Length is the length of the user data field in\noctets, and the Offset is the position of a fragment of user data in the data field of the\noriginal datagram, in multiples of 64 bits."
  },
  {
    "text": "The source end system creates a datagram with a Data Length equal to the entire\nlength of the data field, with Offset \u0001 0, and a More Flag set to 0 (false).To fragment a\nlong datagram into two pieces, an IP module in a router performs the following tasks:\n1. Create two new datagrams and copy the header fields of the incoming data-\ngram into both. 2."
  },
  {
    "text": "Divide the incoming user data field into two portions along a 64-bit boundary\n(counting from the beginning), placing one portion in each new datagram. The\nfirst portion must be a multiple of 64 bits (8 octets). 3. Set the Data Length of the first new datagram to the length of the inserted data,\nand set More Flag to 1 (true).The Offset field is unchanged. 4."
  },
  {
    "text": "Set the Data Length of the second new datagram to the length of the inserted\ndata, and add the length of the first data portion divided by 8 to the Offset\nfield.The More Flag remains the same. Figure 18.5 gives an example in which two fragments are created from an\noriginal IP datagram. The procedure is easily generalized to an n-way split."
  },
  {
    "text": "In this\nexample, the payload of the original IP datagram is a TCP segment, consisting of a\n4In the IPv6 header, there is a Payload Length field that corresponds to Data Length in this discussion. In\nthe IPv4 header, there is Total Length field whose value is the length of the header plus data; the data\nlength must be calculated by subtracting the header length."
  },
  {
    "text": "CHAPTER 18 / INTERNET PROTOCOLS\n18.3 / INTERNET PROTOCOL OPERATION\nTCP header and application data.The IP header from the original datagram is used\nin both fragments, with the appropriate changes to the fragmentation-related fields."
  },
  {
    "text": "Note that the first fragment contains the TCP header; this header is not replicated in\nthe second fragment, because all of the IP payload, including the TCP header is\nCHAPTER 18 / INTERNET PROTOCOLS\n18.4 / INTERNET PROTOCOL\nIP provides two service primitives at the interface to the next higher layer.The\nSend primitive is used to request transmission of a data unit."
  },
  {
    "text": "The Deliver primitive\nis used by IP to notify a user of the arrival of a data unit.The parameters associated\nwith the two primitives are as follows:\n• Source address: Internetwork address of sending IP entity. • Destination address: Internetwork address of destination IP entity. • Protocol: Recipient protocol entity (an IP user, such as TCP)."
  },
  {
    "text": "• Type-of-service indicators: Used to specify the treatment of the data unit in its\ntransmission through component networks. • Identification: Used in combination with the source and destination addresses\nand user protocol to identify the data unit uniquely. This parameter is needed\nfor reassembly and error reporting."
  },
  {
    "text": "• Don’t fragment identifier: Indicates whether IP can fragment data to accom-\nplish delivery. • Time to live: Measured in seconds. • Data length: Length of data being transmitted. • Option data: Options requested by the IP user. • Data: User data to be transmitted."
  },
  {
    "text": "The identification, don’t fragment identifier, and time to live parameters\nare present in the Send primitive but not in the Deliver primitive. These three\nparameters provide instructions to IP that are not of concern to the recipient IP\nThe options parameter allows for future extensibility and for inclusion of\nparameters that are usually not invoked."
  },
  {
    "text": "The currently defined options are as\n• Security: Allows a security label to be attached to a datagram. • Source routing: A sequenced list of router addresses that specifies the route to\nbe followed. Routing may be strict (only identified routers may be visited) or\nloose (other intermediate routers may be visited)."
  },
  {
    "text": "• Route recording: A field is allocated to record the sequence of routers visited\nby the datagram. • Stream identification: Names reserved resources used for stream service. This\nservice provides special handling for volatile periodic traffic (e.g., voice)."
  },
  {
    "text": "• Timestamping: The source IP entity and some or all intermediate routers add\na timestamp (precision to milliseconds) to the data unit as it goes by."
  },
  {
    "text": "Internet Protocol\nThe protocol between IP entities is best described with reference to the IP datagram\nformat, shown in Figure 18.6.The fields are as follows:\n• Version (4 bits): Indicates version number, to allow evolution of the protocol;\nthe value is 4. • Internet Header Length (IHL) (4 bits): Length of header in 32-bit words. The\nminimum value is five, for a minimum header length of 20 octets."
  },
  {
    "text": "• DS/ECN (8 bits): Prior to the introduction of differentiated services, this\nfield was referred to as the Type of Service field and specified reliability,\nprecedence, delay, and throughput parameters. This interpretation has now\nbeen superseded. The first six bits of this field are now referred to as the DS\n(Differentiated Services) field, discussed in Chapter 19."
  },
  {
    "text": "The remaining 2 bits\nare reserved for an ECN (Explicit Congestion Notification) field, currently\nin the process of standardization. The ECN field provides for explicit signal-\ning of congestion in a manner similar to that discussed for frame relay\n(Section 13.5). • Total Length (16 bits): Total datagram length,including header plus data,in octets."
  },
  {
    "text": "• Identification (16 bits): A sequence number that, together with the source\naddress, destination address, and user protocol, is intended to identify a data-\ngram uniquely. Thus, this number should be unique for the datagram’s source\naddress, destination address, and user protocol for the time during which the\ndatagram will remain in the internet."
  },
  {
    "text": "• Flags (3 bits): Only two of the bits are currently defined. The More bit is used\nfor fragmentation and reassembly, as previously explained. The Don’t Frag-\nment bit prohibits fragmentation when set.This bit may be useful if it is known\nthat the destination does not have the capability to reassemble fragments."
  },
  {
    "text": "However, if this bit is set, the datagram will be discarded if it exceeds the\nmaximum size of an en route network. Therefore, if the bit is set, it may be\nadvisable to use source routing to avoid networks with small maximum\npacket size. • Fragment Offset (13 bits): Indicates where in the original datagram this\nfragment belongs, measured in 64-bit units."
  },
  {
    "text": "This implies that fragments other\nTotal Length\nIdentification\nFragment Offset\nTime to Live\nHeader Checksum\nOptions \u0002 Padding\nSource Address\nDestination Address\nFigure 18.6\nIPv4 Header\nCHAPTER 18 / INTERNET PROTOCOLS\n18.4 / INTERNET PROTOCOL\nthan the last fragment must contain a data field that is a multiple of 64 bits\n• Time to Live (8 bits): Specifies how long, in seconds, a datagram is allowed to\nremain in the internet."
  },
  {
    "text": "Every router that processes a datagram must decrease\nthe TTL by at least one, so the TTL is similar to a hop count. • Protocol (8 bits): Indicates the next higher level protocol that is to receive the\ndata field at the destination; thus, this field identifies the type of the next header\nin the packet after the IP header."
  },
  {
    "text": "Example values are \nA complete list is maintained at http://www.iana.org/ \nassignments/protocol-numbers. • Header Checksum (16 bits): An error-detecting code applied to the header\nonly. Because some header fields may change during transit (e.g.,Time to Live,\nfragmentation-related fields), this is reverified and recomputed at each router."
  },
  {
    "text": "The checksum is formed by taking the ones complement of the 16-bit ones\ncomplement addition of all 16-bit words in the header. For purposes of com-\nputation, the checksum field is itself initialized to a value of zero.5\n• Source Address (32 bits): Coded to allow a variable allocation of bits to\nspecify the network and the end system attached to the specified network, as\ndiscussed subsequently."
  },
  {
    "text": "• Destination Address (32 bits): Same characteristics as source address. • Options (variable): Encodes the options requested by the sending user. • Padding (variable): Used to ensure that the datagram header is a multiple of\n32 bits in length. • Data (variable): The data field must be an integer multiple of 8 bits in length."
  },
  {
    "text": "The maximum length of the datagram (data field plus header) is 65,535 octets. It should be clear how the IP services specified in the Send and Deliver primi-\ntives map into the fields of the IP datagram. IP Addresses\nThe source and destination address fields in the IP header each contain a 32-bit global\ninternet address, generally consisting of a network identifier and a host identifier."
  },
  {
    "text": "Network Classes The address is coded to allow a variable allocation of bits to\nspecify network and host, as depicted in Figure 18.7. This encoding provides\nflexibility in assigning addresses to hosts and allows a mix of network sizes on an\ninternet."
  },
  {
    "text": "The three principal network classes are best suited to the following\nconditions:\n• Class A: Few networks, each with many hosts\n• Class B: Medium number of networks, each with a medium number of hosts\n• Class C: Many networks, each with a few hosts\n17; ICMP = 1. TCP = 6; UDP =\nCHAPTER 18 / INTERNET PROTOCOLS\n18.4 / INTERNET PROTOCOL\nand routing complexity."
  },
  {
    "text": "One approach to this problem is to assign a single network\nnumber to all of the LANs at a site."
  },
  {
    "text": "From the point of view of the rest of the inter-\nnet, there is a single network at that site, which simplifies addressing and routing.To\nallow the routers within the site to function properly, each LAN is assigned a subnet\nnumber.The host portion of the internet address is partitioned into a subnet number\nand a host number to accommodate this new level of addressing."
  },
  {
    "text": "Within the subnetted network, the local routers must route on the basis of an\nextended network number consisting of the network portion of the IP address and the\nsubnet number. The bit positions containing this extended network number are indi-\ncated by the address mask."
  },
  {
    "text": "The use of the address mask allows the host to determine\nwhether an outgoing datagram is destined for a host on the same LAN (send directly)\nor another LAN (send datagram to router). It is assumed that some other means (e.g.,\nmanual configuration) are used to create address masks and make them known to the\nlocal routers. Table 18.3a shows the calculations involved in the use of a subnet mask."
  },
  {
    "text": "Note\nthat the effect of the subnet mask is to erase the portion of the host field that refers\nto an actual host on a subnet. What remains is the network number and the subnet\nnumber. Figure 18.8 shows an example of the use of subnetting. The figure shows a\nlocal complex consisting of three LANs and two routers."
  },
  {
    "text": "To the rest of the internet,\nthis complex is a single network with a Class C address of the form 192.228.17.x,\nwhere the leftmost three octets are the network number and the rightmost octet\ncontains a host number x."
  },
  {
    "text": "Both routers R1 and R2 are configured with a subnet\nIP Addresses and Subnet Masks [STEI95]\n(a) Dotted decimal and binary representations of IP address and subnet masks\nBinary Representation\nDotted Decimal\n11000000.11100100.00010001.00111001\n192.228.17.57\nSubnet mask\n11111111.11111111.11111111.11100000\n255.255.255.224\nBitwise AND of address and mask \n11000000.11100100.00010001.00100000\n192.228.17.32\n(resultant network/subnet number)\nSubnet number\n11000000.11100100.00010001.001\nHost number\n00000000.00000000.00000000.00011001\n(b) Default subnet masks\nBinary Representation\nDotted Decimal\nClass A default mask\n11111111.00000000.00000000.00000000\nExample Class A mask\n11111111.11000000.00000000.00000000\n255.192.0.0\nClass B default mask\n11111111.11111111.00000000.00000000\n255.255.0.0\nExample Class B mask\n11111111.11111111.11111000.00000000\n255.255.248.0\nClass C default mask\n11111111.11111111.11111111.00000000\n255."
  },
  {
    "text": "255. 255.0\nExample Class C mask\n11111111.11111111.11111111.11111100\n255. 255. 255.252\nmask with the value 255.255.255.224 (see Table 18.3a)."
  },
  {
    "text": "For example, if a datagram\nwith the destination address 192.228.17.57 arrives at R1 from either the rest of the\ninternet or from LAN Y, R1 applies the subnet mask to determine that this address\nrefers to subnet 1, which is LAN X, and so forwards the datagram to LAN X."
  },
  {
    "text": "Simi-\nlarly, if a datagram with that destination address arrives at R2 from LAN Z, R2\napplies the mask and then determines from its forwarding database that datagrams\ndestined for subnet 1 should be forwarded to R1. Hosts must also employ a subnet\nmask to make routing decisions."
  },
  {
    "text": "The default subnet mask for a given class of addresses is a null mask (Table\n18.3b), which yields the same network and host number as the non-subnetted address. Internet Control Message Protocol (ICMP)\nThe IP standard specifies that a compliant implementation must also implement\nICMP (RFC 792). ICMP provides a means for transferring messages from\nrouters and other hosts to a host."
  },
  {
    "text": "In most cases, an ICMP message is sent in\nresponse to a datagram, either by a router along the datagram’s path or by the\nintended destination host."
  },
  {
    "text": "CHAPTER 18 / INTERNET PROTOCOLS\nNet ID/Subnet ID: 192.228.17.32\nSubnet number: 1\nNet ID/Subnet ID: 192.228.17.64\nSubnet number: 2\nNet ID/Subnet ID: 192.228.17.96\nSubnet number: 3\nIP Address: 192.228.17.97\nHost number: 1\nIP Address: 192.228.17.65\nHost number: 1\nIP Address: 192.228.17.33\nHost number: 1\nIP Address: 192.228.17.57\nHost number: 25\nFigure 18.8\nExample of Subnetworking\n18.4 / INTERNET PROTOCOL\nAlthough ICMP is, in effect, at the same level as IP in the TCP/IP architecture,\nit is a user of IP.An ICMP message is constructed and then passed down to IP, which\nencapsulates the message with an IP header and then transmits the resulting data-\ngram in the usual fashion."
  },
  {
    "text": "Because ICMP messages are transmitted in IP datagrams,\ntheir delivery is not guaranteed and their use cannot be considered reliable. Figure 18.9 shows the format of the various ICMP message types. An ICMP\nmessage starts with a 64-bit header consisting of the following:\n• Type (8 bits): Specifies the type of ICMP message."
  },
  {
    "text": "• Code (8 bits): Used to specify parameters of the message that can be encoded\nin one or a few bits. • Checksum (16 bits): Checksum of the entire ICMP message. This is the same\nchecksum algorithm used for IP. • Parameters (32 bits): Used to specify more lengthy parameters. These fields are generally followed by additional information fields that fur-\nther specify the content of the message."
  },
  {
    "text": "In those cases in which the ICMP message refers to a prior datagram, the\ninformation field includes the entire IP header plus the first 64 bits of the data field\nof the original datagram.This enables the source host to match the incoming ICMP\nmessage with the prior datagram."
  },
  {
    "text": "The reason for including the first 64 bits of the\ndata field is that this will enable the IP module in the host to determine which\nIPHeader \u0002 64 bits of original datagram\n(a) Destination unreachable; time exceeded; source quench\nGateway Internet address\nIP Header \u0002 64 bits of original datagram\n(c) Redirect\n(b) Parameter problem\nIP Header \u0002 64 bits of original datagram\n(d) Echo, echo reply\nSequence number\nOptional data\n(h) Address mask reply\nSequence number\nAddress mask\n(g) Address mask request\nSequence number\n(e) Timestamp\nSequence number\nOriginate timestamp\n(f) Timestamp reply\nSequence number\nOriginate timestamp\nReceive timestamp\nTransmit timestamp\nFigure 18.9\nICMP Message Formats\nupper-level protocol or protocols were involved."
  },
  {
    "text": "In particular, the first 64 bits would\ninclude a portion of the TCP header or other transport-level header. The destination unreachable message covers a number of contingencies. A\nrouter may return this message if it does not know how to reach the destination net-\nwork. In some networks, an attached router may be able to determine if a particular\nhost is unreachable and returns the message."
  },
  {
    "text": "The destination host itself may return\nthis message if the user protocol or some higher-level service access point is\nunreachable. This could happen if the corresponding field in the IP header was set\nincorrectly. If the datagram specifies a source route that is unusable, a message is\nreturned."
  },
  {
    "text": "Finally, if a router must fragment a datagram but the Don’t Fragment flag\nis set, the datagram is discarded and a message is returned."
  },
  {
    "text": "A router will return a time exceeded message if the lifetime of the datagram\nexpires.A host will send this message if it cannot complete reassembly within a time\nA syntactic or semantic error in an IP header will cause a parameter problem\nmessage to be returned by a router or host. For example, an incorrect argument may\nbe provided with an option."
  },
  {
    "text": "The Parameter field contains a pointer to the octet in\nthe original header where the error was detected. The source quench message provides a rudimentary form of flow control. Either a router or a destination host may send this message to a source host,\nrequesting that it reduce the rate at which it is sending traffic to the internet des-\ntination."
  },
  {
    "text": "On receipt of a source quench message, the source host should cut back\nthe rate at which it is sending traffic to the specified destination until it no longer\nreceives source quench messages. The source quench message can be used by a\nrouter or host that must discard datagrams because of a full buffer."
  },
  {
    "text": "In that case,\nthe router or host will issue a source quench message for every datagram that it\ndiscards. In addition, a system may anticipate congestion and issue source quench\nmessages when its buffers approach capacity. In that case, the datagram referred\nto in the source quench message may well be delivered."
  },
  {
    "text": "Thus, receipt of a source\nquench message does not imply delivery or nondelivery of the corresponding\nA router sends a redirect message to a host on a directly connected router to\nadvise the host of a better route to a particular destination. The following is an\nexample, using Figure 18.8. Router R1 receives a datagram from host C on network\nY, to which R1 is attached."
  },
  {
    "text": "R1 checks its routing table and obtains the address for\nthe next router, R2, on the route to the datagram’s internet destination network, Z. Because R2 and the host identified by the internet source address of the datagram\nare on the same network, R1 sends a redirect message to C."
  },
  {
    "text": "The redirect message\nadvises the host to send its traffic for network Z directly to router R2, because this is\na shorter path to the destination. The router forwards the original datagram to its\ninternet destination (via R2). The address of R2 is contained in the parameter field\nof the redirect message."
  },
  {
    "text": "The echo and echo reply messages provide a mechanism for testing that\ncommunication is possible between entities. The recipient of an echo message is\nobligated to return the message in an echo reply message. An identifier and\nsequence number are associated with the echo message to be matched in the\necho reply message."
  },
  {
    "text": "The identifier might be used like a service access point to\nCHAPTER 18 / INTERNET PROTOCOLS\n18.4 / INTERNET PROTOCOL\nidentify a particular session, and the sequence number might be incremented on\neach echo request sent."
  },
  {
    "text": "The timestamp and timestamp reply messages provide a mechanism for\nsampling the delay characteristics of the internet.The sender of a timestamp mes-\nsage may include an identifier and sequence number in the parameters field and\ninclude the time that the message is sent (originate timestamp)."
  },
  {
    "text": "The receiver\nrecords the time it received the message and the time that it transmits the reply\nmessage in the timestamp reply message. If the timestamp message is sent using\nstrict source routing, then the delay characteristics of a particular route can be\nThe address mask request and address mask reply messages are useful in\nan environment that includes subnets."
  },
  {
    "text": "The address mask request and reply\nmessages allow a host to learn the address mask for the LAN to which it con-\nnects. The host broadcasts an address mask request message on the LAN. The\nrouter on the LAN responds with an address mask reply message that contains\nthe address mask."
  },
  {
    "text": "Address Resolution Protocol (ARP)\nEarlier in this chapter, we referred to the concepts of a global address (IP\naddress) and an address that conforms to the addressing scheme of the network\nto which a host is attached (subnetwork address). For a local area network, the\nlatter address is a MAC address, which provides a physical address for a host port\nattached to the LAN."
  },
  {
    "text": "Clearly, to deliver an IP datagram to a destination host, a\nmapping must be made from the IP address to the subnetwork address for that\nlast hop. If a datagram traverses one or more routers between source and desti-\nnation hosts, then the mapping must be done in the final router, which is attached\nto the same subnetwork as the destination host."
  },
  {
    "text": "If a datagram is sent from one\nhost to another on the same subnetwork, then the source host must do the map-\nping. In the following discussion, we use the term system to refer to the entity that\ndoes the mapping."
  },
  {
    "text": "For mapping from an IP address to a subnetwork address, a number of\napproaches are possible, including\n• Each system can maintain a local table of IP addresses and matching subnet-\nwork addresses for possible correspondents. This approach does not accom-\nmodate easy and automatic additions of new hosts to the subnetwork."
  },
  {
    "text": "• The subnetwork address can be a subset of the network portion of the IP\naddress. However, the entire internet address is 32 bits long and for most sub-\nnetwork types (e.g., Ethernet) the Host Address field is longer than 32 bits. • A centralized directory can be maintained on each subnetwork that contains the\nIP-subnet address mappings. This is a reasonable solution for many networks."
  },
  {
    "text": "• An address resolution protocol can be used. This is a simpler approach than\nthe use of a centralized directory and is well suited to LANs. RFC 826 defines an Address Resolution Protocol (ARP), which allows\ndynamic distribution of the information needed to build tables to translate an IP\naddress A into a 48-bit Ethernet address; the protocol can be used for any broadcast\nnetwork."
  },
  {
    "text": "ARP exploits the broadcast property of a LAN; namely, that a transmis-\nsion from any device on the network is received by all other devices on the network. ARP works as follows:\n1. Each system on the LAN maintains a table of known IP-subnetwork address\n2."
  },
  {
    "text": "When a subnetwork address is needed for an IP address, and the mapping is not\nfound in the system’s table,the system uses ARP directly on top of the LAN pro-\ntocol (e.g.,IEEE 802) to broadcast a request.The broadcast message contains the\nIP address for which a subnetwork address is needed. 3."
  },
  {
    "text": "Other hosts on the subnetwork listen for ARP messages and reply when a\nmatch occurs.The reply includes both the IP and subnetwork addresses of the\nreplying host. 4. The original request includes the requesting host’s IP address and subnetwork\naddress.Any interested host can copy this information into its local table, avoid-\ning the need for later ARP messages. 5."
  },
  {
    "text": "The ARP message can also be used simply to broadcast a host’s IP address and\nsubnetwork address, for the benefit of others on the subnetwork."
  },
  {
    "text": "The Internet Protocol (IP) has been the foundation of the Internet and virtually all\nmultivendor private internetworks.This protocol is reaching the end of its useful life\nand a new protocol, known as IPv6 (IP version 6), has been defined to ultimately\nreplace IP.6\nWe first look at the motivation for developing a new version of IP and then\nexamine some of its details."
  },
  {
    "text": "IP Next Generation\nThe driving motivation for the adoption of a new version of IP was the limitation\nimposed by the 32-bit address field in IPv4. With a 32-bit address field, it is possi-\nble in principle to assign \ndifferent addresses, which is over 4 billion possible\naddresses. One might think that this number of addresses was more than ade-\nquate to meet addressing needs on the Internet."
  },
  {
    "text": "However, in the late 1980s it was\nperceived that there would be a problem, and this problem began to manifest\nitself in the early 1990s. Reasons for the inadequacy of 32-bit addresses include\nthe following:\n• The two-level structure of the IP address (network number, host number) is\nconvenient but wasteful of the address space."
  },
  {
    "text": "Once a network number is\nassigned to a network, all of the host-number addresses for that network\nnumber are assigned to that network.The address space for that network may\n6The currently deployed version of IP is IP version 4; previous versions of IP (1 through 3) were succes-\nsively defined and replaced to reach IPv4."
  },
  {
    "text": "Version 5 is the number assigned to the Stream Protocol, a\nconnection-oriented internet-layer protocol; hence the use of the label version 6. CHAPTER 18 / INTERNET PROTOCOLS\n18.5 / IPv6\nbe sparsely used, but as far as the effective IP address space is concerned, if a\nnetwork number is used, then all addresses within the network are used."
  },
  {
    "text": "• The IP addressing model generally requires that a unique network number be\nassigned to each IP network whether or not it is actually connected to the\n• Networks are proliferating rapidly. Most organizations boast multiple LANs,\nnot just a single LAN system.Wireless networks have rapidly assumed a major\nrole.The Internet itself has grown explosively for years."
  },
  {
    "text": "• Growth of TCP/IP usage into new areas will result in a rapid growth in the\ndemand for unique IP addresses. Examples include using TCP/IP to intercon-\nnect electronic point-of-sale terminals and for cable television receivers. • Typically, a single IP address is assigned to each host.A more flexible arrange-\nment is to allow multiple IP addresses per host."
  },
  {
    "text": "This, of course, increases the\ndemand for IP addresses. So the need for an increased address space dictated that a new version of IP\nwas needed."
  },
  {
    "text": "In addition, IP is a very old protocol, and new requirements in the\nareas of address configuration, routing flexibility, and traffic support had been\nIn response to these needs, the Internet Engineering Task Force (IETF) issued\na call for proposals for a next generation IP (IPng) in July of 1992. A number of\nproposals were received, and by 1994 the final design for IPng emerged."
  },
  {
    "text": "A major\nmilestone was reached with the publication of RFC 1752, “The Recommendation\nfor the IP Next Generation Protocol,” issued in January 1995. RFC 1752 outlines the\nrequirements for IPng, specifies the PDU formats, and highlights the IPng approach\nin the areas of addressing, routing, and security."
  },
  {
    "text": "A number of other Internet docu-\nments defined details of the protocol, now officially called IPv6; these include an\noverall specification of IPv6 (RFC 2460), an RFC dealing with addressing structure\nof IPv6 (RFC 2373), and numerous others. IPv6 includes the following enhancements over IPv4:\n• Expanded address space: IPv6 uses 128-bit addresses instead of the 32-bit\naddresses of IPv4."
  },
  {
    "text": "This is an increase of address space by a factor of \nhas been pointed out [HIND95] that this allows on the order of \nunique addresses per square meter of the surface of the earth."
  },
  {
    "text": "Even if\naddresses are very inefficiently allocated, this address space seems inex-\n• Improved option mechanism: IPv6 options are placed in separate optional\nheaders that are located between the IPv6 header and the transport-layer\nheader."
  },
  {
    "text": "Most of these optional headers are not examined or processed by any\nrouter on the packet’s path.This simplifies and speeds up router processing of\nIPv6 packets compared to IPv4 datagrams.7 It also makes it easier to add\nadditional options. 7The protocol data unit for IPv6 is referred to as a packet rather than a datagram, which is the term used\nfor IPv4 PDUs."
  },
  {
    "text": "• Address autoconfiguration: This capability provides for dynamic assignment\nof IPv6 addresses."
  },
  {
    "text": "• Increased addressing flexibility: IPv6 includes the concept of an anycast\naddress, for which a packet is delivered to just one of a set of nodes.The scala-\nbility of multicast routing is improved by adding a scope field to multicast\n• Support for resource allocation: IPv6 enables the labeling of packets\nbelonging to a particular traffic flow for which the sender requests special\nhandling."
  },
  {
    "text": "This aids in the support of specialized traffic such as real-time\nAll of these features are explored in the remainder of this section."
  },
  {
    "text": "IPv6 Structure\nAn IPv6 protocol data unit (known as a packet) has the following general form:\nThe only header that is required is referred to simply as the IPv6 header.This is\nof fixed size with a length of 40 octets, compared to 20 octets for the mandatory por-\ntion of the IPv4 header (Figure 18.6)."
  },
  {
    "text": "The following extension headers have been\n• Hop-by-Hop Options header: Defines special options that require hop-by-hop\n• Routing header: Provides extended routing, similar to IPv4 source routing\n• Fragment header: Contains fragmentation and reassembly information\n• Authentication header: Provides packet integrity and authentication\n• Encapsulating Security Payload header: Provides privacy\n• Destination Options header: Contains optional information to be examined\nby the destination node\nThe IPv6 standard recommends that, when multiple extension headers are\nused, the IPv6 headers appear in the following order:\n1."
  },
  {
    "text": "IPv6 header: Mandatory, must always appear first\n2. Hop-by-Hop Options header\n3. Destination Options header: For options to be processed by the first destination\nthat appears in the IPv6 Destination Address field plus subsequent destinations\nlisted in the Routing header\n4. Routing header\n5. Fragment header\n6. Authentication header\n7."
  },
  {
    "text": "Encapsulating Security Payload header\nCHAPTER 18 / INTERNET PROTOCOLS\nIPv6 header\nExtension header\nExtension header\nTransport-level PDU\n;!40 octets !:;!!!!!!!!!!! !!!!!!!!!!!:\n18.5 / IPv6\n8."
  },
  {
    "text": "Destination Options header: For options to be processed only by the final des-\ntination of the packet\nFigure 18.10 shows an example of an IPv6 packet that includes an instance\nof each header, except those related to security. Note that the IPv6 header and\neach extension header include a Next Header field. This field identifies the type\nof the immediately following header."
  },
  {
    "text": "If the next header is an extension header,\nthen this field contains the type identifier of that header. Otherwise, this field\ncontains the protocol identifier of the upper-layer protocol using IPv6 (typically\na transport-level protocol), using the same values as the IPv4 Protocol field."
  },
  {
    "text": "In\nFigure 18.10, the upper-layer protocol is TCP; thus, the upper-layer data carried\nby the IPv6 packet consist of a TCP header followed by a block of application\nWe first look at the main IPv6 header and then examine each of the extensions\nIPv6 header\noptions header\nDestination options\nRouting header\nApplication data\nFragment header\n\u0001 Next Header field\n20 (optional variable part)\nIPv6 header\nFigure 18.10\nIPv6 Packet with Extension Headers (containing a TCP \nIPv6 Header\nThe IPv6 header has a fixed length of 40 octets, consisting of the following fields\n(Figure 18.11):\n• Version (4 bits): Internet protocol version number; the value is 6."
  },
  {
    "text": "• DS/ECN (8 bits): Available for use by originating nodes and/or forwarding\nrouters for differentiated services and congestion functions, as described for\nthe IPv4 DS/ECN field. • Flow Label (20 bits): May be used by a host to label those packets for which it is\nrequesting special handling by routers within a network; discussed subsequently."
  },
  {
    "text": "• Payload Length (16 bits): Length of the remainder of the IPv6 packet follow-\ning the header, in octets. In other words, this is the total length of all of the\nextension headers plus the transport-level PDU. • Next Header (8 bits): Identifies the type of header immediately following the\nIPv6 header; this will either be an IPv6 extension header or a higher-layer\nheader, such as TCP or UDP."
  },
  {
    "text": "• Hop Limit (8 bits): The remaining number of allowable hops for this packet.The\nhop limit is set to some desired maximum value by the source and decremented\nby 1 by each node that forwards the packet.The packet is discarded if Hop Limit\nis decremented to zero."
  },
  {
    "text": "This is a simplification over the processing required for\nthe Time to Live field of IPv4.The consensus was that the extra effort in account-\ning for time intervals in IPv4 added no significant value to the protocol. In fact,\nIPv4 routers, as a general rule, treat the Time to Live field as a hop limit field. • Source Address (128 bits): The address of the originator of the packet."
  },
  {
    "text": "CHAPTER 18 / INTERNET PROTOCOLS\nPayload Length\nNext Header\nSource Address\nDestination Address\n10 \u0006 32 bits \u0001 40 octets\nFigure 18.11\nIPv6 Header\n18.5 / IPv6\n• Destination Address (128 bits): The address of the intended recipient of the\npacket. This may not in fact be the intended ultimate destination if a Routing\nheader is present, as explained subsequently."
  },
  {
    "text": "Although the IPv6 header is longer than the mandatory portion of the IPv4\nheader (40 octets versus 20 octets), it contains fewer fields (8 versus 12). Thus,\nrouters have less processing to do per header, which should speed up routing."
  },
  {
    "text": "Flow Label RFC 3967 defines a flow as a sequence of packets sent from a partic-\nular source to a particular (unicast, anycast, or multicast) destination for which the\nsource desires special handling by the intervening routers.A flow is uniquely identi-\nfied by the combination of a source address, destination address, and a nonzero \n20-bit flow label."
  },
  {
    "text": "Thus, all packets that are to be part of the same flow are assigned\nthe same flow label by the source. From the source’s point of view, a flow typically will be a sequence of packets\nthat are generated from a single application instance at the source and that have the\nsame transfer service requirements."
  },
  {
    "text": "A flow may comprise a single TCP connection\nor even multiple TCP connections; an example of the latter is a file transfer applica-\ntion, which could have one control connection and multiple data connections.A sin-\ngle application may generate a single flow or multiple flows."
  },
  {
    "text": "An example of the\nlatter is multimedia conferencing, which might have one flow for audio and one for\ngraphic windows, each with different transfer requirements in terms of data rate,\ndelay, and delay variation. From the router’s point of view, a flow is a sequence of packets that share\nattributes that affect how these packets are handled by the router."
  },
  {
    "text": "These include\npath, resource allocation, discard requirements, accounting, and security attributes. The router may treat packets from different flows differently in a number of ways,\nincluding allocating different buffer sizes, giving different precedence in terms of\nforwarding, and requesting different quality of service from networks."
  },
  {
    "text": "There is no special significance to any particular flow label. Instead the special\nhandling to be provided for a packet flow must be declared in some other way."
  },
  {
    "text": "For\nexample, a source might negotiate or request special handling ahead of time from\nrouters by means of a control protocol, or at transmission time by information in\none of the extension headers in the packet, such as the Hop-by-Hop Options\nheader. Examples of special handling that might be requested include some sort of\nnondefault quality of service and some form of real-time service."
  },
  {
    "text": "In principle, all of a user’s requirements for a particular flow could be defined\nin an extension header and included with each packet. If we wish to leave the con-\ncept of flow open to include a wide variety of requirements, this design approach\ncould result in very large packet headers."
  },
  {
    "text": "The alternative, adopted for IPv6, is the\nflow label, in which the flow requirements are defined prior to flow commencement\nand a unique flow label is assigned to the flow. In this case, the router must save flow\nrequirement information about each flow. The following rules apply to the flow label:\n1."
  },
  {
    "text": "Hosts or routers that do not support the Flow Label field must set the field to\nzero when originating a packet, pass the field unchanged when forwarding a\npacket, and ignore the field when receiving a packet. 2."
  },
  {
    "text": "All packets originating from a given source with the same nonzero Flow Label\nmust have the same Destination Address, Source Address, Hop-by-Hop\nCHAPTER 18 / INTERNET PROTOCOLS\n8In IPv6, a node is any device that implements IPv6; this includes hosts and routers. 18.5 / IPv6\n• Anycast: An identifier for a set of interfaces (typically belonging to different\nnodes)."
  },
  {
    "text": "A packet sent to an anycast address is delivered to one of the inter-\nfaces identified by that address (the “nearest” one, according to the routing\nprotocols’ measure of distance). • Multicast: An identifier for a set of interfaces (typically belonging to different\nnodes).A packet sent to a multicast address is delivered to all interfaces iden-\ntified by that address."
  },
  {
    "text": "Hop-by-Hop Options Header\nThe Hop-by-Hop Options header carries optional information that, if present, must\nbe examined by every router along the path.This header consists of (Figure 18.12a):\n• Next Header (8 bits): Identifies the type of header immediately following this\n• Header Extension Length (8 bits): Length of this header in 64-bit units, not\nincluding the first 64 bits."
  },
  {
    "text": "• Options: A variable-length field consisting of one or more option definitions. Each definition is in the form of three subfields: Option Type (8 bits), which\nidentifies the option; Length (8 bits), which specifies the length of the Option\nData field in octets; and Option Data, which is a variable-length specification\nof the option."
  },
  {
    "text": "Next header Hdr ext len Routing type Segments left\nType-specific data\n(c) Generic routing header\n(b) Fragment header\nNext header\nFragment offset\nIdentification\n(d) Type 0 routing header\nNext header\nHdr ext len\nSegments left\nHdr ext len\nOne or more options\n(a) Hop-by-Hop options header;\ndestination options header\nNext header\nFigure 18.12\nIPv6 Extension Headers\nIt is actually the lowest-order five bits of the Option Type field that are used to\nspecify a particular option."
  },
  {
    "text": "The high-order two bits indicate that action to be taken\nby a node that does not recognize this option type, as follows:\n• 00—Skip over this option and continue processing the header. • 01—Discard the packet. • 10—Discard the packet and send an ICMP Parameter Problem message to the\npacket’s Source Address, pointing to the unrecognized Option Type."
  },
  {
    "text": "• 11—Discard the packet and, only if the packet’s Destination Address is not a\nmulticast address, send an ICMP Parameter Problem message to the packet’s\nSource Address, pointing to the unrecognized Option Type. The third highest-order bit specifies whether the Option Data field does not\nchange (0) or may change (1) en route from source to destination."
  },
  {
    "text": "Data that may\nchange must be excluded from authentication calculations, as discussed in Chapter 21. These conventions for the Option Type field also apply to the Destination\nOptions header. Four hop-by-hop options have been specified so far:\n• Pad1: Used to insert one byte of padding into the Options area of the header."
  },
  {
    "text": "• PadN: Used to insert N bytes \nof padding into the Options area of the\nheader.The two padding options ensure that the header is a multiple of 8 bytes\n• Jumbo payload: Used to send IPv6 packets with payloads longer than 65,535\noctets.The Option Data field of this option is 32 bits long and gives the length of\nthe packet in octets, excluding the IPv6 header."
  },
  {
    "text": "For such packets, the Payload\nLength field in the IPv6 header must be set to zero, and there must be no\nFragment header.With this option, IPv6 supports packet sizes up to more than 4\nbillion octets.This facilitates the transmission of large video packets and enables\nIPv6 to make the best use of available capacity over any transmission medium."
  },
  {
    "text": "support for protocols such as RSVP (Chapter 19) that generate packets that\nneed to be examined by intermediate routers for purposes of traffic control. Rather than requiring the intermediate routers to look in detail at the extension\nheaders of a packet,this option alerts the router when such attention is required."
  },
  {
    "text": "Fragment Header\nIn IPv6, fragmentation may only be performed by source nodes, not by routers\nalong a packet’s delivery path."
  },
  {
    "text": "To take full advantage of the internetworking envi-\nronment, a node must perform a path discovery algorithm that enables it to learn\nthe smallest maximum transmission unit (MTU) supported by any network on the\npath.With this knowledge, the source node will fragment, as required, for each given\nCHAPTER 18 / INTERNET PROTOCOLS\n18.5 / IPv6\ndestination address."
  },
  {
    "text": "Otherwise the source must limit all packets to 1280 octets,\nwhich is the minimum MTU that must be supported by each network. The fragment header consists of the following (Figure 18.12b):\n• Next Header (8 bits): Identifies the type of header immediately following this\n• Reserved (8 bits): For future use."
  },
  {
    "text": "• Fragment Offset (13 bits): Indicates where in the original packet the payload of\nthis fragment belongs,measured in 64-bit units.This implies that fragments (other\nthan the last fragment) must contain a data field that is a multiple of 64 bits long. • Res (2 bits): Reserved for future use. • M Flag (1 bit):\n• Identification (32 bits): Intended to uniquely identify the original packet."
  },
  {
    "text": "The\nidentifier must be unique for the packet’s source address and destination\naddress for the time during which the packet will remain in the internet. All\nfragments with the same identifier, source address, and destination address are\nreassembled to form the original packet. The fragmentation algorithm is the same as that described in Section 18.3."
  },
  {
    "text": "Routing Header\nThe Routing header contains a list of one or more intermediate nodes to be visited\non the way to a packet’s destination."
  },
  {
    "text": "All routing headers start with a 32-bit block\nconsisting of four 8-bit fields, followed by routing data specific to a given routing\ntype (Figure 18.12c).The four 8-bit fields are as follows:\n• Next Header: Identifies the type of header immediately following this header. • Header Extension Length: Length of this header in 64-bit units, not including\nthe first 64 bits."
  },
  {
    "text": "• Routing Type: Identifies a particular Routing header variant. If a router does\nnot recognize the Routing Type value, it must discard the packet. • Segments Left: Number of route segments remaining;that is,the number of explic-\nitly listed intermediate nodes still to be visited before reaching the final destination."
  },
  {
    "text": "The only specific routing header format defined in RFC 2460 is the Type 0 Rout-\ning header (Figure 18.12d)."
  },
  {
    "text": "When using the Type 0 Routing header, the source node\ndoes not place the ultimate destination address in the IPv6 header.Instead,that address\nis the last address listed in the Routing header (Address[n] in Figure 18.12d), and the\nIPv6 header contains the destination address of the first desired router on the path.The\nRouting header will not be examined until the packet reaches the node identified in the\nCHAPTER 18 / INTERNET PROTOCOLS\n18.6 / VIRTUAL PRIVATE NETWORKS AND IP SECURITY\n• Secure remote access over the Internet: An end user whose system is equipped\nwith IP security protocols can make a local call to an Internet service provider\n(ISP) and gain secure access to a company network."
  },
  {
    "text": "This reduces the cost of\ntoll charges for traveling employees and telecommuters. • Establishing extranet and intranet connectivity with partners: IPSec can be\nused to secure communication with other organizations, ensuring authentica-\ntion and confidentiality and providing a key exchange mechanism."
  },
  {
    "text": "• Enhancing electronic commerce security: Even though some Web and elec-\ntronic commerce applications have built-in security protocols, the use of IPSec\nenhances that security. IPSec guarantees that all traffic designated by the net-\nwork administrator is both encrypted and authenticated, adding an additional\nlayer of security to whatever is provided at the application layer."
  },
  {
    "text": "The principal feature of IPSec that enables it to support these varied applica-\ntions is that it can encrypt and/or authenticate all traffic at the IP level. Thus, all\ndistributed applications, including remote logon, client/server, e-mail, file transfer,\nWeb access, and so on, can be secured. Figure 18.13 is a typical scenario of IPSec usage. An organization maintains\nLANs at dispersed locations."
  },
  {
    "text": "Nonsecure IP traffic is conducted on each LAN. For traf-\nfic offsite,through some sort of private or public WAN,IPSec protocols are used.These\nprotocols operate in networking devices, such as a router or firewall, that connect each\nLAN to the outside world."
  },
  {
    "text": "The IPSec networking device will typically encrypt and\ncompress all traffic going into the WAN, and decrypt and decompress traffic coming\nfrom the WAN; these operations are transparent to workstations and servers on the\nLAN.Secure transmission is also possible with individual users who dial into the WAN. Such user workstations must implement the IPSec protocols to provide security."
  },
  {
    "text": "Benefits of IPSec\nSome of the benefits of IPSec are as follows:\n• When IPSec is implemented in a firewall or router, it provides strong security\nthat can be applied to all traffic crossing the perimeter. Traffic within a com-\npany or workgroup does not incur the overhead of security-related processing."
  },
  {
    "text": "• IPSec in a firewall is resistant to bypass if all traffic from the outside must use\nIP and the firewall is the only means of entrance from the Internet into the\norganization. • IPSec is below the transport layer (TCP, UDP) and so is transparent to appli-\ncations.There is no need to change software on a user or server system when\nIPSec is implemented in the firewall or router."
  },
  {
    "text": "Even if IPSec is implemented\nin end systems, upper-layer software, including applications, is not affected. • IPSec can be transparent to end users.There is no need to train users on secu-\nrity mechanisms, issue keying material on a per-user basis, or revoke keying\nmaterial when users leave the organization."
  },
  {
    "text": "• IPSec can provide security for individual users if needed.This is useful for off-\nsite workers and for setting up a secure virtual subnetwork within an organi-\nzation for sensitive applications."
  },
  {
    "text": "For\nVPNs, both authentication and encryption are generally desired, because it is\nimportant both to (1) assure that unauthorized users do not penetrate the virtual\nprivate network and (2) assure that eavesdroppers on the Internet cannot read mes-\nsages sent over the virtual private network. Because both features are generally\ndesirable, most implementations are likely to use ESP rather than AH."
  },
  {
    "text": "[LEE05] is a thorough technical\ndescription IPv6. [KESH98] provides an instructive look at present and future router\nfunctionality. [METZ02] and [DOI94] describe the IPv6 anycast feature. For the reader\ninterested in a more in-depth discussion of IP addressing, [SPOR03] offers a wealth of\nComer, D. Internetworking with TCP/IP, Volume I: Principles, Protocols, and\nArchitecture."
  },
  {
    "text": "“Beyond Folklore: Observations on\nFragmented Traffic.” IEEE/ACM Transactions on Networking, December 2002. Sportack, M. IP Addressing Fundamentals. Indianapolis, IN: Cisco Press, 2003. Stevens, W. TCP/IP Illustrated, Volume 1: The Protocols. Reading, MA:\nAddison-Wesley, 1994."
  },
  {
    "text": "What are the pros and cons of limiting reassembly to the endpoint as compared to\nallowing en route reassembly? Explain the function of the three flags in the IPv4 header. How is the IPv4 header checksum calculated? What is the difference between the traffic class and flow label fields in the IPv6 header? Briefly explain the three types of IPv6 addresses."
  },
  {
    "text": "What is the purpose of each of the IPv6 header types? Although not explicitly stated, the Internet Protocol (IP) specification, RFC 791,\ndefines the minimum packet size a network technology must support to allow IP to\nrun over it. Read Section 3.2 of RFC 791 to find out that value.What is it? b. Discuss the reasons for adopting that specific value."
  },
  {
    "text": "In the discussion of IP, it was mentioned that the identifier, don’t fragment identifier,\nand time-to-live parameters are present in the Send primitive but not in the Deliver\nprimitive because they are only of concern to IP."
  },
  {
    "text": "Describe some circumstances where it might be desirable to use source routing rather\nthan let the routers make the routing decision. Because of fragmentation, an IP datagram can arrive in several pieces, not necessarily\nin the correct order. The IP entity at the receiving end system must accumulate these\nfragments until the original datagram is reconstituted."
  },
  {
    "text": "Consider that the IP entity creates a buffer for assembling the data field in the origi-\nnal datagram.As assembly proceeds,the buffer will contain blocks of data and “holes”\nbetween the data blocks.Describe an algorithm for reassembly based on this concept. b. For the algorithm in part (a), it is necessary to keep track of the holes. Describe a\nsimple mechanism for doing this."
  },
  {
    "text": "A 4480-octet datagram is to be transmitted and needs to be fragmented because it\nwill pass through an Ethernet with a maximum payload of 1500 octets."
  },
  {
    "text": "Show the\nTotal Length, More Flag, and Fragment Offset values in each of the resulting frag-\nConsider a header that consists of 10 octets, with the checksum in the last two octets\n(this does not correspond to any actual header format) with the following content (in\nhexadecimal): 01 00 F6 F7 F4 F5 F2 03 00 00\nCalculate the checksum. Show your calculation. b. Show the resulting packet."
  },
  {
    "text": "Verify the checksum. The IP checksum needs to be recalculated at routers because of changes to the IP\nheader, such as the lifetime field. It is possible to recalculate the checksum from\nscratch. Suggest a procedure that involves less calculation. Hint: Suppose that the\nvalue in octet k is changed by \nconsider the effect of this\nchange on the checksum. An IP datagram is to be fragmented."
  },
  {
    "text": "Which options in the option field need to be\ncopied into the header of each fragment, and which need only be retained in the first\nfragment? Justify the handling of each option. A transport-layer message consisting of 1500 bits of data and 160 bits of header is sent\nto an internet layer, which appends another 160 bits of header."
  },
  {
    "text": "This is then transmit-\nted through two networks, each of which uses a 24-bit packet header.The destination\nnetwork has a maximum packet size of 800 bits. How many bits, including headers, are\ndelivered to the network-layer protocol at the destination? The architecture suggested by Figure 18.2 is to be used."
  },
  {
    "text": "Number of bits in network portion of address\nb. Number of bits in host portion of address\nNumber of distinct networks allowed\nd."
  },
  {
    "text": "Number of distinct hosts per network allowed\nInteger range of first octet\nWhat percentage of the total IP address space does each of the network classes rep-\nWhat is the difference between the subnet mask for a Class A address with 16 bits for\nthe subnet ID and a class B address with 8 bits for the subnet ID? Is the subnet mask 255.255.0.255 valid for a Class A address?"
  },
  {
    "text": "Given a network address of 192.168.100.0 and a subnet mask of 255.255.255.192,\nHow many subnets are created? b. How many hosts are there per subnet?"
  },
  {
    "text": "Z = new_value - old_value;\nGiven a company with six individual departments and each department having ten\ncomputers or networked devices, what mask could be applied to the company net-\nwork to provide the subnetting necessary to divide up the network equally?"
  },
  {
    "text": "In contemporary routing and addressing, the notation commonly used is called class-\nless interdomain routing or CIDR.With CIDR, the number of bits in the mask is indi-\ncated in the following fashion: 192.168.100.0/24. This corresponds to a mask of\n255.255.255.0. If this example would provide for 256 host addresses on the network,\nhow many addresses are provided with the following?"
  },
  {
    "text": "192.168.100.0/23\nb. 192.168.100.0/25\nFind out about your network. Using the command “ipconfig”,“ifconfig”, or “winipcfg”,\nwe can learn not only our IP address but other network parameters as well. Can you\ndetermine your mask,gateway,and the number of addresses available on your network? Using your IP address and your mask, what is your network address?"
  },
  {
    "text": "This is deter-\nmined by converting the IP address and the mask to binary and then proceeding with\na bitwise logical AND operation. For example, given the address 172.16.45.0 and the\nmask 255.255.224.0, we would discover that the network address would be 172.16.32.0. Compare the individual fields of the IPv4 header with the IPv6 header."
  },
  {
    "text": "Account for\nthe functionality provided by each IPv4 field by showing how the same functionality\nis provided in IPv6. Justify the recommended order in which IPv6 extension headers appear (i.e., why is\nthe Hop-by-Hop Options header first, why is the Routing header before the Frag-\nment header, and so on)."
  },
  {
    "text": "The IPv6 standard states that if a packet with a nonzero flow label arrives at a router\nand the router has no information for that flow label, the router should ignore the\nflow label and forward the packet. What are the disadvantages of treating this event as an error, discarding the\npacket, and sending an ICMP message? b."
  },
  {
    "text": "Are there situations in which routing the packet as if its flow label were zero will\ncause the wrong result? Explain. The IPv6 flow mechanism assumes that the state associated with a given flow label is\nstored in routers, so they know how to handle packets that carry that flow label. A\ndesign requirement is to flush flow labels that are no longer being used (stale flow\nlabel) from routers."
  },
  {
    "text": "Assume that a source always send a control message to all affected routers delet-\ning a flow label when the source finishes with that flow. In that case, how could a\nstale flow label persist? b. Suggest router and source mechanisms to overcome the problem of stale flow labels. The question arises as to which packets generated by a source should carry nonzero\nIPv6 flow labels."
  },
  {
    "text": "For some applications, the answer is obvious. Small exchanges of\ndata should have a zero flow label because it is not worth creating a flow for a few\npackets. Real-time flows should have a flow label; such flows are a primary reason\nflow labels were created.A more difficult issue is what to do with peers sending large\namounts of best-effort traffic (e.g., TCP connections)."
  },
  {
    "text": "Make a case for assigning a\nunique flow label to each long-term TCP connection. Make a case for not doing this. The original IPv6 specifications combined the Traffic Class and Flow Label fields into\na single 28-bit Flow Label field. This allowed flows to redefine the interpretation of\ndifferent values of priority."
  },
  {
    "text": "Suggest reasons why the final specification includes the\nPriority field as a distinct field. For Type 0 IPv6 routing, specify the algorithm for updating the IPv6 and Routing\nheaders by intermediate nodes."
  },
  {
    "text": "—King Solomon’s Carpet, Barbara Vine (Ruth Rendell)\nThe act of sending a packet from a source to multiple destinations is\nreferred to as multicasting. Multicasting raises design issues in the\nareas of addressing and routing. Routing protocols in an internet function in a similar fashion to those\nused in packet-switching networks."
  },
  {
    "text": "An internet routing protocol is\nused to exchange information about reachability and traffic delays,\nallowing each router to construct a next-hop routing table for paths\nthrough the internet. Typically, relatively simple routing protocols are\nused between autonomous systems within a larger internet and more\ncomplex routing protocols are used within each autonomous system."
  },
  {
    "text": "The integrated services architecture is a response to the growing vari-\nety and volume of traffic experienced in the Internet and intranets. It\nprovides a framework for the development of protocols such as RSVP\nto handle multimedia/multicast traffic and provides guidance to\nrouter vendors on the development of efficient techniques for han-\ndling a varied load."
  },
  {
    "text": "The differentiated services architecture is designed to provide a sim-\nple, easy-to-implement, low-overhead tool to support a range of net-\nwork services that are differentiated on the basis of performance. Differentiated services are provided on the basis of a 6-bit label in the\nIP header, which classifies traffic in terms of the type of service to be\ngiven by routers for that traffic."
  },
  {
    "text": "As the Internet and private internets grow in scale, a host of new demands march\nsteadily into view. Low-volume TELNET conversations are leapfrogged by high-\nvolume client/server applications.To this has been added more recently the tremen-\ndous volume of Web traffic, which is increasingly graphics intensive. Now real-time\nvoice and video applications add to the burden."
  },
  {
    "text": "To cope with these demands, it is not enough to increase internet capacity. Sensi-\nble and effective methods for managing the traffic and controlling congestion are\nneeded. Historically, IP-based internets have been able to provide a simple best-effort\ndelivery service to all applications using an internet."
  },
  {
    "text": "But the needs of users have\n19.1 / MULTICASTING\nchanged.A company may have spent millions of dollars installing an IP-based internet\ndesigned to transport data among LANs but now finds that new real-time, multime-\ndia, and multicasting applications are not well supported by such a configuration.The\nonly networking scheme designed from day one to support both traditional TCP and\nUDP traffic and real-time traffic is ATM."
  },
  {
    "text": "However, reliance on ATM means either\nconstructing a second networking infrastructure for real-time traffic or replacing the\nexisting IP-based configuration with ATM, both of which are costly alternatives. Thus, there is a strong need to be able to support a variety of traffic with a vari-\nety of quality-of-service (QoS) requirements, within the TCP/IP architecture."
  },
  {
    "text": "This\nchapter looks at the internetwork functions and services designed to meet this need. We begin this chapter with a discussion of multicasting. Next we explore the\nissue of internetwork routing algorithms. Next, we look at the Integrated Services\nArchitecture (ISA), which provides a framework for current and future internet ser-\nvices. Then we examine differentiated services."
  },
  {
    "text": "Finally, we introduce the topics of\nservice level agreements and IP performance metrics. Refer to Figure 2.5 to see the position within the TCP/IP suite of the protocols\ndiscussed in this chapter. 19.1 MULTICASTING\nTypically, an IP address refers to an individual host on a particular network. IP also\naccommodates addresses that refer to a group of hosts on one or more networks."
  },
  {
    "text": "Such addresses are referred to as multicast addresses, and the act of sending a packet\nfrom a source to the members of a multicast group is referred to as multicasting. Multicasting has a number of practical applications. For example,\n• Multimedia: A number of users “tune in” to a video or audio transmission\nfrom a multimedia source station."
  },
  {
    "text": "• Teleconferencing: A group of workstations form a multicast group such that a\ntransmission from any member is received by all other group members. • Database: All copies of a replicated file or database are updated at the same time. • Distributed computation: Intermediate results are sent to all participants."
  },
  {
    "text": "• Real-time workgroup: Files, graphics, and messages are exchanged among\nactive group members in real time. Multicasting done within the scope of a single LAN segment is straightfor-\nward. IEEE 802 and other LAN protocols include provision for MAC-level multi-\ncast addresses.A packet with a multicast address is transmitted on a LAN segment."
  },
  {
    "text": "Those stations that are members of the corresponding multicast group recognize the\nmulticast address and accept the packet. In this case, only a single copy of the packet\nis ever transmitted.This technique works because of the broadcast nature of a LAN:\nA transmission from any one station is received by all other stations on the LAN."
  },
  {
    "text": "In an internet environment, multicasting is a far more difficult undertaking. To\nsee this, consider the configuration of Figure 19.1; a number of LANs are intercon-\nnected by routers. Routers connect to each other either over high-speed links or across\na wide area network (network N4)."
  },
  {
    "text": "A cost is associated with each link or network in\nCHAPTER 19 / INTERNETWORK OPERATION\neach direction,indicated by the value shown leaving the router for that link or network. Suppose that the multicast server on network N1 is transmitting packets to a multicast\naddress that represents the workstations indicated on networks N3, N5, N6."
  },
  {
    "text": "Suppose\nthat the server does not know the location of the members of the multicast group.Then\none way to assure that the packet is received by all members of the group is to\nbroadcast a copy of each packet to each network in the configuration, over the least-\ncost route for each network. For example, one packet would be addressed to N3 and\nwould traverse N1, link L3, and N3."
  },
  {
    "text": "Router B is responsible for translating the IP-level\nmulticast address to a MAC-level multicast address before transmitting the MAC\nframe onto N3.Table 19.1 summarizes the number of packets generated on the various\nlinks and networks in order to transmit one packet to a multicast group by this method."
  },
  {
    "text": "In this table, the source is the multicast server on network N1 in Figure 19.1; the multi-\ncast address includes the group members on N3, N5, and N6. Each column in the table\nrefers to the path taken from the source host to a destination router attached to a par-\nticular destination network. Each row of the table refers to a network or link in the\nconfiguration of Figure 19.1."
  },
  {
    "text": "Each entry in the table gives the number of packets that\nFigure 19.1\nExample Configuration\nMulticast server\nGroup member\nGroup member\nGroup member\n19.1 / MULTICASTING\ntraverse a given network or link for a given path.A total of 13 copies of the packet are\nrequired for the broadcast technique. Now suppose the source system knows the location of each member of the\nmulticast group."
  },
  {
    "text": "That is, the source has a table that maps a multicast address into a\nlist of networks that contain members of that multicast group. In that case, the\nsource need only send packets to those networks that contain members of the\ngroup. We could refer to this as the multiple unicast strategy. Table 19.1 shows that\nin this case, 11 packets are required."
  },
  {
    "text": "Both the broadcast and multiple unicast strategies are inefficient because they\ngenerate unnecessary copies of the source packet. In a true multicast strategy, the\nfollowing method is used:\n1. The least-cost path from the source to each network that includes members of\nthe multicast group is determined.This results in a spanning tree1 of the config-\nuration."
  },
  {
    "text": "Note that this is not a full spanning tree of the configuration. Rather, it\nis a spanning tree that includes only those networks containing group members. 2. The source transmits a single packet along the spanning tree. 3. The packet is replicated by routers only at branch points of the spanning tree."
  },
  {
    "text": "Figure 19.2a shows the spanning tree for transmissions from the source to the\nmulticast group, and Figure 19.2b shows this method in action.The source transmits a\nsingle packet over N1 to router D."
  },
  {
    "text": "D makes two copies of the packet, to transmit over\n(a) Broadcast\n(b) Multiple Unicast\n(c) Multicast\nTraffic Generated by Various Multicasting Strategies\n1The concept of spanning tree was introduced in our discussion of bridges in Chapter 15.A spanning tree\nof a graph consists of all the nodes of the graph plus a subset of the links (edges) of the graph that pro-\nvides connectivity (a path exists between any two nodes) with no closed loops (there is only one path\nbetween any two nodes)."
  },
  {
    "text": "CHAPTER 19 / INTERNETWORK OPERATION\nlinks L3 and L4. B receives the packet from L3 and transmits it on N3, where it is read\nby members of the multicast group on the network. Meanwhile, C receives the packet\nsent on L4. It must now deliver that packet to both E and F."
  },
  {
    "text": "If network N4 were a\nbroadcast network (e.g., an IEEE 802 LAN), then C would only need to transmit one\ninstance of the packet for both routers to read. If N4 is a packet-switching WAN, then\nC must make two copies of the packet and address one to E and one to F. Each of\nthese routers, in turn, retransmits the received packet on N5 and N6, respectively."
  },
  {
    "text": "As\nTable 19.1 shows, the multicast technique requires only eight copies of the packet. Requirements for Multicasting\nIn ordinary unicast transmission over an internet,in which each datagram has a unique\ndestination network,the task of each router is to forward the datagram along the short-\nest path from that router to the destination network."
  },
  {
    "text": "With multicast transmission, the\nrouter may be required to forward two or more copies of an incoming datagram.In our\nexample,routers D and C both must forward two copies of a single incoming datagram. Thus, we might expect that the overall functionality of multicast routing is\nmore complex than unicast routing.The following is a list of required functions:\n1."
  },
  {
    "text": "A convention is needed for identifying a multicast address. In IPv4, Class D\naddresses are reserved for this purpose. These are 32-bit addresses with 1110 as\ntheir high-order 4 bits, followed by a 28-bit group identifier."
  },
  {
    "text": "In IPv6, a 128-bit\nmulticast address consists of an 8-bit prefix of all ones, a 4-bit flags field, a 4-bit\nscope field, and a 112-bit group identifier.The flags field, currently, only indicates\nwhether this address is permanently assigned or not.The scope field indicates the\nscope of applicability of the address, ranging from a single network to global."
  },
  {
    "text": "Figure 19.2\nMulticast Transmission Example\n(a) Spanning tree from source to multicast group\n(b) Packets generated for multicast transmission\n19.1 / MULTICASTING\n2. Each node (router or source node participating in the routing algorithm) must\ntranslate between an IP multicast address and a list of networks that contain\nmembers of this group."
  },
  {
    "text": "This information allows the node to construct a short-\nest-path spanning tree to all of the networks containing group members. 3. A router must translate between an IP multicast address and a network multi-\ncast address in order to deliver a multicast IP datagram on the destination net-\nwork."
  },
  {
    "text": "For example, in IEEE 802 networks, a MAC-level address is 48 bits long;\nif the highest-order bit is 1, then it is a multicast address. Thus, for multicast\ndelivery, a router attached to an IEEE 802 network must translate a 32-bit\nIPv4 or a 128-bit IPv6 multicast address into a 48-bit IEEE 802 MAC-level\nmulticast address. 4."
  },
  {
    "text": "Although some multicast addresses may be assigned permanently, the more\nusual case is that multicast addresses are generated dynamically and that indi-\nvidual hosts may join and leave multicast groups dynamically. Thus, a mecha-\nnism is needed by which an individual host informs routers attached to the\nsame network as itself of its inclusion in and exclusion from a multicast group."
  },
  {
    "text": "IGMP, described subsequently, provides this mechanism. 5. Routers must exchange two sorts of information. First, routers need to know\nwhich networks include members of a given multicast group. Second, routers\nneed sufficient information to calculate the shortest path to each network con-\ntaining group members. These requirements imply the need for a multicast\nrouting protocol."
  },
  {
    "text": "A discussion of such protocols is beyond the scope of this\n6. A routing algorithm is needed to calculate shortest paths to all group members. 7. Each router must determine multicast routing paths on the basis of both\nsource and destination addresses. The last point is a subtle consequence of the use of multicast addresses. To\nillustrate the point, consider again Figure 19.1."
  },
  {
    "text": "If the multicast server transmits a\nunicast packet addressed to a host on network N5, the packet is forwarded by router\nD to C, which then forwards the packet to E. Similarly, a packet addressed to a host\non network N3 is forwarded by D to B. But now suppose that the server transmits a\npacket with a multicast address that includes hosts on N3, N5, and N6."
  },
  {
    "text": "As we have\ndiscussed, D makes two copies of the packet and sends one to B and one to C.What\nwill C do when it receives a packet with such a multicast address? C knows that this\npacket is intended for networks N3, N5, and N6."
  },
  {
    "text": "A simple-minded approach would\nbe for C to calculate the shortest path to each of these three networks.This produces\nthe shortest-path spanning tree shown in Figure 19.3.As a result, C sends two copies\nof the packet out over N4, one intended for N5 and one intended for N6."
  },
  {
    "text": "But it also\nsends a copy of the packet to B for delivery on N3.Thus B will receive two copies of\nthe packet, one from D and one from C.This is clearly not what was intended by the\nhost on N1 when it launched the packet. To avoid unnecessary duplication of packets, each router must route packets\non the basis of both source and multicast destination."
  },
  {
    "text": "When C receives a packet\nintended for the multicast group from a source on N1, it must calculate the spanning\nCHAPTER 19 / INTERNETWORK OPERATION\ntree with N1 as the root (shown in Figure 19.2a) and route on the basis of that\nspanning tree."
  },
  {
    "text": "Internet Group Management Protocol (IGMP)\nIGMP, defined in RFC 3376, is used by hosts and routers to exchange multicast\ngroup membership information over a LAN. IGMP takes advantage of the broad-\ncast nature of a LAN to provide an efficient technique for the exchange of informa-\ntion among multiple hosts and routers. In general, IGMP supports two principal\noperations:\n1."
  },
  {
    "text": "Hosts send messages to routers to subscribe to and unsubscribe from a multi-\ncast group defined by a given multicast address. 2. Routers periodically check which multicast groups are of interest to which hosts. IGMP is currently at version 3. In IGMPv1, hosts could join a multicast group\nand routers used a timer to unsubscribe group members."
  },
  {
    "text": "IGMPv2 enabled a host to\nrequest to be unsubscribed from a group. The first two versions used essentially the\nfollowing operational model:\n• Receivers have to subscribe to multicast groups. • Sources do not have to subscribe to multicast groups. • Any host can send traffic to any multicast group. This paradigm is very general, but it also has some weaknesses:\n1."
  },
  {
    "text": "Spamming of multicast groups is easy. Even if there are application level filters\nto drop unwanted packets, still these packets consume valuable resources in\nthe network and in the receiver that has to process them. 2. Establishment of the multicast distribution trees is problematic. This is mainly\nbecause the location of sources is not known."
  },
  {
    "text": "Figure 19.3\nSpanning Tree from Router C to Multicast Group\n19.1 / MULTICASTING\n3. Finding globally unique multicast addresses is difficult. It is always possible\nthat another multicast group uses the same multicast address. IGMPv3 addresses these weaknesses by\n1. Allowing hosts to specify the list of hosts from which they want to receive traf-\nfic.Traffic from other hosts is blocked at routers. 2."
  },
  {
    "text": "Allowing hosts to block packets that come from sources that send unwanted\nThe remainder of this section discusses IGMPv3. IGMP Message Format All IGMP messages are transmitted in IP datagrams. The current version defines two message types: Membership Query and Member-\nship Report. A Membership Query message is sent by a multicast router."
  },
  {
    "text": "There are three\nsubtypes: a general query, used to learn which groups have members on an attached\nnetwork; a group-specific query, used to learn if a particular group has any members\non an attached network; and a group-and-source-specific query, used to learn if any\nattached device desires reception of packets sent to a specified multicast address,\nfrom any of a specified list of sources."
  },
  {
    "text": "Figure 19.4a shows the message format, which\nconsists of the following fields:\n• Type: Defines this message type. • Max Response Code: Indicates the maximum allowed time before sending a\nresponding report in units of 1/10 second. • Checksum: An error-detecting code, calculated as the 16-bit ones complement\naddition of all the 16-bit words in the message."
  },
  {
    "text": "For purposes of computation,\nthe Checksum field is itself initialized to a value of zero. This is the same\nchecksum algorithm used in IPv4."
  },
  {
    "text": "• Group Address: Zero for a general query message; a valid IP multicast group\naddress when sending a group-specific query or group-and-source-specific\n• S Flag: When set to one, indicates to any receiving multicast routers that they\nare to suppress the normal timer updates they perform upon hearing a query."
  },
  {
    "text": "• QRV (querier’s robustness variable): If nonzero, the QRV field contains the\nRV value used by the querier (i.e., the sender of the query)."
  },
  {
    "text": "Routers adopt the\nRV value from the most recently received query as their own RV value, unless\nthat most recently received RV was zero, in which case the receivers use the\ndefault value or a statically configured value.The RV dictates how many times\na host will retransmit a report to assure that it is not missed by any attached\nmulticast routers."
  },
  {
    "text": "• QQIC (querier’s querier interval code): Specifies the QI value used by the\nquerier, which is a timer for sending multiple queries. Multicast routers that\nare not the current querier adopt the QI value from the most recently received\nquery as their own QI value, unless that most recently received QI was zero, in\nwhich case the receiving routers use the default QI value."
  },
  {
    "text": "CHAPTER 19 / INTERNETWORK OPERATION\nFigure 19.4\nIGMPv3 Message Formats\nNumber of sources (N)\nMax resp code\nSource address [1]\nSource address [2]\nSource address [N]\nGroup address (class D IPv4 address)\n(a) Membership query message\nNumber of group records (M)\n(b) Membership report message\nGroup record [1]\nGroup record [2]\nGroup record [M]\nRecord type\nAux data len\nNumber of sources (N)\n(c) Group record\nMulticast address\nSource address [1]\nSource address [2]\nSource address [N]\nAuxiliary data\n19.1 / MULTICASTING\n• Number of Sources: Specifies how many source addresses are present in this\nquery.This value is nonzero only for a group-and-source-specific query."
  },
  {
    "text": "• Source Addresses: If the number of sources is N, then there are N 32-bit uni-\ncast addresses appended to the message. A Membership Report message consists of the following fields:\n• Type: Defines this message type. • Checksum: An error-detecting code, calculated as the 16-bit ones complement\naddition of all the 16-bit words in the message."
  },
  {
    "text": "• Number of Group Records: Specifies how many group records are present in\nthis report. • Group Records: If the number of group records is M, then there are M 32-bit\nunicast group records appended to the message. A group record includes the following fields:\n• Record Type: Defines this record type, as described subsequently. • Aux Data Length: Length of the auxiliary data field, in 32-bit words."
  },
  {
    "text": "• Number of Sources: Specifies how many source addresses are present in this\n• Multicast Address: The IP multicast address to which this record pertains. • Source Addresses: If the number of sources is N, then there are N 32-bit uni-\ncast addresses appended to the message. • Auxiliary Data: Additional information pertaining to this record. Currently,\nno auxiliary data values are defined."
  },
  {
    "text": "IGMP Operation The objective of each host in using IGMP is to make itself\nknown as a member of a group with a given multicast address to other hosts on the\nLAN and to all routers on the LAN. IGMPv3 introduces the ability for hosts to sig-\nnal group membership with filtering capabilities with respect to sources."
  },
  {
    "text": "A host can\neither signal that it wants to receive traffic from all sources sending to a group\nexcept for some specific sources (called EXCLUDE mode) or that it wants to\nreceive traffic only from some specific sources sending to the group (called\nINCLUDE mode).To join a group, a host sends an IGMP membership report mes-\nsage, in which the group address field is the multicast address of the group.This mes-\nsage is sent in an IP datagram with the same multicast destination address."
  },
  {
    "text": "In other\nwords, the Group Address field of the IGMP message and the Destination Address\nfield of the encapsulating IP header are the same.All hosts that are currently mem-\nbers of this multicast group will receive the message and learn of the new group\nmember. Each router attached to the LAN must listen to all IP multicast addresses\nin order to hear all reports."
  },
  {
    "text": "To maintain a valid current list of active group addresses, a multicast router\nperiodically issues an IGMP general query message, sent in an IP datagram with an\nall-hosts multicast address."
  },
  {
    "text": "Each host that still wishes to remain a member of one or\nmore multicast groups must read datagrams with the all-hosts address.When such a\nCHAPTER 19 / INTERNETWORK OPERATION\nhost receives the query, it must respond with a report message for each group to\nwhich it claims membership. Note that the multicast router does not need to know the identity of every host in\na group."
  },
  {
    "text": "Rather, it needs to know that there is at least one group member still active. Therefore, each host in a group that receives a query sets a timer with a random delay. Any host that hears another host claim membership in the group will cancel its own\nreport."
  },
  {
    "text": "If no other report is heard and the timer expires, a host sends a report.With this\nscheme,only one member of each group should provide a report to the multicast router. When a host leaves a group, it sends a leave group message to the all-routers\nstatic multicast address."
  },
  {
    "text": "This is accomplished by sending a membership report mes-\nsage with the INCLUDE option and a null list of source addresses; that is, no\nsources are to be included, effectively leaving the group. When a router receives\nsuch a message for a group that has group members on the reception interface, it\nneeds to determine if there are any remaining group members."
  },
  {
    "text": "For this purpose, the\nrouter uses the group-specific query message. Group Membership with IPv6 IGMP was defined for operation with IPv4\nand makes use of 32-bit addresses. IPv6 internets need this same functionality. Rather than to define a separate version of IGMP for IPv6, its functions have\nbeen incorporated into the new version of the Internet Control Message Protocol\n(ICMPv6)."
  },
  {
    "text": "ICMPv6 includes all of the functionality of ICMPv4 and IGMP. For\nmulticast support, ICMPv6 includes both a group-membership query and a group-\nmembership report message, which are used in the same fashion as in IGMP. 19.2 ROUTING PROTOCOLS\nThe routers in an internet are responsible for receiving and forwarding packets\nthrough the interconnected set of networks."
  },
  {
    "text": "Each router makes routing decision\nbased on knowledge of the topology and traffic/delay conditions of the internet. In a\nsimple internet, a fixed routing scheme is possible. In more complex internets, a\ndegree of dynamic cooperation is needed among the routers. In particular, the router\nmust avoid portions of the network that have failed and should avoid portions of the\nnetwork that are congested."
  },
  {
    "text": "To make such dynamic routing decisions, routers\nexchange routing information using a special routing protocol for that purpose. Information is needed about the status of the internet, in terms of which networks\ncan be reached by which routes, and the delay characteristics of various routes."
  },
  {
    "text": "In considering the routing function, it is important to distinguish two concepts:\n• Routing information: Information about the topology and delays of the internet\n• Routing algorithm: The algorithm used to make a routing decision for a par-\nticular datagram, based on current routing information\nAutonomous Systems\nTo proceed with our discussion of routing protocols, we need to introduce the con-\ncept of an autonomous system."
  },
  {
    "text": "An autonomous system (AS) exhibits the following\ncharacteristics:\n19.2 / ROUTING PROTOCOLS\n1. An AS is a set of routers and networks managed by a single organization. 2. An AS consists of a group of routers exchanging information via a common rout-\ning protocol. 3. Except in times of failure, an AS is connected (in a graph-theoretic sense); that\nis, there is a path between any pair of nodes."
  },
  {
    "text": "A shared routing protocol, which we shall refer to as an interior router pro-\ntocol (IRP), passes routing information between routers within an AS. The proto-\ncol used within the AS does not need to be implemented outside of the system. This flexibility allows IRPs to be custom tailored to specific applications and\nrequirements."
  },
  {
    "text": "It may happen, however, that an internet will be constructed of more than one\nAS. For example, all of the LANs at a site, such as an office complex or campus,\ncould be linked by routers to form an AS. This system might be linked through a\nwide area network to other ASs. The situation is illustrated in Figure 19.5."
  },
  {
    "text": "In this\ncase, the routing algorithms and information in routing tables used by routers in dif-\nferent ASs may differ. Nevertheless, the routers in one AS need at least a minimal\nlevel of information concerning networks outside the system that can be reached."
  },
  {
    "text": "Autonomous system 1 \nAutonomous system 2 \nInterior router protocol\nExterior router protocol\nFigure 19.5\nApplication of Exterior and Interior Routing Protocols\nCHAPTER 19 / INTERNETWORK OPERATION\nWe refer to the protocol used to pass routing information between routers in differ-\nent ASs as an exterior router protocol (ERP).2\nWe can expect that an ERP will need to pass less information than an IRP, for\nthe following reason."
  },
  {
    "text": "If a datagram is to be transferred from a host in one AS to a\nhost in another AS, a router in the first system need only determine the target AS\nand devise a route to get into that target system."
  },
  {
    "text": "Once the datagram enters the tar-\nget AS, the routers within that system can cooperate to deliver the datagram; the\nERP is not concerned with, and does not know about, the details of the route fol-\nlowed within the target AS. In the remainder of this section, we look at what are perhaps the most impor-\ntant examples of these two types of routing protocols: BGP and OSPF."
  },
  {
    "text": "But first, it is\nuseful to look at a different way of characterizing routing protocols."
  },
  {
    "text": "Approaches to Routing\nInternet routing protocols employ one of three approaches to gathering and using\nrouting information: distance-vector routing, link-state routing, and path-vector\nDistance-vector routing requires that each node (router or host that imple-\nments the routing protocol) exchange information with its neighboring nodes."
  },
  {
    "text": "Two\nnodes are said to be neighbors if they are both directly connected to the same net-\nwork. This approach is that used in the first generation routing algorithm for\nARPANET, as described in Section 12.2. For this purpose, each node maintains a\nvector of link costs for each directly attached network and distance and next-hop\nvectors for each destination."
  },
  {
    "text": "The relatively simple Routing Information Protocol\n(RIP) uses this approach. Distance-vector routing requires the transmission of a considerable amount of\ninformation by each router. Each router must send a distance vector to all of its\nneighbors, and that vector contains the estimated path cost to all networks in the\nconfiguration."
  },
  {
    "text": "Furthermore, when there is a significant change in a link cost or when\na link is unavailable, it may take a considerable amount of time for this information\nto propagate through the internet. Link-state routing is designed to overcome the drawbacks of distance-vector\nrouting. When a router is initialized, it determines the link cost on each of its net-\nwork interfaces."
  },
  {
    "text": "The router then advertises this set of link costs to all other routers\nin the internet topology, not just neighboring routers."
  },
  {
    "text": "From then on, the router\nmonitors its link costs.Whenever there is a significant change (a link cost increases\nor decreases substantially, a new link is created, an existing link becomes unavail-\nable), the router again advertises its set of link costs to all other routers in the con-\nfiguration."
  },
  {
    "text": "Because each router receives the link costs of all routers in the configuration,\neach router can construct the topology of the entire configuration and then calcu-\nlate the shortest path to each destination network. Having done this, the router can\nconstruct its routing table, listing the first hop to each destination."
  },
  {
    "text": "Because the\n2In the literature, the terms interior gateway protocol (IGP) and exterior gateway protocol (EGP) are\noften used for what are referred to here as IRP and ERP. However, because the terms IGP and EGP also\nrefer to specific protocols, we avoid their use to define the general concepts."
  },
  {
    "text": "19.2 / ROUTING PROTOCOLS\nrouter has a representation of the entire network, it does not use a distributed ver-\nsion of a routing algorithm, as is done in distance-vector routing. Rather, the router\ncan use any routing algorithm to determine the shortest paths."
  },
  {
    "text": "In practice, Dijkstra’s\nalgorithm is used.The Open Shortest Path First (OSPF) protocol is an example of a\nrouting protocol that uses link-state routing. The second-generation routing algo-\nrithm for ARPANET also uses this approach. Both link-state and distance-vector approaches have been used for interior\nrouter protocols. Neither approach is effective for an exterior router protocol."
  },
  {
    "text": "In a distance-vector routing protocol, each router advertises to its neighbors a\nvector listing each network it can reach, together with a distance metric associated\nwith the path to that network."
  },
  {
    "text": "This distance-vector protocol assumes that all routers share a common dis-\nCHAPTER 19 / INTERNETWORK OPERATION\nto become congested, and overall quality of operation.Another criterion that could\nbe used is minimizing the number of transit ASs."
  },
  {
    "text": "Border Gateway Protocol\nThe Border Gateway Protocol (BGP) was developed for use in conjunction with\ninternets that employ the TCP/IP suite, although the concepts are applicable to any\ninternet. BGP has become the preferred exterior router protocol for the Internet."
  },
  {
    "text": "Functions BGP was designed to allow routers, called gateways in the standard, in\ndifferent autonomous systems (ASs) to cooperate in the exchange of routing infor-\nmation. The protocol operates in terms of messages, which are sent over TCP con-\nnections. The repertoire of messages is summarized in Table 19.2. The current\nversion of BGP is known as BGP-4 (RFC 1771)."
  },
  {
    "text": "Three functional procedures are involved in BGP:\n• Neighbor acquisition\n• Neighbor reachability\n• Network reachability\nTwo routers are considered to be neighbors if they are attached to the same\nnetwork. If the two routers are in different autonomous systems, they may wish to\nexchange routing information. For this purpose, it is necessary first to perform\nneighbor acquisition."
  },
  {
    "text": "In essence, neighbor acquisition occurs when two neighboring\nrouters in different autonomous systems agree to exchange routing information reg-\nularly.A formal acquisition procedure is needed because one of the routers may not\nwish to participate."
  },
  {
    "text": "For example, the router may be overburdened and does not want\nto be responsible for traffic coming in from outside the system.In the neighbor acqui-\nsition process, one router sends a request message to the other, which may either\naccept or refuse the offer.The protocol does not address the issue of how one router\nknows the address or even the existence of another router, nor how it decides that it\nneeds to exchange routing information with that particular router.These issues must\nbe dealt with at configuration time or by active intervention of a network manager."
  },
  {
    "text": "To perform neighbor acquisition, two routers send Open messages to each\nother after a TCP connection is established. If each router accepts the request, it\nreturns a Keepalive message in response. Once a neighbor relationship is established, the neighbor reachability proce-\ndure is used to maintain the relationship."
  },
  {
    "text": "Each partner needs to be assured that the\nother partner still exists and is still engaged in the neighbor relationship. For this\npurpose, the two routers periodically issue Keepalive messages to each other. BGP-4 Messages\nUsed to open a neighbor relationship with another router. Used to (1) transmit information about a single route and/or (2) list \nmultiple routes to be withdrawn."
  },
  {
    "text": "Used to (1) acknowledge an Open message and (2) periodically confirm \nthe neighbor relationship. Notification\nSend when an error condition is detected. 19.2 / ROUTING PROTOCOLS\nThe final procedure specified by BGP is network reachability."
  },
  {
    "text": "Each router\nmaintains a database of the networks that it can reach and the preferred route for\nreaching each network.When a change is made to this database, the router issues an\nUpdate message that is broadcast to all other routers implementing BGP. Because\nthe Update message is broadcast, all BGP routers can build up and maintain their\nrouting information."
  },
  {
    "text": "Each message begins with a 19-octet header containing three fields, as indicated by\nthe shaded portion of each message in the figure:\nFigure 19.6\nBGP Message Formats\n(c) Keepalive message\nUnfeasible routes\nWithdrawn routes\nattributes length\nPath attributes\nNetwork layer\nreachability\ninformation\n(b) Update message\nMy autonomous\nBGP identifier\nOpt parameter length\nOptional parameters\n(a) Open message\nError subcode\n(d) Notification message\nCHAPTER 19 / INTERNETWORK OPERATION\n• Marker: Reserved for authentication."
  },
  {
    "text": "The sender may insert a value in this\nfield that would be used as part of an authentication mechanism to enable the\nrecipient to verify the identity of the sender. • Length: Length of message in octets. • Type: Type of message: Open, Update, Notification, Keepalive. To acquire a neighbor, a router first opens a TCP connection to the neighbor\nrouter of interest."
  },
  {
    "text": "It then sends an Open message.This message identifies the AS to\nwhich the sender belongs and provides the IP address of the router. It also includes\na Hold Time parameter, which indicates the number of seconds that the sender pro-\nposes for the value of the Hold Timer."
  },
  {
    "text": "If the recipient is prepared to open a neigh-\nbor relationship, it calculates a value of Hold Timer that is the minimum of its Hold\nTime and the Hold Time in the Open message.This calculated value is the maximum\nnumber of seconds that may elapse between the receipt of successive Keepalive\nand/or Update messages by the sender. The Keepalive message consists simply of the header."
  },
  {
    "text": "Each router issues these\nmessages to each of its peers often enough to prevent the Hold Timer from expiring. The Update message communicates two types of information:\n• Information about a single route through the internet. This information is\navailable to be added to the database of any recipient router. • A list of routes previously advertised by this router that are being withdrawn."
  },
  {
    "text": "An Update message may contain one or both types of information. Informa-\ntion about a single route through the network involves three fields: the Network\nLayer Reachability Information (NLRI) field, the Total Path Attributes Length\nfield, and the Path Attributes field. The NLRI field consists of a list of identifiers of\nnetworks that can be reached by this route."
  },
  {
    "text": "Each network is identified by its IP\naddress, which is actually a portion of a full IP address. Recall that an IP address is a\n32-bit quantity of the form \nThe left-hand or prefix portion of this\nquantity identifies a particular network."
  },
  {
    "text": "The Path Attributes field contains a list of attributes that apply to this particu-\nlar route.The following are the defined attributes:\n• Origin: Indicates whether this information was generated by an interior router\nprotocol (e.g., OSPF) or an exterior router protocol (in particular, BGP). • AS_Path: A list of the ASs that are traversed for this route."
  },
  {
    "text": "• Next_Hop: The IP address of the border router that should be used as the next\nhop to the destinations listed in the NLRI field. • Multi_Exit_Disc: Used to communicate some information about routes inter-\nnal to an AS.This is described later in this section. • Local_Pref: Used by a router to inform other routers within the same AS of its\ndegree of preference for a particular route."
  },
  {
    "text": "It has no significance to routers in\n• Atomic_Aggregate, Aggregator: These two fields implement the concept of\nroute aggregation. In essence, an internet and its corresponding address space\ncan be organized hierarchically (i.e., as a tree). In this case, network addresses\n5network, host6. 19.2 / ROUTING PROTOCOLS\nare structured in two or more parts."
  },
  {
    "text": "All of the networks of a given subtree\nshare a common partial internet address. Using this common partial address,\nthe amount of information that must be communicated in NLRI can be signif-\nicantly reduced."
  },
  {
    "text": "The AS_Path attribute actually serves two purposes.Because it lists the ASs that\na datagram must traverse if it follows this route, the AS_Path information enables a\nrouter to implement routing policies.That is, a router may decide to avoid a particular\npath to avoid transiting a particular AS. For example, information that is confidential\nmay be limited to certain kinds of ASs."
  },
  {
    "text": "Or a router may have information about the\nperformance or quality of the portion of the internet that is included in an AS that\nleads the router to avoid that AS. Examples of performance or quality metrics include\nlink speed, capacity, tendency to become congested, and overall quality of operation. Another criterion that could be used is minimizing the number of transit ASs."
  },
  {
    "text": "The reader may wonder about the purpose of the Next_Hop attribute. The\nrequesting router will necessarily want to know which networks are reachable via\nthe responding router, but why provide information about other routers? This is\nbest explained with reference to Figure 19.5."
  },
  {
    "text": "In this example, router R1 in\nautonomous system 1 and router R5 in autonomous system 2 implement BGP and\nacquire a neighbor relationship. R1 issues Update messages to R5, indicating which\nnetworks it can reach and the distances (network hops) involved. R1 also provides\nthe same information on behalf of R2.That is, R1 tells R5 what networks are reach-\nable via R2."
  },
  {
    "text": "In this example, R2 does not implement BGP. Typically, most of the\nrouters in an autonomous system will not implement BGP. Only a few routers will\nbe assigned responsibility for communicating with routers in other autonomous sys-\ntems. A final point: R1 is in possession of the necessary information about R2,\nbecause R1 and R2 share an interior router protocol (IRP)."
  },
  {
    "text": "The second type of update information is the withdrawal of one or more routes. In this case, the route is identified by the IP address of the destination network. Finally, the Notification Message is sent when an error condition is detected. The following errors may be reported:\n• Message header error: Includes authentication and syntax errors."
  },
  {
    "text": "• Open message error: Includes syntax errors and options not recognized in an\nOpen message.This message can also be used to indicate that a proposed Hold\nTime in an Open message is unacceptable. • Update message error: Includes syntax and validity errors in an Update message."
  },
  {
    "text": "• Hold timer expired: If the sending router has not received successive\nKeepalive and/or Update and/or Notification messages within the Hold Time\nperiod, then this error is communicated and the connection is closed. • Finite state machine error: Includes any procedural error. • Cease: Used by a router to close a connection with another router in the\nabsence of any other error."
  },
  {
    "text": "BGP Routing Information Exchange The essence of BGP is the exchange\nof routing information among participating routers in multiple ASs.This process can\nbe quite complex. In what follows, we provide a simplified overview. CHAPTER 19 / INTERNETWORK OPERATION\nLet us consider router R1 in autonomous system 1 (AS1), in Figure 19.5."
  },
  {
    "text": "To\nbegin, a router that implements BGP will also implement an internal routing proto-\ncol such as OSPF. Using OSPF, R1 can exchange routing information with other\nrouters within AS1 and build up a picture of the topology of the networks and\nrouters in AS1 and construct a routing table."
  },
  {
    "text": "Next, R1 can issue an Update message\nto R5 in AS2.The Update message could include the following:\n• AS_Path: The identity of AS1\n• Next_Hop: The IP address of R1\n• NLRI: A list of all of the networks in AS1\nThis message informs R5 that all of the networks listed in NLRI are reachable\nvia R1 and that the only autonomous system traversed is AS1."
  },
  {
    "text": "Suppose now that R5 also has a neighbor relationship with another router\nin another autonomous system, say R9 in AS3. R5 will forward the information\njust received from R1 to R9 in a new Update message."
  },
  {
    "text": "This message includes the\n• AS_Path: The list of identifiers \n• Next_Hop: The IP address of R5\n• NLRI: A list of all of the networks in AS1\nThis message informs R9 that all of the networks listed in NLRI are reachable\nvia R5 and that the autonomous systems traversed are AS2 and AS1. R9 must now\ndecide if this is its preferred route to the networks listed."
  },
  {
    "text": "It may have knowledge of\nan alternate route to some or all of these networks that it prefers for reasons of per-\nformance or some other policy metric."
  },
  {
    "text": "If R9 decides that the route provided in R5’s\nupdate message is preferable, then R9 incorporates that routing information into its\nrouting database and forwards this new routing information to other neighbors.This\nnew message will include an AS_Path field of \nIn this fashion, routing update information is propagated through the larger\ninternet, consisting of a number of interconnected autonomous systems."
  },
  {
    "text": "The\nAS_Path field is used to assure that such messages do not circulate indefinitely: If\nan Update message is received by a router in an AS that is included in the\nAS_Path field, that router will not forward the update information to other\nRouters within the same AS, called internal neighbors, may exchange BGP\ninformation."
  },
  {
    "text": "In this case, the sending router does not add the identifier of the com-\nmon AS to the AS_Path field. When a router has selected a preferred route to an\nexternal destination, it transmits this route to all of its internal neighbors. Each of\nthese routers then decides if the new route is preferred, in which case the new route\nis added to its database and a new Update message goes out."
  },
  {
    "text": "When there are multiple entry points into an AS that are available to a bor-\nder router in another AS, the Multi_Exit_Disc attribute may be used to choose\namong them. This attribute contains a number that reflects some internal metric\nfor reaching destinations within an AS. For example, suppose in Figure 19.5 that\nboth R1 and R2 implement BGP and both have a neighbor relationship with R5."
  },
  {
    "text": "Each provides an Update message to R5 for network 1.3 that includes a routing\n5AS3, AS2, AS16. 19.2 / ROUTING PROTOCOLS\nmetric used internal to AS1, such as a routing metric associated with the OSPF\ninternal router protocol. R5 could then use these two metrics as the basis for choos-\ning between the two routes."
  },
  {
    "text": "Open Shortest Path First (OSPF) Protocol\nThe OSPF protocol (RFC 2328) is now widely used as the interior router protocol in\nTCP/IP networks. OSPF computes a route through the internet that incurs the least\ncost based on a user-configurable metric of cost. The user can configure the cost to\nexpress a function of delay, data rate, dollar cost, or other factors."
  },
  {
    "text": "OSPF is able to\nequalize loads over multiple equal-cost paths. Each router maintains a database that reflects the known topology of the\nautonomous system of which it is a part. The topology is expressed as a directed\ngraph.The graph consists of the following:\n• Vertices, or nodes, of two types:\n2. network, which is in turn of two types\na."
  },
  {
    "text": "transit, if it can carry data that neither originate nor terminate on an end\nsystem attached to this network\nb. stub, if it is not a transit network\n• Edges of two types:\n1. graph edges that connect two router vertices when the corresponding\nrouters are connected to each other by a direct point-to-point link\n2."
  },
  {
    "text": "graph edges that connect a router vertex to a network vertex when the\nrouter is directly connected to the network\nFigure 19.7, based on one in RFC 2328, shows an example of an autonomous\nsystem, and Figure 19.8 is the resulting directed graph."
  },
  {
    "text": "The mapping is straight-\n• Two routers joined by a point-to-point link are represented in the graph as being\ndirectly connected by a pair of edges,one in each direction (e.g.,routers 6 and 10)."
  },
  {
    "text": "• When multiple routers are attached to a network (such as a LAN or packet-\nswitching network), the directed graph shows all routers bidirectionally con-\nnected to the network vertex (e.g., routers 1, 2, 3, and 4 all connect to\nnetwork 3). • If a single router is attached to a network, the network will appear in the graph\nas a stub connection (e.g., network 7)."
  },
  {
    "text": "• An end system, called a host, can be directly connected to a router, in which\ncase it is depicted in the corresponding graph (e.g., host 1). • If a router is connected to other autonomous systems, then the path cost to\neach network in the other system must be obtained by some exterior router\nprotocol (ERP)."
  },
  {
    "text": "Each such network is represented on the graph by a stub\nand an edge to the router with the known path cost (e.g., networks 12\nthrough 15). CHAPTER 19 / INTERNETWORK OPERATION\nFigure 19.7\nA Sample Autonomous System\nA cost is associated with the output side of each router interface. This cost is\nconfigurable by the system administrator."
  },
  {
    "text": "Arcs on the graph are labeled with the\ncost of the corresponding router output interface. Arcs having no labeled cost have\na cost of 0. Note that arcs leading from networks to routers always have a cost of 0. A database corresponding to the directed graph is maintained by each router. It is pieced together from link state messages from other routers in the internet."
  },
  {
    "text": "Using Dijkstra’s algorithm (see Section 12.3), a router calculates the least-cost path\nto all destination networks.The result for router 6 of Figure 19.7 is shown as a tree in\nFigure 19.9, with R6 as the root of the tree.The tree gives the entire route to any des-\ntination network or host. However, only the next hop to the destination is used in the\nforwarding process."
  },
  {
    "text": "The resulting routing table for router 6 is shown in Table 19.3. The table includes entries for routers advertising external routes (routers 5 and 7). For external networks whose identity is known, entries are also provided."
  },
  {
    "text": "19.3 / INTEGRATED SERVICES ARCHITECTURE\nFigure 19.8\nDirected Graph of Autonomous System of Figure 19.7\n19.3 INTEGRATED SERVICES ARCHITECTURE\nTo meet the requirement for QoS-based service, the IETF is developing a suite of\nstandards under the general umbrella of the Integrated Services Architecture\n(ISA)."
  },
  {
    "text": "ISA, intended to provide QoS transport over IP-based internets, is defined in\noverall terms in RFC 1633, while a number of other documents are being developed\nto fill in the details.Already, a number of vendors have implemented portions of the\nISA in routers and end-system software. This section provides an overview of ISA."
  },
  {
    "text": "Internet Traffic\nTraffic on a network or internet can be divided into two broad categories: elastic\nand inelastic. A consideration of their differing requirements clarifies the need for\nan enhanced internet architecture."
  },
  {
    "text": "Elastic Traffic Elastic traffic is that which can adjust, over wide ranges, to changes\nin delay and throughput across an internet and still meet the needs of its applica-\ntions.This is the traditional type of traffic supported on TCP/IP-based internets and\nCHAPTER 19 / INTERNETWORK OPERATION\nis the type of traffic for which internets were designed."
  },
  {
    "text": "Applications that generate\nsuch traffic typically use TCP or UDP as a transport protocol. In the case of UDP,\nthe application will use as much capacity as is available up to the rate that the appli-\ncation generates data. In the case of TCP, the application will use as much capacity\nas is available up to the maximum rate that the end-to-end receiver can accept data."
  },
  {
    "text": "Also with TCP, traffic on individual connections adjusts to congestion by reducing\nthe rate at which data are presented to the network; this is described in Chapter 20."
  },
  {
    "text": "Applications that can be classified as elastic include the common applications\nthat operate over TCP or UDP, including file transfer (FTP), electronic mail\n(SMTP), remote login (TELNET), network management (SNMP), and Web access\n(HTTP). However, there are differences among the requirements of these applica-\ntions. For example,\n• E-mail is generally insensitive to changes in delay."
  },
  {
    "text": "• When file transfer is done interactively, as it frequently is, the user expects the\ndelay to be proportional to the file size and so is sensitive to changes in\nthroughput. • With network management, delay is generally not a serious concern."
  },
  {
    "text": "How-\never, if failures in an internet are the cause of congestion, then the need for\nFigure 19.9\nThe SPF Tree for Router R6\n19.3 / INTEGRATED SERVICES ARCHITECTURE\nSNMP messages to get through with minimum delay increases with increased\ncongestion."
  },
  {
    "text": "• Interactive applications, such as remote logon and Web access, are sensitive to\nIt is important to realize that it is not per-packet delay that is the quantity of\ninterest. As noted in [CLAR95], observation of real delays across the Internet sug-\ngest that wide variations in delay do not occur."
  },
  {
    "text": "Because of the congestion control\nmechanisms in TCP, when congestion develops, delays only increase modestly before\nthe arrival rate from the various TCP connections slow down. Instead, the QoS per-\nceived by the user relates to the total elapsed time to transfer an element of the cur-\nrent application."
  },
  {
    "text": "For an interactive TELNET-based application, the element may be\na single keystroke or single line. For a Web access, the element is a Web page, which\ncould be as little as a few kilobytes or could be substantially larger for an image-rich\npage. For a scientific application, the element could be many megabytes of data."
  },
  {
    "text": "However, for larger elements, the total elapsed time is dictated by\nthe sliding-window performance of TCP and is therefore dominated by the throughput\nachieved over the TCP connection.Thus,for large transfers,the transfer time is propor-\ntional to the size of the file and the degree to which the source slows due to congestion."
  },
  {
    "text": "It should be clear that even if we confine our attention to elastic traffic, a QoS-\nbased internet service could be of benefit.Without such a service, routers are dealing\nevenhandedly with arriving IP packets, with no concern for the type of application\nand whether a particular packet is part of a large transfer element or a small one."
  },
  {
    "text": "Routing Table for R6\nDestination\nCHAPTER 19 / INTERNETWORK OPERATION\nUnder such circumstances, and if congestion develops, it is unlikely that resources\nwill be allocated in such a way as to meet the needs of all applications fairly. When\ninelastic traffic is added to the mix, the results are even more unsatisfactory."
  },
  {
    "text": "Inelastic Traffic Inelastic traffic does not easily adapt, if at all, to changes in delay\nand throughput across an internet. The prime example is real-time traffic. The\nrequirements for inelastic traffic may include the following:\n• Throughput: A minimum throughput value may be required."
  },
  {
    "text": "Unlike most elas-\ntic traffic, which can continue to deliver data with perhaps degraded service,\nmany inelastic applications absolutely require a given minimum throughput. • Delay: An example of a delay-sensitive application is stock trading; someone\nwho consistently receives later service will consistently act later, and with\ngreater disadvantage."
  },
  {
    "text": "• Jitter: The magnitude of delay variation, called jitter, is a critical factor in real-\ntime applications."
  },
  {
    "text": "Because of the variable delay imposed by the Internet, the\ninterarrival times between packets are not maintained at a fixed interval at the\ndestination.To compensate for this, the incoming packets are buffered, delayed\nsufficiently to compensate for the jitter, and then released at a constant rate to\nthe software that is expecting a steady real-time stream.The larger the allowable\ndelay variation, the longer the real delay in delivering the data and the greater\nthe size of the delay buffer required at receivers."
  },
  {
    "text": "Real-time interactive applica-\ntions, such as teleconferencing, may require a reasonable upper bound on jitter. • Packet loss: Real-time applications vary in the amount of packet loss, if any,\nthat they can sustain. These requirements are difficult to meet in an environment with variable queu-\ning delays and congestion losses."
  },
  {
    "text": "Accordingly, inelastic traffic introduces two new\nrequirements into the internet architecture. First, some means is needed to give pref-\nerential treatment to applications with more demanding requirements."
  },
  {
    "text": "Applications\nneed to be able to state their requirements,either ahead of time in some sort of service\nrequest function, or on the fly, by means of fields in the IP packet header.The former\napproach provides more flexibility in stating requirements, and it enables the network\nto anticipate demands and deny new requests if the required resources are unavail-\nable.This approach implies the use of some sort of resource reservation protocol."
  },
  {
    "text": "A second requirement in supporting inelastic traffic in an internet architecture\nis that elastic traffic must still be supported. Inelastic applications typically do not\nback off and reduce demand in the face of congestion, in contrast to TCP-based\napplications."
  },
  {
    "text": "Therefore, in times of congestion, inelastic traffic will continue to sup-\nply a high load, and elastic traffic will be crowded off the internet. A reservation\nprotocol can help control this situation by denying service requests that would leave\ntoo few resources available to handle current elastic traffic."
  },
  {
    "text": "ISA Approach\nThe purpose of ISA is to enable the provision of QoS support over IP-based inter-\nnets.The central design issue for ISA is how to share the available capacity in times\nof congestion. 19.3 / INTEGRATED SERVICES ARCHITECTURE\nFor an IP-based internet that provides only a best-effort service, the tools for\ncontrolling congestion and providing service are limited."
  },
  {
    "text": "In essence, routers have\ntwo mechanisms to work with:\n• Routing algorithm: Most routing protocols in use in internets allow routes to\nbe selected to minimize delay. Routers exchange information to get a picture\nof the delays throughout the internet. Minimum-delay routing helps to bal-\nance loads, thus decreasing local congestion, and helps to reduce delays seen\nby individual TCP connections."
  },
  {
    "text": "• Packet discard: When a router’s buffer overflows, it discards packets.Typically,\nthe most recent packet is discarded. The effect of lost packets on a TCP con-\nnection is that the sending TCP entity backs off and reduces its load, thus help-\ning to alleviate internet congestion. These tools have worked reasonably well."
  },
  {
    "text": "However, as the discussion in the\npreceding subsection shows, such techniques are inadequate for the variety of traffic\nnow coming to internets. ISA is an overall architecture within which a number of enhancements to the tra-\nditional best-effort mechanisms are being developed."
  },
  {
    "text": "In ISA, each IP packet can be\nassociated with a flow.RFC 1633 defines a flow as a distinguishable stream of related IP\npackets that results from a single user activity and requires the same QoS.For example,\na flow might consist of one transport connection or one video stream distinguishable by\nthe ISA.A flow differs from a TCP connection in two respects:A flow is unidirectional,\nand there can be more than one recipient of a flow (multicast).Typically,an IP packet is\nidentified as a member of a flow on the basis of source and destination IP addresses and\nport numbers, and protocol type.The flow identifier in the IPv6 header is not necessar-\nily equivalent to an ISA flow,but in future the IPv6 flow identifier could be used in ISA."
  },
  {
    "text": "ISA makes use of the following functions to manage congestion and provide\nQoS transport:\n• Admission control: For QoS transport (other than default best-effort transport),\nISA requires that a reservation be made for a new flow.If the routers collectively\ndetermine that there are insufficient resources to guarantee the requested QoS,\nthen the flow is not admitted."
  },
  {
    "text": "The protocol RSVP is used to make reservations. • Routing algorithm: The routing decision may be based on a variety of QoS\nparameters, not just minimum delay. For example, the routing protocol OSPF,\ndiscussed in Section 19.2, can select routes based on QoS."
  },
  {
    "text": "• Queuing discipline: A vital element of the ISA is an effective queuing policy\nthat takes into account the differing requirements of different flows. • Discard policy: A discard policy determines which packets to drop when a\nbuffer is full and new packets arrive.A discard policy can be an important ele-\nment in managing congestion and meeting QoS guarantees."
  },
  {
    "text": "ISA Components\nFigure 19.10 is a general depiction of the implementation architecture for ISA\nwithin a router. Below the thick horizontal line are the forwarding functions of the\nrouter; these are executed for each packet and therefore must be highly optimized."
  },
  {
    "text": "CHAPTER 19 / INTERNETWORK OPERATION\nThe remaining functions, above the line, are background functions that create data\nstructures used by the forwarding functions. The principal background functions are as follows:\n• Reservation protocol: This protocol is to reserve resources for a new flow at a\ngiven level of QoS. It is used among routers and between routers and end sys-\ntems."
  },
  {
    "text": "The reservation protocol is responsible for maintaining flow-specific\nstate information at the end systems and at the routers along the path of the\nflow. RSVP is used for this purpose.The reservation protocol updates the traf-\nfic control database used by the packet scheduler to determine the service\nprovided for packets of each flow."
  },
  {
    "text": "• Admission control: When a new flow is requested, the reservation protocol\ninvokes the admission control function. This function determines if sufficient\nresources are available for this flow at the requested QoS. This determination\nis based on the current level of commitment to other reservations and/or on\nthe current load on the network."
  },
  {
    "text": "• Management agent: A network management agent is able to modify the traf-\nfic control database and to direct the admission control module in order to set\nadmission control policies. • Routing protocol: The routing protocol is responsible for maintaining a rout-\ning database that gives the next hop to be taken for each destination address\nand each flow."
  },
  {
    "text": "The two principal functional areas that accomplish forward-\ning are the following:\n• Classifier and route selection: For the purposes of forwarding and traffic con-\ntrol, incoming packets must be mapped into classes.A class may correspond to\na single flow or to a set of flows with the same QoS requirements."
  },
  {
    "text": "For example,\nFigure 19.10\nIntegrated Services Architecture Implemented in Router\nprotocol(s)\nReservation\nClassifier &\nQoS queuing\nBest-effort queuing\n19.3 / INTEGRATED SERVICES ARCHITECTURE\nthe packets of all video flows or the packets of all flows attributable to a par-\nticular organization may be treated identically for purposes of resource alloca-\ntion and queuing discipline."
  },
  {
    "text": "The selection of class is based on fields in the IP\nheader. Based on the packet’s class and its destination IP address, this function\ndetermines the next-hop address for this packet. • Packet scheduler: This function manages one or more queues for each output\nport. It determines the order in which queued packets are transmitted and the\nselection of packets for discard, if necessary."
  },
  {
    "text": "Decisions are made based on a\nCHAPTER 19 / INTERNETWORK OPERATION\nFigure 19.11 illustrates this scheme and explains the use of the term bucket. The bucket represents a counter that indicates the allowable number of octets of IP\ndata that can be sent at any time."
  },
  {
    "text": "The bucket fills with octet tokens at the rate of R\n(i.e., the counter is incremented R times per second), up to the bucket capacity (up\nto the maximum counter value). IP packets arrive and are queued for processing. An IP packet may be processed if there are sufficient octet tokens to match the IP\ndata size."
  },
  {
    "text": "If so, the packet is processed and the bucket is drained of the correspond-\ning number of tokens. If a packet arrives and there are insufficient tokens available,\nthen the packet exceeds the TSpec for this flow."
  },
  {
    "text": "The treatment for such packets is\nnot specified in the ISA documents; common actions are relegating the packet to\nbest-effort service, discarding the packet, or marking the packet in such a way that it\nmay be discarded in future. Over the long run, the rate of IP data allowed by the token bucket is R."
  },
  {
    "text": "How-\never, if there is an idle or relatively slow period, the bucket capacity builds up, so\nthat at most an additional B octets above the stated rate can be accepted.Thus, B is\na measure of the degree of burstiness of the data flow that is allowed. Guaranteed Service The key elements of the guaranteed service are as follows:\n• The service provides assured capacity, or data rate."
  },
  {
    "text": "size B bits\nToken replenishment\n1. Router puts tokens\ninto bucket at\npredetermined rate. 2. Tokens can\naccumulate up\nto bucket size;\nexcess tokens\n3. Traffic seeks\nto network. 4. Router's queue regulator\nrequests tokens equal to\nto size of the next packet. 5. If tokens are available,\npacket is queued for\ntransmission. 6."
  },
  {
    "text": "If tokens are not available,\npacket is either queued for\ntransmission but marked as\nexcess, buffered for later transmission,\nor discarded. Figure 19.11\nToken Bucket Scheme\n19.3 / INTEGRATED SERVICES ARCHITECTURE\n• There is a specified upper bound on the queuing delay through the network."
  },
  {
    "text": "This must be added to the propagation delay, or latency, to arrive at the bound\non total delay through the network. • There are no queuing losses.That is, no packets are lost due to buffer overflow;\npackets may be lost due to failures in the network or changes in routing paths."
  },
  {
    "text": "With this service, an application provides a characterization of its expected\ntraffic profile, and the service determines the end-to-end delay that it can guarantee."
  },
  {
    "text": "One category of applications for this service is those that need an upper\nbound on delay so that a delay buffer can be used for real-time playback of\nincoming data, and that do not tolerate packet losses because of the degradation\nin the quality of the output. Another example is applications with hard real-time\nThe guaranteed service is the most demanding service provided by ISA."
  },
  {
    "text": "Because the delay bound is firm, the delay has to be set at a large value to cover rare\ncases of long queuing delays. Controlled Load The key elements of the controlled load service are as follows:\n• The service tightly approximates the behavior visible to applications receiving\nbest-effort service under unloaded conditions."
  },
  {
    "text": "• There is no specified upper bound on the queuing delay through the network."
  },
  {
    "text": "However, the service ensures that a very high percentage of the packets do not\nexperience delays that greatly exceed the minimum transit delay (i.e., the\ndelay due to propagation time plus router processing time with no queuing\n• A very high percentage of transmitted packets will be successfully delivered\n(i.e., almost no queuing loss)."
  },
  {
    "text": "As was mentioned, the risk in an internet that provides QoS for real-time\napplications is that best-effort traffic is crowded out. This is because best-effort\ntypes of applications employ TCP, which will back off in the face of congestion and\ndelays."
  },
  {
    "text": "The controlled load service guarantees that the network will set aside suffi-\ncient resources so that an application that receives this service will see a network\nthat responds as if these real-time applications were not present and competing for\nThe controlled service is useful for applications that have been referred to as\nadaptive real-time applications [CLAR92]."
  },
  {
    "text": "Such applications do not require an a\npriori upper bound on the delay through the network."
  },
  {
    "text": "Rather, the receiver measures\nthe jitter experienced by incoming packets and sets the playback point to the mini-\nmum delay that still produces a sufficiently low loss rate (e.g., video can be adaptive\nby dropping a frame or delaying the output stream slightly; voice can be adaptive by\nadjusting silent periods)."
  },
  {
    "text": "Queuing Discipline\nAn important component of an ISA implementation is the queuing discipline used\nat the routers. Routers traditionally have used a first-in-first-out (FIFO) queuing\nCHAPTER 19 / INTERNETWORK OPERATION\ndiscipline at each output port. A single queue is maintained at each output port. When a new packet arrives and is routed to an output port, it is placed at the end of\nthe queue."
  },
  {
    "text": "As long as the queue is not empty, the router transmits packets from the\nqueue, taking the oldest remaining packet next. There are several drawbacks to the FIFO queuing discipline:\n• No special treatment is given to packets from flows that are of higher priority\nor are more delay sensitive."
  },
  {
    "text": "If a number of packets from different flows are\nready to be forwarded, they are handled strictly in FIFO order. • If a number of smaller packets are queued behind a long packet, then FIFO\nqueuing results in a larger average delay per packet than if the shorter packets\nwere transmitted before the longer packet. In general, flows of larger packets\nget better service."
  },
  {
    "text": "• A greedy TCP connection can crowd out more altruistic connections. If con-\ngestion occurs and one TCP connection fails to back off, other connections\nalong the same path segment must back off more than they would otherwise\nhave to do."
  },
  {
    "text": "To overcome the drawbacks of FIFO queuing, some sort of fair queuing scheme is\nused, in which a router maintains multiple queues at each output port (Figure\n19.12).With simple fair queuing, each incoming packet is placed in the queue for its\nflow. The queues are serviced in round-robin fashion, taking one packet from each\nnonempty queue in turn."
  },
  {
    "text": "Empty queues are skipped over.This scheme is fair in that\neach busy flow gets to send exactly one packet per cycle. Further, this is a form of\nload balancing among the various flows. There is no advantage in being greedy. A\ngreedy flow finds that its queues become long, increasing its delays, whereas other\nflows are unaffected by this behavior."
  },
  {
    "text": "A number of vendors have implemented a refinement of fair queuing known\nas weighted fair queuing (WFQ). In essence,WFQ takes into account the amount of\ntraffic through each queue and gives busier queues more capacity without com-\npletely shutting out less busy queues."
  },
  {
    "text": "In addition, WFQ can take into account the\namount of service requested by each traffic flow and adjust the queuing discipline\naccordingly."
  },
  {
    "text": "(b) Fair queuing\n(a) FIFO queuing\nMultiplexed\nMultiplexed\nFigure 19.12\nFIFO and Fair Queuing\n19.3 / INTEGRATED SERVICES ARCHITECTURE\nResource ReSerVation Protocol (RSVP)\nRFC 2205 defines RSVP, which provides supporting functionality for ISA.This sub-\nsection provides an overview."
  },
  {
    "text": "A key task, perhaps the key task, of an internetwork is to deliver data from a\nsource to one or more destinations with the desired quality of service (QoS), such as\nthroughput, delay, delay variance, and so on.This task becomes increasingly difficult\non any internetwork with increasing number of users, data rate of applications, and\nuse of multicasting."
  },
  {
    "text": "To meet these needs, it is not enough for an internet to react to\ncongestion. Instead a tool is needed to prevent congestion by allowing applications\nto reserve network resources at a given QoS. Preventive measures can be useful in both unicast and multicast transmission."
  },
  {
    "text": "For unicast, two applications agree on a specific quality of service for a session and\nexpect the internetwork to support that quality of service. If the internetwork is\nheavily loaded, it may not provide the desired QoS and instead deliver packets at a\nreduced QoS."
  },
  {
    "text": "In that case, the applications may have preferred to wait before initiat-\ning the session or at least to have been alerted to the potential for reduced QoS."
  },
  {
    "text": "A\nway of dealing with this situation is to have the unicast applications reserve resources\nin order to meet a given quality of service.Routers along an intended path could then\npreallocate resources (queue space, outgoing capacity) to assure the desired QoS. If a\nrouter could not meet the resource reservation because of prior outstanding reserva-\ntions, then the applications could be informed."
  },
  {
    "text": "The applications may then decide to\ntry again at a reduced QoS reservation or may decide to try later. Multicast transmission presents a much more compelling case for implement-\ning resource reservation."
  },
  {
    "text": "A multicast transmission can generate a tremendous\namount of internetwork traffic if either the application is high-volume (e.g., video)\nor the group of multicast destinations is large and scattered, or both. What makes\nthe case for multicast resource reservation is that much of the potential load gener-\nated by a multicast source may easily be prevented.This is so for two reasons:\n1."
  },
  {
    "text": "Some members of an existing multicast group may not require delivery from a\nparticular source over some given period of time. For example, there may be\ntwo “channels” (two multicast sources) broadcasting to a particular multicast\ngroup at the same time. A multicast destination may wish to “tune in” to only\none channel at a time. 2."
  },
  {
    "text": "Some members of a group may only be able to handle a portion of the source\ntransmission. For example, a video source may transmit a video stream that\nconsists of two components: a basic component that provides a reduced pic-\nture quality, and an enhanced component."
  },
  {
    "text": "Some receivers may not have the\nprocessing power to handle the enhanced component or may be connected to\nthe internetwork through a subnetwork or link that does not have the capacity\nfor the full signal."
  },
  {
    "text": "Thus, the use of resource reservation can enable routers to decide ahead of\ntime if they can meet the requirement to deliver a multicast transmission to all des-\nignated multicast receivers and to reserve the appropriate resources if possible."
  },
  {
    "text": "Internet resource reservation differs from the type of resource reservation that\nmay be implemented in a connection-oriented network, such as ATM or frame relay. CHAPTER 19 / INTERNETWORK OPERATION\nAn internet resource reservation scheme must interact with a dynamic routing strat-\negy that allows the route followed by packets of a given transmission to change."
  },
  {
    "text": "When the route changes, the resource reservations must be changed.To deal with this\ndynamic situation, the concept of soft state is used.A soft state is simply a set of state\ninformation at a router that expires unless regularly refreshed from the entity that\nrequested the state."
  },
  {
    "text": "If a route for a given transmission changes, then some soft states\nwill expire and new resource reservations will invoke the appropriate soft states on\nthe new routers along the route. Thus, the end systems requesting resources must\nperiodically renew their requests during the course of an application transmission."
  },
  {
    "text": "Based on these considerations, the specification lists the following characteris-\ntics of RSVP:\n• Unicast and multicast: RSVP makes reservations for both unicast and multi-\ncast transmissions, adapting dynamically to changing group membership as\nwell as to changing routes, and reserving resources based on the individual\nrequirements of multicast members."
  },
  {
    "text": "• Simplex: RSVP makes reservations for unidirectional data flow.Data exchanges\nbetween two end systems require separate reservations in the two directions. • Receiver-initiated reservation: The receiver of a data flow initiates and main-\ntains the resource reservation for that flow."
  },
  {
    "text": "• Maintaining soft state in the internet: RSVP maintains a soft state at interme-\ndiate routers and leaves the responsibility for maintaining these reservation\nstates to end users. • Providing different reservation styles: These allow RSVP users to specify how\nreservations for the same multicast group should be aggregated at the interme-\ndiate switches."
  },
  {
    "text": "This feature enables a more efficient use of internet resources. • Transparent operation through non-RSVP routers: Because reservations and\nRSVP are independent of routing protocol, there is no fundamental conflict in\na mixed environment in which some routers do not employ RSVP. These\nrouters will simply use a best-effort delivery technique."
  },
  {
    "text": "• Support for IPv4 and IPv6: RSVP can exploit the Type-of-Service field in the\nIPv4 header and the Flow Label field in the IPv6 header. 19.4 DIFFERENTIATED SERVICES\nThe Integrated Services Architecture (ISA) and RSVP are intended to support QoS\ncapability in the Internet and in private internets."
  },
  {
    "text": "Although ISA in general and\nRSVP in particular are useful tools in this regard, these features are relatively com-\nplex to deploy. Further, they may not scale well to handle large volumes of traffic\nbecause of the amount of control signaling required to coordinate integrated QoS\nofferings and because of the maintenance of state information required at routers."
  },
  {
    "text": "As the burden on the Internet grows, and as the variety of applications grow,\nthere is an immediate need to provide differing levels of QoS to different traffic\nflows."
  },
  {
    "text": "The differentiated services (DS) architecture (RFC 2475) is designed to\n19.4 / DIFFERENTIATED SERVICES\nprovide a simple, easy-to-implement, low-overhead tool to support a range of net-\nwork services that are differentiated on the basis of performance."
  },
  {
    "text": "Several key characteristics of DS contribute to its efficiency and ease of\ndeployment:\n• IP packets are labeled for differing QoS treatment using the existing IPv4\n(Figure 18.6) or IPv6 (Figure 18.11) DS field.Thus, no change is required to IP. • A service level agreement (SLA) is established between the service provider\n(internet domain) and the customer prior to the use of DS."
  },
  {
    "text": "This avoids the\nneed to incorporate DS mechanisms in applications. Thus, existing applica-\ntions need not be modified to use DS. • DS provides a built-in aggregation mechanism. All traffic with the same DS\noctet is treated the same by the network service. For example, multiple voice\nconnections are not handled individually but in the aggregate."
  },
  {
    "text": "This provides\nfor good scaling to larger networks and traffic loads. • DS is implemented in individual routers by queuing and forwarding packets\nbased on the DS octet. Routers deal with each packet individually and do not\nhave to save state information on packet flows. Today, DS is the most widely accepted QoS mechanism in enterprise networks."
  },
  {
    "text": "Typically, a DS domain would be under the control of one administrative\nentity. The services provided across a DS domain are defined in an SLA, which is a\nservice contract between a customer and the service provider that specifies the for-\nwarding service that the customer should receive for various classes of packets. A\ncustomer may be a user organization or another DS domain."
  },
  {
    "text": "Once the SLA is estab-\nlished, the customer submits packets with the DS octet marked to indicate the packet\nclass.The service provider must assure that the customer gets at least the agreed QoS\nfor each packet class."
  },
  {
    "text": "To provide that QoS, the service provider must configure the\nappropriate forwarding policies at each router (based on DS octet value) and must\nmeasure the performance being provided for each class on an ongoing basis. If a customer submits packets intended for destinations within the DS domain,\nthen the DS domain is expected to provide the agreed service."
  },
  {
    "text": "If the destination is\nbeyond the customer’s DS domain, then the DS domain will attempt to forward the\npackets through other domains, requesting the most appropriate service to match\nthe requested service."
  },
  {
    "text": "A draft DS framework document lists the following detailed performance\nparameters that might be included in an SLA:\n• Detailed service performance parameters such as expected throughput, drop\nprobability, latency\nCHAPTER 19 / INTERNETWORK OPERATION\n• Constraints on the ingress and egress points at which the service is provided,\nindicating the scope of the service\n• Traffic profiles that must be adhered to for the requested service to be provided,\nsuch as token bucket parameters\n• Disposition of traffic submitted in excess of the specified profile\nThe framework document also gives some examples of services that might be\n1."
  },
  {
    "text": "Traffic offered at service level A will be delivered with low latency. 2. Traffic offered at service level B will be delivered with low loss. 3. Ninety percent of in-profile traffic delivered at service level C will experience no\nmore than 50 ms latency. 4. Ninety-five percent of in-profile traffic delivered at service level D will be delivered. 5."
  },
  {
    "text": "Traffic offered at service level E will be allotted twice the bandwidth of traffic\ndelivered at service level F. Terminology for Differentiated Services\nBehavior Aggregate\nA set of packets with the same DS codepoint crossing a link in a particular\nSelects packets based on the DS field (BA classifier) or on multiple fields within\nthe packet header (MF classifier)."
  },
  {
    "text": "DS Boundary Node\nA DS node that connects one DS domain to a node in another domain. DS Codepoint\nA specified value of the 6-bit DSCP portion of the 8-bit DS field in the IP header. A contiguous (connected) set of nodes, capable of implementing differentiated ser-\nvices, that operate with a common set of service provisioning policies and per-hop\nbehavior definitions."
  },
  {
    "text": "DS Interior Node\nA DS node that is not a DS boundary node. A node that supports differentiated services.Typically, a DS node is a router.A host\nsystem that provides differentiated services for applications in the host is also a DS\nThe process of discarding packets based on specified rules; also called policing. The process of setting the DS codepoint in a packet."
  },
  {
    "text": "Packets may be marked on\ninitiation and may be re-marked by an en route DS node. The process of measuring the temporal properties (e.g., rate) of a packet stream\nselected by a classifier.The instantaneous state of that process may affect marking,\nshaping, and dropping functions."
  },
  {
    "text": "Per-Hop Behavior \nThe externally observable forwarding behavior applied at a node to a behavior \nService Level \nA service contract between a customer and a service provider that specifies the \nAgreement (SLA)\nforwarding service a customer should receive. The process of delaying packets within a packet stream to cause it to conform to\nsome defined traffic profile."
  },
  {
    "text": "Traffic Conditioning\nControl functions performed to enforce rules specified in a TCA, including\nmetering, marking, shaping, and dropping. Traffic Conditioning \nAn agreement specifying classifying rules and traffic conditioning rules that are to \nAgreement (TCA)\napply to packets selected by the classifier. 19.4 / DIFFERENTIATED SERVICES\n6."
  },
  {
    "text": "Traffic with drop precedence X has a higher probability of delivery than traffic\nwith drop precedence Y. The first two examples are qualitative and are valid only in comparison to\nother traffic, such as default traffic that gets a best-effort service."
  },
  {
    "text": "The next two\nexamples are quantitative and provide a specific guarantee that can be verified by\nmeasurement on the actual service without comparison to any other services\noffered at the same time. The final two examples are a mixture of quantitative and\nqualitative. Packets are labeled for service handling by means of the 6-bit DS field in the IPv4\nheader or the IPv6 header."
  },
  {
    "text": "The value of the DS field, referred to as the DS code-\npoint, is the label used to classify packets for differentiated services. Figure 19.13a\nshows the DS field. With a 6-bit codepoint, there are in principle 64 different classes of traffic that\ncould be defined."
  },
  {
    "text": "These 64 codepoints are allocated across three pools of code-\npoints, as follows:\n• Codepoints of the form xxxxx0, where x is either 0 or 1, are reserved for\nassignment as standards. • Codepoints of the form xxxx11 are reserved for experimental or local use. • Codepoints of the form xxxx01 are also reserved for experimental or local use\nbut may be allocated for future standards action as needed."
  },
  {
    "text": "Within the first pool, several assignments are made in RFC 2474. The code-\npoint 000000 is the default packet class. The default class is the best-effort forward-\ning behavior in existing routers. Such packets are forwarded in the order that they\nare received as soon as link capacity becomes available."
  },
  {
    "text": "If other higher-priority\nFigure 19.13\n(b) Codepoints for assured forwarding PHB\n(a) DS Field\nDrop precedence\nDS codepoint\nClass 4—best service\nDrop precedence\nLow—most important\nHigh—least important \nDifferentiated services codepoint\nClass selector\nExpedited forwarding (EF) behavior\nDefault behavior\nClass selector\nCHAPTER 19 / INTERNETWORK OPERATION\npackets in other DS classes are available for transmission, these are given prefer-\nence over best-effort default packets."
  },
  {
    "text": "Codepoints of the form xxx000 are reserved to provide backward compatibil-\nity with the IPv4 precedence service.To explain this requirement, we need to digress\nto an explanation of the IPv4 precedence service. The IPv4 type of service (TOS)\nfield includes two subfields: a 3-bit precedence subfield and a 4-bit TOS subfield. These subfields serve complementary functions."
  },
  {
    "text": "The TOS subfield provides guid-\nance to the IP entity (in the source or router) on selecting the next hop for this data-\ngram, and the precedence subfield provides guidance about the relative allocation\nof router resources for this datagram. The precedence field is set to indicate the degree of urgency or priority to be\nassociated with a datagram."
  },
  {
    "text": "If a router supports the precedence subfield, there are\nthree approaches to responding:\n• Route selection: A particular route may be selected if the router has a smaller\nqueue for that route or if the next hop on that route supports network prece-\ndence or priority (e.g., a token ring network supports priority)."
  },
  {
    "text": "• Network service: If the network on the next hop supports precedence, then\nthat service is invoked. • Queuing discipline: A router may use precedence to affect how queues are\nhandled. For example, a router may give preferential treatment in queues to\ndatagrams with higher precedence."
  },
  {
    "text": "RFC 1812, Requirements for IP Version 4 Routers, provides recommenda-\ntions for queuing discipline that fall into two categories:\n• Queue service\n(a) Routers SHOULD implement precedence-ordered queue service. Prece-\ndence-ordered queue service means that when a packet is selected for out-\nput on a (logical) link, the packet of highest precedence that has been\nqueued for that link is sent."
  },
  {
    "text": "(b) Any router MAY implement other policy-based throughput management\nprocedures that result in other than strict precedence ordering, but it\nMUST be configurable to suppress them (i.e., use strict ordering). • Congestion control. When a router receives a packet beyond its storage capac-\nity, it must discard it or some other packet or packets."
  },
  {
    "text": "(a) A router MAY discard the packet it has just received; this is the simplest\nbut not the best policy. (b) Ideally, the router should select a packet from one of the sessions most\nheavily abusing the link, given that the applicable QoS policy permits this."
  },
  {
    "text": "A recommended policy in datagram environments using FIFO queues is\nto discard a packet randomly selected from the queue.An equivalent algo-\nrithm in routers using fair queues is to discard from the longest queue. A\nrouter MAY use these algorithms to determine which packet to discard."
  },
  {
    "text": "(c) If precedence-ordered queue service is implemented and enabled, the\nrouter MUST NOT discard a packet whose IP precedence is higher than\nthat of a packet that is not discarded. 19.4 / DIFFERENTIATED SERVICES\n(d) A router MAY protect packets whose IP headers request the maximize reli-\nability TOS,except where doing so would be in violation of the previous rule."
  },
  {
    "text": "(e) A router MAY protect fragmented IP packets, on the theory that dropping\na fragment of a datagram may increase congestion by causing all frag-\nments of the datagram to be retransmitted by the source."
  },
  {
    "text": "(f) To help prevent routing perturbations or disruption of management func-\ntions, the router MAY protect packets used for routing control, link con-\ntrol, or network management from being discarded."
  },
  {
    "text": "Dedicated routers\n(i.e., routers that are not also general purpose hosts, terminal servers, etc.)\ncan achieve an approximation of this rule by protecting packets whose\nsource or destination is the router itself. The DS codepoints of the form xxx000 should provide a service that at mini-\nmum is equivalent to that of the IPv4 precedence functionality."
  },
  {
    "text": "DS Configuration and Operation\nFigure 19.14 illustrates the type of configuration envisioned in the DS documents.A\nDS domain consists of a set of contiguous routers; that is, it is possible to get from\nany router in the domain to any other router in the domain by a path that does not\ninclude routers outside the domain.Within a domain, the interpretation of DS code-\npoints is uniform, so that a uniform, consistent service is provided."
  },
  {
    "text": "Routers in a DS domain are either boundary nodes or interior nodes. Typi-\ncally, the interior nodes implement simple mechanisms for handling packets based\nFigure 19.14\n\u0001 Border component\nShaper/dropper\n\u0001 Interior component\nQueue management\nCHAPTER 19 / INTERNETWORK OPERATION\non their DS codepoint values."
  },
  {
    "text": "This includes queuing discipline to give preferential\ntreatment depending on codepoint value, and packet-dropping rules to dictate\nwhich packets should be dropped first in the event of buffer saturation."
  },
  {
    "text": "The DS\nspecifications refer to the forwarding treatment provided at a router as per-hop\nbehavior (PHB).This PHB must be available at all routers, and typically PHB is the\nonly part of DS implemented in interior routers. The boundary nodes include PHB mechanisms but more sophisticated traffic\nconditioning mechanisms are also required to provide the desired service."
  },
  {
    "text": "Thus,\ninterior routers have minimal functionality and minimal overhead in providing the\nDS service, while most of the complexity is in the boundary nodes. The boundary\nnode function can also be provided by a host system attached to the domain, on\nbehalf of the applications at that host system."
  },
  {
    "text": "The traffic conditioning function consists of five elements:\n• Classifier: Separates submitted packets into different classes. This is the foun-\ndation of providing differentiated services. A classifier may separate traffic\nonly on the basis of the DS codepoint (behavior aggregate classifier) or based\non multiple fields within the packet header or even the packet payload (multi-\nfield classifier)."
  },
  {
    "text": "• Meter: Measures submitted traffic for conformance to a profile. The meter\ndetermines whether a given packet stream class is within or exceeds the ser-\nvice level guaranteed for that class. • Marker: Re-marks packets with a different codepoint as needed."
  },
  {
    "text": "This may be\ndone for packets that exceed the profile; for example, if a given throughput is\nguaranteed for a particular service class, any packets in that class that exceed\nthe throughput in some defined time interval may be re-marked for best effort\nhandling. Also, re-marking may be required at the boundary between two DS\ndomains."
  },
  {
    "text": "For example, if a given traffic class is to receive the highest supported\npriority, and this is a value of 3 in one domain and 7 in the next domain, then\npackets with a priority 3 value traversing the first domain are remarked as pri-\nority 7 when entering the second domain."
  },
  {
    "text": "• Shaper: Delays packets as necessary so that the packet stream in a given class\ndoes not exceed the traffic rate specified in the profile for that class. • Dropper: Drops packets when the rate of packets of a given class exceeds that\nspecified in the profile for that class. Figure 19.15 illustrates the relationship between the elements of traffic condi-\ntioning."
  },
  {
    "text": "After a flow is classified, its resource consumption must be measured. The\nmetering function measures the volume of packets over a particular time interval to\ndetermine a flow’s compliance with the traffic agreement. If the host is bursty, a sim-\nple data rate or packet rate may not be sufficient to capture the desired traffic char-\nacteristics."
  },
  {
    "text": "A token bucket scheme, such as that illustrated in Figure 19.11, is an\nexample of a way to define a traffic profile to take into account both packet rate and\nburstiness. If a traffic flow exceeds some profile, several approaches can be taken. Indi-\nvidual packets in excess of the profile may be re-marked for lower-quality handling\nand allowed to pass into the DS domain."
  },
  {
    "text": "A traffic shaper may absorb a burst of\n19.4 / DIFFERENTIATED SERVICES\npackets in a buffer and pace the packets over a longer period of time. A dropper\nmay drop packets if the buffer used for pacing becomes saturated. Per-Hop Behavior\nAs part of the DS standardization effort, specific types of PHB need to be defined,\nwhich can be associated with specific differentiated services."
  },
  {
    "text": "Currently, two stan-\ndards-track PHBs have been issued: expedited forwarding PHB (RFCs 3246 and\n3247) and assured forwarding PHB (RFC 2597). Expedited Forwarding PHB RFC 3246 defines the expedited forwarding\n(EF) PHB as a building block for low-loss, low-delay, and low-jitter end-to-end ser-\nvices through DS domains."
  },
  {
    "text": "In essence, such a service should appear to the endpoints\nas providing close to the performance of a point-to-point connection or leased line. In an internet or packet-switching network, a low-loss, low-delay, and low-jitter\nservice is difficult to achieve."
  },
  {
    "text": "By its nature, an internet involves queues at each node, or\nrouter,where packets are buffered waiting to use a shared output link.It is the queuing\nbehavior at each node that results in loss, delays, and jitter.Thus, unless the internet is\ngrossly oversized to eliminate all queuing effects, care must be taken in handling traffic\nfor EF PHB to assure that queuing effects do not result in loss, delay, or jitter above a\ngiven threshold."
  },
  {
    "text": "RFC 3246 declares that the intent of the EF PHB is to provide a PHB\nin which suitably marked packets usually encounter short or empty queues. The rela-\ntive absence of queues minimizes delay and jitter. Furthermore, if queues remain short\nrelative to the buffer space available, packet loss is also kept to a minimum."
  },
  {
    "text": "The EF PHB is designed to configuring nodes so that the traffic aggregate3 has\na well-defined minimum departure rate."
  },
  {
    "text": "(Well-defined means “independent of the\ndynamic state of the node.” In particular, independent of the intensity of other traf-\nfic at the node.) The general concept outlined in RFC 3246 is this:The border nodes\ncontrol the traffic aggregate to limit its characteristics (rate, burstiness) to some pre-\ndefined level."
  },
  {
    "text": "Interior nodes must treat the incoming traffic in such a way that queu-\ning effects do not appear. In general terms, the requirement on interior nodes is that\nthe aggregate’s maximum arrival rate must be less than the aggregate’s minimum\ndeparture rate."
  },
  {
    "text": "3The term traffic aggregate refers to the flow of packets associated with a particular service for a particu-\nFigure 19.15\nDS Traffic Conditioner\nCHAPTER 19 / INTERNETWORK OPERATION\nRFC 3246 does not mandate a specific queuing policy at the interior nodes to\nachieve the EF PHB.The RFC notes that a simple priority scheme could achieve the\ndesired effect, with the EF traffic given absolute priority over other traffic."
  },
  {
    "text": "So long\nas the EF traffic itself did not overwhelm an interior node, this scheme would result\nin acceptable queuing delays for the EF PHB. However, the risk of a simple priority\nscheme is that packet flows for other PHB traffic would be disrupted. Thus, some\nmore sophisticated queuing policy might be warranted."
  },
  {
    "text": "Assured Forwarding PHB The assured forwarding (AF) PHB is designed to\nprovide a service superior to best-effort but one that does not require the reserva-\ntion of resources within an internet and does not require the use of detailed dis-\ncrimination among flows from different users.The concept behind the AF PHB was\nfirst introduced in [CLAR98] and is referred to as explicit allocation."
  },
  {
    "text": "The AF PHB\nis more complex than explicit allocation, but it is useful to first highlight the key ele-\nments of the explicit allocation scheme:\n1. Users are offered the choice of a number of classes of service for their traffic. Each class describes a different traffic profile in terms of an aggregate data\nrate and burstiness. 2."
  },
  {
    "text": "Traffic from a user within a given class is monitored at a boundary node. Each\npacket in a traffic flow is marked in or out based on whether it does or does not\nexceed the traffic profile. 3. Inside the network, there is no separation of traffic from different users or even\ntraffic from different classes."
  },
  {
    "text": "Instead, all traffic is treated as a single pool of pack-\nets,with the only distinction being whether each packet has been marked in or out. 4. When congestion occurs, the interior nodes implement a dropping scheme in\nwhich out packets are dropped before in packets. 5."
  },
  {
    "text": "Different users will see different levels of service because they will have dif-\nferent quantities of in packets in the service queues. The advantage of this approach is its simplicity.Very little work is required by\nthe internal nodes. Marking of the traffic at the boundary nodes based on traffic\nprofiles provides different levels of service to different classes."
  },
  {
    "text": "The AF PHB defined in RFC 2597 expands on the preceding approach in the\nfollowing ways:\n1. Four AF classes are defined, allowing the definition of four distinct traffic pro-\nfiles.A user may select one or more of these classes to satisfy requirements. 2. Within each class, packets are marked by the customer or by the service\nprovider with one of three drop precedence values."
  },
  {
    "text": "In case of congestion, the\ndrop precedence of a packet determines the relative importance of the packet\nwithin the AF class.A congested DS node tries to protect packets with a lower\ndrop precedence value from being lost by preferably discarding packets with a\nhigher drop precedence value."
  },
  {
    "text": "This approach is still simpler to implement than any sort of resource reserva-\ntion scheme but provides considerable flexibility.Within an interior DS node, traffic\nfrom the four classes can be treated separately, with different amounts of resources\n19.5 / SERVICE LEVEL AGREEMENTS\n(buffer space, data rate) assigned to the four classes."
  },
  {
    "text": "Thus, as RFC 2597 points out, the level of for-\nwarding assurance of an IP packet depends on\n• How much forwarding resources has been allocated to the AF class to which\nthe packet belongs\n• The current load of the AF class, and, in case of congestion within the class\n• The drop precedence of the packet\nRFC 2597 does not mandate any mechanisms at the interior nodes to manage\nthe AF traffic."
  },
  {
    "text": "It does reference the RED algorithm as a possible way of managing\ncongestion. Figure 19.13b shows the recommended codepoints for AF PHB in the DS field."
  },
  {
    "text": "19.5 SERVICE LEVEL AGREEMENTS\nA service level agreement (SLA) is a contract between a network provider and a\ncustomer that defines specific aspects of the service that is to be provided.The defi-\nnition is formal and typically defines quantitative thresholds that must be met."
  },
  {
    "text": "An\nSLA typically includes the following information:\n• A description of the nature of service to be provided: A basic service would be\nIP-based network connectivity of enterprise locations plus access to the Inter-\nnet.The service may include additional functions such as Web hosting, mainte-\nnance of domain name servers, and operation and maintenance tasks."
  },
  {
    "text": "• The expected performance level of the service: The SLA defines a number of\nmetrics, such as delay, reliability, and availability, with numerical thresholds. • The process for monitoring and reporting the service level: This describes how\nperformance levels are measured and reported."
  },
  {
    "text": "The types of service parameters included in an SLA for an IP network are sim-\nilar to those provided for frame relay and ATM networks. A key difference is that,\nbecause of the unreliable datagram nature of an IP network, it is more difficult to\nrealize tightly defined constraints on performance, compared to the connection-ori-\nented frame relay and ATM networks."
  },
  {
    "text": "Figure 19.16 shows a typical configuration that lends itself to an SLA.In this case,\na network service provider maintains an IP-based network.A customer has a number\nof private networks (e.g., LANs) at various sites."
  },
  {
    "text": "Customer networks are connected to\nthe provider via access routers at the access points.The SLA dictates service and per-\nformance levels for traffic between access routers across the provider network. In\naddition, the provider network links to the Internet and thus provides Internet access\nfor the enterprise."
  },
  {
    "text": "For example, for the Internet Dedicated Service provided by MCI\n(http://global.mci.com/terms/us/products/dsl), the SLA includes the following items:\n• Availability: 100% availability. • Latency (delay): Average round-trip transmissions of \naccess routers in the contiguous United States."
  },
  {
    "text": "Average round-trip transmis-\nbetween an access router in the New York metropolitan\nCHAPTER 19 / INTERNETWORK OPERATION\narea and an access router in the London metropolitan area. Latency is calcu-\nlated by averaging sample measurements taken during a calendar month\nbetween routers."
  },
  {
    "text": "• Network packet delivery (reliability): Successful packet delivery rate of \n• Denial of service (DoS): Responds to DoS attacks reported by customer\nwithin 15 minutes of customer opening a complete trouble ticket. MCI defines\na DoS attack as more than 95% bandwidth utilization."
  },
  {
    "text": "• Network jitter: Jitter is defined as the variation or difference in the end-to-end\ndelay between received packets of an IP or packet stream. Jitter performance\nwill not exceed 1 ms between access routers. An SLA can be defined for the overall network service."
  },
  {
    "text": "In addition, SLAs can\nbe defined for specific end-to-end services available across the carrier’s network,\nsuch as a virtual private network, or differentiated services."
  },
  {
    "text": "19.6 IP PERFORMANCE METRICS\nThe IPPM Performance Metrics Working Group (IPPM) is chartered by IETF to\ndevelop standard metrics that relate to the quality, performance, and reliability of\nInternet data delivery.Two trends dictate the need for such a standardized measure-\nment scheme:\nFigure 19.16\nTypical Framework for Service Level Agreement\nAccess routers\nCustomer networks\nISP network\n19.6 / IP PERFORMANCE METRICS\n1."
  },
  {
    "text": "The Internet has grown and continues to grow at a dramatic rate. Its topology\nis increasingly complex.As its capacity has grown, the load on the Internet has\ngrown at an even faster rate. Similarly, private internets, such as corporate\nintranets and extranets, have exhibited similar growth in complexity, capacity,\nand load."
  },
  {
    "text": "The sheer scale of these networks makes it difficult to determine\nquality, performance, and reliability characteristics. 2. The Internet serves a large and growing number of commercial and personal\nusers across an expanding spectrum of applications. Similarly, private net-\nworks are growing in terms of user base and range of applications."
  },
  {
    "text": "Some of\nthese applications are sensitive to particular QoS parameters, leading users to\nrequire accurate and understandable performance metrics. A standardized and effective set of metrics enables users and service providers\nto have an accurate common understanding of the performance of the Internet and\nprivate internets."
  },
  {
    "text": "Measurement data is useful for a variety of purposes, including\n• Supporting capacity planning and troubleshooting of large complex internets\n• Encouraging competition by providing uniform comparison metrics across\nservice providers\n• Supporting Internet research in such areas as protocol design, congestion con-\ntrol, and quality of service\n• Verification of service level agreements\nTable 19.5 lists the metrics that have been defined in RFCs at the time of this\nwriting."
  },
  {
    "text": "Table 19.5a lists those metrics which result in a value estimated based on a\nsampling technique.The metrics are defined in three stages:\n• Singleton metric: The most elementary, or atomic, quantity that can be mea-\nsured for a given performance metric. For example, for a delay metric, a sin-\ngleton metric is the delay experienced by a single packet."
  },
  {
    "text": "• Sample metric: A collection of singleton measurements taken during a given\ntime period. For example, for a delay metric, a sample metric is the set of delay\nvalues for all of the measurements taken during a one-hour period. • Statistical metric: A value derived from a given sample metric by computing\nsome statistic of the values defined by the singleton metric on the sample."
  },
  {
    "text": "For\nexample, the mean of all the one-way delay values on a sample might be\ndefined as a statistical metric. The measurement technique can be either active or passive. Active techniques\nrequire injecting packets into the network for the sole purpose of measurement. There are several drawbacks to this approach.The load on the network is increased. This, in turn, can affect the desired result."
  },
  {
    "text": "For example, on a heavily loaded network,\nthe injection of measurement packets can increase network delay, so that the mea-\nsured delay is greater than it would be without the measurement traffic. In addition,\nan active measurement policy can be abused for denial-of-service attacks disguised\nas legitimate measurement activity."
  },
  {
    "text": "Passive techniques observe and extract metrics\nCHAPTER 19 / INTERNETWORK OPERATION\nPercentile, median,\nminimum, inverse percentile\nPercentile, median,\nminimum, inverse percentile\nNumber or rate of loss dis-\ntances below a defined\nthreshold, number of loss\nperiods, pattern of period\nlengths, pattern of interloss\nperiod lengths."
  },
  {
    "text": "Percentile, inverse\npercentile, jitter, peak-to-\nOne-Way Delay\nRound-Trip Delay\nOne-Way Loss\nOne-Way Loss\nPacket Delay\nwhere Src transmits first bit of\npacket at T and Dst received last bit of\nwhere Src transmits first bit of\npacket at T and Src received last bit of\npacket immediately returned by Dst at\n(signifying successful\ntransmission and reception of packet);\n(signifying packet loss)\nLoss distance: Pattern showing the\ndistance between successive packet losses\nin terms of the sequence of packets\nLoss period: Pattern showing the number\nof bursty losses (losses involving\nconsecutive packets)\nPacket delay variation (pdv) for a pair of\npackets with a stream of packets \u0001 \ndifference between the one-way-delay of\nthe selected packets\nDelay = dT,\nDelay = dT,\nIP Performance Metrics\n(a) Sampled metrics\nMetric Name\nSingleton Definition\nStatistical Definitions\naddress of a host\naddress of a host\n(b) Other metrics\nMetric Name\nGeneral Definition\nConnectivity\nAbility to deliver a packet \nOne-way instantaneous connectivity, two-way\nover a transport connection."
  },
  {
    "text": "instantaneous connectivity, one-way interval\nconnectivity, two-way interval connectivity,\ntwo-way temporal connectivity\nBulk Transfer \nLong-term average data \nrate (bps) over a single\ncongestion-aware transport\nconnection. BTC = 1data sent2/1elapsed time2\nFor the sample metrics, the simplest technique is to take measurements at\nfixed time intervals, known as periodic sampling."
  },
  {
    "text": "This method uses a Poisson\ndistribution to generate random time intervals with the desired mean value. Most of the statistical metrics listed in Table 19.5a are self-explanatory."
  },
  {
    "text": "The\npercentile metric is defined as follows: The xth percentile is a value y such that x%\nof measurements \nThe inverse percentile of x for a set of measurements is the\npercentage of all values \nFigure 19.17 illustrates the packet delay variation metric.This metric is used to\nmeasure jitter, or variability, in the delay of packets traversing the network.The sin-\ngleton metric is defined by selecting two packet measurements and measuring the\ndifference in the two delays."
  },
  {
    "text": "The statistical measures make use of the absolute val-\nues of the delays. Table 19.5b lists two metrics that are not defined statistically. Connectivity\ndeals with the issue of whether a transport-level connection is maintained by the\nnetwork."
  },
  {
    "text": "The current specification (RFC 2678) does not detail specific sample and\nstatistical metrics but provides a framework within which such metrics could be\ndefined."
  },
  {
    "text": "Connectivity is determined by the ability to deliver a packet across a con-\nnection within a specified time limit.The other metric, bulk transfer capacity, is sim-\nilarly specified (RFC 3148) without sample and statistical metrics but begins to\naddress the issue of measuring the transfer capacity of a network service with the\nimplementation of various congestion control mechanisms."
  },
  {
    "text": "[XIAO99] provides an overview and overall framework for Internet QoS as well\nas integrated and differentiated services."
  },
  {
    "text": "[CLAR92] and [CLAR95] provide valuable surveys\nof the issues involved in internet service allocation for real-time and elastic applications,\nFigure 19.17\nModel for Defining Packet Delay Variation\nI1, I2 \u0001 times that mark that beginning and ending of the interval\nin which the packet stream from which the singleton\nmeasurement is taken occurs\nMP1, MP2 \u0001 source and destination measurement points\nP(i) \u0001 ith measured packet in a stream of packets\ndTi \u0001 one-way delay for P(i)\nCHAPTER 19 / INTERNETWORK OPERATION\nrespectively."
  },
  {
    "text": "[SHEN95] is a masterful analysis of the rationale for a QoS-based internet archi-\ntecture. [ZHAN95] is a broad survey of queuing disciplines that can be used in an ISA, includ-\ning an analysis of FQ and WFQ. [ZHAN93] is a good overview of the philosophy and functionality of RSVP, written by\nits developers. [WHIT97] is a broad survey of both ISA and RSVP."
  },
  {
    "text": "[CARP02] and [WEIS98] are instructive surveys of differentiated services, while\n[KUMA98] looks at differentiated services and supporting router mechanisms that go\nbeyond the current RFCs. For a thorough treatment of DS, see [KILK99]. Two papers that compare IS and DS in terms of services and performance are\n[BERN00] and [HARJ00]."
  },
  {
    "text": "[VERM04] is an excellent surveys of service level agreements for IP networks. [BOUI02] covers the more general case of data networks. [MART02] examines limitations of\nIP network SLAs compared to data networks such as frame relay. [CHEN02] is a useful survey of Internet performance measurement issues. [PAXS96]\nprovides an overview of the framework of the IPPM effort. Armitage, G."
  },
  {
    "text": "Bouillet, E.; Mitra, D.; and Ramakrishnan, K.“The Structure and Management\nof Service Level Agreements in Networks.” IEEE Journal on Selected Areas in\nCommunications, May 2002. Carpenter, B., and Nichols, K. “Differentiated Services in the Internet.”\nProceedings of the IEEE, September 2002. Chen, T. “Internet Performance Monitoring.” Proceedings of the IEEE,\nSeptember 2002."
  },
  {
    "text": "Clark, D.; Shenker, S.; and Zhang, L. “Supporting Real-Time Applications in\nan Integrated Services Packet Network:Architecture and Mechanism” Proceedings,\nSIGCOMM ’92, August 1992. Clark, D. Adding Service Discrimination to the Internet. MIT Laboratory for\nComputer Science Technical Report, September 1995. Available at http://\nana-www.lcs.mit.edu/anaWeb/papers.html\nHarju, J., and Kivimaki, P."
  },
  {
    "text": "Kumar,V.; Lakshman,T.; and Stiliadis, D.“Beyond Best Effort: Router Archi-\ntectures for the Differentiated Services of Tomorrow’s Internet.” IEEE Communi-\ncations Magazine, May 1998. Martin, J., and Nilsson, A. “On Service Level Agreements for IP Networks.”\nProceeding IEEE INFOCOMM ’02, 2002. Moy, J. OSPF: Anatomy of an Internet Routing Protocol. Reading, MA:\nAddison-Wesley, 1998."
  },
  {
    "text": "“Toward a Framework for Defining Internet Performance Metrics.”\nProceedings, INET ’96, 1996. http://www-nrg.ee.lbl.gov\nPerlman, R. Interconnections: Bridges, Routers, Switches, and Internetworking\nProtocols. Reading, MA:Addison-Wesley, 2000. Shenker, S. “Fundamental Design Issues for the Future Internet.” IEEE Jour-\nnal on Selected Areas in Communications, September 1995. Verma, D."
  },
  {
    "text": "“Service Level Agreements on IP Networks.” Proceedings of the\nIEEE, September 2004. Weiss, W. “QoS with Differentiated Services.” Bell Labs Technical Journal,\nOctober–December 1998. White, P., and Crowcroft, J. “The Integrated Services in the Internet: State of\nthe Art.” Proceedings of the IEEE, December 1997."
  },
  {
    "text": "Xiao, X., and Ni, L.“Internet QoS:A Big Picture.” IEEE Network, March/April\nZhang, L.; Deering, S.; Estrin, D.; Shenker, S.; and Zappala, D. “RSVP: A New\nResource ReSerVation Protocol.” IEEE Network, September 1993. Zhang, H. “Service Disciplines for Guaranteed Performance Service in\nPacket-Switching Networks.” Proceedings of the IEEE, October 1995."
  },
  {
    "text": "• IP Performance Metrics working group: Chartered by IETF to develop a set of\nstandard metrics that can be applied to the quality, performance, and reliability of Inter-\nnet data delivery services. The Web site includes all relevant RFCs and Internet drafts."
  },
  {
    "text": "List and briefly explain the functions that are required for multicasting. What operations are performed by IGMP? What is an autonomous system? What is the difference between an interior router protocol and an exterior router pro-\nCompare the three main approaches to routing. List and briefly explain the three main functions of BGP. What is the Integrated Services Architecture?"
  },
  {
    "text": "What is the difference between elastic and inelastic traffic? What are the major functions that are part of an ISA? List and briefly describe the three categories of service offered by ISA. What is the difference between FIFO queuing and WFQ queuing? What is the purpose of a DS codepoint? List and briefly explain the five main functions of DS traffic conditioning."
  },
  {
    "text": "What is meant by per-hop behavior? Most operating systems include a tool named “traceroute” (or “tracert”) that can be\nused to determine the path packets follow to reach a specified host from the system\nthe tool is being run on."
  },
  {
    "text": "A number of sites provide Web access to the “traceroute”\ntool, for example,\nhttp://www.supporttechnique.net/traceroute.ihtml\nhttp://www.t1shopper.com/tools/traceroute\nUse the “traceroute” tool to determine the path packets follow to reach the host\nwilliamstallings.com. A connected graph may have more than one spanning tree."
  },
  {
    "text": "Find all spanning trees of\nthis graph:\nIn the discussion of Figure 19.1, three alternatives for transmitting a packet to a mul-\nticast address were discussed: broadcast, multiple unicast, and true multicast. Yet\nanother alternative is flooding. The source transmits one packet to each neighboring\nrouter."
  },
  {
    "text": "Each router, when it receives a packet, retransmits the packet on all outgoing\ninterfaces except the one on which the packet is received. Each packet is labeled with\na unique identifier so that a router does not flood the same packet more than once. Fill out a matrix similar to those of Table 19.1 and comment on the results."
  },
  {
    "text": "In IGMPv1 and IGMPv2, a host will cancel sending a pending membership report if it\nhears another host claiming membership in that group, in order to control the gener-\nation of IGMP traffic. However, IGMPv3 removes this suppression of host member-\nship reports.Analyze the reasons behind this design decision."
  },
  {
    "text": "IGMP Membership Queries include a “Max Resp Code” field that specifies the max-\nimum time allowed before sending a responding report. The actual time allowed,\ncalled the Max Resp Time, is represented in units of 1/10 second and is derived from\nthe Max Resp Code as follows:\nMaxRespTime is a floating-point value as follows:\nExplain the motivation for the smaller values and the larger values."
  },
  {
    "text": "Multicast applications call an API function on their sockets in order to ask the IP\nlayer to enable or disable reception of packets sent from some specific IP address(es)\nto a specific multicast address. For each of these sockets, the system records the desired multicast reception state."
  },
  {
    "text": "In addition to these per-socket multicast reception states, the system must maintain a\nmulticast reception state for each of its interfaces, which is derived from the per-\nsocket reception states. Suppose four multicast applications run on the same host, and participate in the\nsame multicast group, M1.The first application uses an \nter. The second one uses an \nfilter. The third one uses an\nfilter."
  },
  {
    "text": "And the fourth one uses an \nWhat’s the resulting multicast state (multicast address, filter mode, source list) for the\nnetwork interface? Multicast applications commonly use UDP or RTP (Real-Time Transport Protocol;\ndiscussed in Chapter 24) as their transport protocol. Multicast application do not use\nTCP as its transport protocol.What’s the problem with TCP?"
  },
  {
    "text": "With multicasting, packets are delivered to multiple destinations. Thus, in case of\nerrors (such as routing failures), one IP packet might trigger multiple ICMP error\npackets, leading to a packet storm. How is this potential problem avoided? Hint: Con-\nsult RFC 1122. BGP’s AS_PATH attribute identifies the autonomous systems through which routing\ninformation has passed."
  },
  {
    "text": "How can the AS_PATH attribute be used to detect routing\ninformation loops? BGP provides a list of autonomous systems on the path to the destination. However,\nthis information cannot be considered a distance metric.Why? RFC 2330 (Framework for IP Performance Metrics) defines percentile in the follow-\ning way."
  },
  {
    "text": "Given a collection of measurements, define the function F(x), which for any x\ngives the percentage of the total measurements that were \nIf x is less than the min-\nimum value observed, then \nIf it is greater or equal to the maximum value\nobserved, then \nThe yth percentile refer to the smallest value of x for\nConsider that we have the following measurements:\n7, 7, 4, 18,\nDetermine the following percentiles: 0, 25, 50, 100."
  },
  {
    "text": "INCLUDE5A36\nINCLUDE5A3, A46\nEXCLUDE5A1, A3, A46\nEXCLUDE5A1, A2, A36\n MaxRespTime = 1mant + 162 * 21exp+32\n MaxRespTime = 1mantƒ 0x102 V 1exp + 32 in C notation\nMaxRespCode Ú 128,\nIf MaxRespCode 6 128, MaxRespTime = Max Resp Code\nCHAPTER 19 / INTERNETWORK OPERATION\nFor the one-way and two-way delay metrics, if a packet fails to arrive within a reason-\nable period of time, the delay is taken to be undefined (informally, infinite)."
  },
  {
    "text": "The\nthreshold of reasonable is a parameter of the methodology. Suppose we take a sample\nof one-way delays and get the following results: 100 ms, 110 ms, undefined, 90 ms,\n500 ms.What is the 50th percentile? RFC 2330 defines the median of a set of measurements to be equal to the 50th per-\ncentile if the number of measurements is odd."
  },
  {
    "text": "For an even number of measurements,\nsort the measurements in ascending order; the median is then the mean of the two\ncentral values. What is the median value for the measurements in the preceding two\nRFC 2679 defines the inverse percentile of x for a set of measurements to be the per-\ncentage of all values \nWhat is the inverse percentile of 103 ms for the measure-\nments in Problem 19.14?"
  },
  {
    "text": "When multiple equal-cost routes to a destination exist, OSPF may distribute traffic\nequally among the routes. This is called load balancing. What effect does such load\nbalancing have on a transport layer protocol, such as TCP? It is clear that if a router gives preferential treatment to one flow or one class of flows,\nthen that flow or class of flows will receive improved service."
  },
  {
    "text": "It is not as clear that the\noverall service provided by the internet is improved.This question is intended to illus-\ntrate an overall improvement. Consider a network with a single link modeled by an\nexponential server of rate \nand consider two classes of flows with Poisson\narrival rates of \nand that have utility functions \nrepresents the average queuing delay to class i."
  },
  {
    "text": "Thus, class 1\ntraffic is more sensitive to delay than class 2. Define the total utility of the network as\nAssume that the two classes are treated alike and that FIFO queuing is used. b. Now assume a strict priority service so that packets from class 1 are always trans-\nmitted before packets in class 2.What is V? Comment. Provide three examples (each) of elastic and inelastic Internet traffic."
  },
  {
    "text": "Justify each\nexample’s inclusion in their respective category. Why does a Differentiated Services (DS) domain consist of a set of contiguous\nrouters? How are the boundary node routers different from the interior node routers\nin a DS domain? The token bucket scheme places a limit on the length of time at which traffic can\ndepart at the maximum data rate."
  },
  {
    "text": "Let the token bucket be defined by a bucket size B\noctets and a token arrival rate of R octets/second, and let the maximum output data\nrate be M octets/s. Derive a formula for S, which is the length of the maximum-rate burst.That is, for\nhow long can a flow transmit at the maximum output rate when governed by a\ntoken bucket? b."
  },
  {
    "text": "IP-level security\nIndicate the nature of the problem in each area, and suggest a solution. M = 25 MB/s? B = 250 KB, R = 2 MB/s,\nV = U1 + U2."
  },
  {
    "text": "A transport protocol can be either connection\noriented, such as TCP, or connectionless, such as UDP."
  },
  {
    "text": "If the underlying network or internetwork service is unreliable, such\nas with the use of IP, then a reliable connection-oriented transport\nprotocol becomes quite complex.The basic cause of this complexity is\nthe need to deal with the relatively large and variable delays experi-\nenced between end systems. These large, variable delays complicate\nthe flow control and error control techniques."
  },
  {
    "text": "TCP uses a credit-based flow control technique that is somewhat dif-\nferent from the sliding-window flow control found in X.25 and\nCHAPTER 20 / TRANSPORT PROTOCOLS\n• Host address\n• Network number\nThe transport protocol must be able to derive the information listed above\nfrom the TS user address.Typically, the user address is specified as (Host, Port).The\nPort variable represents a particular TS user at the specified host."
  },
  {
    "text": "Generally, there\nwill be a single transport entity at each host, so a transport entity identification is not\nneeded. If more than one transport entity is present, there is usually only one of\neach type. In this latter case, the address should include a designation of the type of\ntransport protocol (e.g., TCP, UDP). In the case of a single network, Host identifies\nan attached network device."
  },
  {
    "text": "In the case of an internet, Host is a global internet\naddress. In TCP, the combination of port and host is referred to as a socket. Because routing is not a concern of the transport layer, it simply passes the\nHost portion of the address down to the network service. Port is included in a trans-\nport header, to be used at the destination by the destination transport protocol entity."
  },
  {
    "text": "One question remains to be addressed: How does the initiating TS user know\nthe address of the destination TS user? Two static and two dynamic strategies sug-\ngest themselves:\n1. The TS user knows the address it wishes to use ahead of time. This is basically\na system configuration function."
  },
  {
    "text": "For example, a process may be running that is\nonly of concern to a limited number of TS users, such as a process that collects\nstatistics on performance. From time to time, a central network management\nroutine connects to the process to obtain the statistics. These processes gener-\nally are not, and should not be, well known and accessible to all. 2."
  },
  {
    "text": "Some commonly used services are assigned “well-known addresses.” Examples\ninclude the server side of FTP, SMTP, and some other standard protocols. 3. A name server is provided. The TS user requests a service by some generic or\nglobal name. The request is sent to the name server, which does a directory\nlookup and returns an address.The transport entity then proceeds with the con-\nnection."
  },
  {
    "text": "This service is useful for commonly used applications that change loca-\ntion from time to time.For example,a data entry process may be moved from one\nhost to another on a local network to balance load. 4. In some cases, the target user is to be a process that is spawned at request\ntime.The initiating user can send a process request to a well-known address."
  },
  {
    "text": "The user at that address is a privileged system process that will spawn the\nnew process and return an address. For example, a programmer has devel-\noped a private application (e.g., a simulation program) that will execute on\na remote server but be invoked from a local workstation."
  },
  {
    "text": "A request can be\nissued to a remote job-management process that spawns the simulation\nMultiplexing Multiplexing was discussed in general terms in Section 18.1. With\nrespect to the interface between the transport protocol and higher-level protocols,\nthe transport protocol performs a multiplexing/demultiplexing function."
  },
  {
    "text": "That is,\nmultiple users employ the same transport protocol and are distinguished by port\nnumbers or service access points. 20.1 / CONNECTION-ORIENTED TRANSPORT PROTOCOL MECHANISMS\n1Recall from Chapter 2 that the blocks of data (protocol data units) exchanged by TCP entities are\nreferred to as TCP segments."
  },
  {
    "text": "The transport entity may also perform a multiplexing function with respect to\nthe network services that it uses. Recall that we defined upward multiplexing as the\nmultiplexing of multiple connections on a single lower-level connection, and down-\nward multiplexing as the splitting of a single connection among multiple lower-level\nconnections (Section 18.1)."
  },
  {
    "text": "Consider, for example, a transport entity making use of an X.25 service. Why\nshould the transport entity employ upward multiplexing? There are, after all, 4095\nvirtual circuits available. In the typical case, this is more than enough to handle all\nactive TS users."
  },
  {
    "text": "However, most X.25 networks base part of their charge on virtual\ncircuit connect time, because each virtual circuit consumes some node buffer\nresources. Thus, if a single virtual circuit provides sufficient throughput for multiple\nTS users, upward multiplexing is indicated. On the other hand, downward multiplexing or splitting might be used to\nimprove throughput."
  },
  {
    "text": "For example, each X.25 virtual circuit is restricted to a \n3-bit or 7-bit sequence number. A larger sequence space might be needed for\nhigh-speed, high-delay networks. Of course, throughput can only be increased\nso far. If there is a single host-node link over which all virtual circuits are mul-\ntiplexed, the throughput of a transport connection cannot exceed the data rate\nof that link."
  },
  {
    "text": "Flow Control Whereas flow control is a relatively simple mechanism at the\nlink layer, it is a rather complex mechanism at the transport layer, for two main\n• The transmission delay between transport entities is generally long compared\nto actual transmission time. This means that there is a considerable delay in\nthe communication of flow control information."
  },
  {
    "text": "• Because the transport layer operates over a network or internet, the amount\nof the transmission delay may be highly variable. This makes it difficult to\neffectively use a timeout mechanism for retransmission of lost data."
  },
  {
    "text": "Presumably a transport entity has\na certain amount of buffer space. Incoming segments are added to the buffer. Each\nbuffered segment is processed (i.e., the transport header is examined) and the data\nare sent to the TS user."
  },
  {
    "text": "First, we present four ways of coping with the flow control requirement.The\nreceiving transport entity can\nCHAPTER 20 / TRANSPORT PROTOCOLS\n1. Do nothing. 2. Refuse to accept further segments from the network service. 3. Use a fixed sliding-window protocol. 4. Use a credit scheme. Alternative 1 means that the segments that overflow the buffer are discarded."
  },
  {
    "text": "layer protocols in Chapter 7.The key ingredients, recall, are\n• The use of sequence numbers on data units\n• The use of a window of fixed size\nCHAPTER 20 / TRANSPORT PROTOCOLS\n(a) Send sequence space\n(b) Receive sequence space \nWindow of octets\nthat may be transmitted\nData octets already transmitted\nOctets not yet\nacknowledged\nData octets so far acknowledged\ntransmitted\nacknowledged\nInitial sequence\nnumber (ISN)\nWindow shrinks from\ntrailing edge as\nsegments are sent\nWindow expands\nfrom leading edge\nas credits are received\nWindow of octets\nthat may be accepted\nData octets already received\nOctets not yet\nacknowledged\nData octets so far acknowledged\nacknowledged\nInitial sequence\nnumber (ISN)\nWindow shrinks from\ntrailing edge as\nsegments are received\nWindow expands\nfrom leading edge\nas credits are sent\nFigure 20.2\nSending and Receiving Flow Control Perspectives\nthrough 2600 (5 segments)."
  },
  {
    "text": "However, by the time that B’s message has arrived at A,\nA has already sent two segments, containing octets 1601 through 2000 (which was\npermissible under the initial allocation). Thus, A’s remaining credit upon receipt of\nB’s credit allocation is only 600 octets (3 segments)."
  },
  {
    "text": "As the exchange proceeds, A\nadvances the trailing edge of its window each time that it transmits and advances the\nleading edge only when it is granted credit. Figure 20.2 shows the view of this mechanism from the sending and receiving\nsides (compare Figure 7.3). Typically, both sides take both views because data may\nbe exchanged in both directions."
  },
  {
    "text": "Note that the receiver is not required to immedi-\nately acknowledge incoming segments but may wait and issue a cumulative\nCHAPTER 20 / TRANSPORT PROTOCOLS\na request with a Passive Open command.A server program, such as time-sharing or a\nfile transfer application, might do this. The TS user may change its mind by sending a\nClose command."
  },
  {
    "text": "After the Passive Open command is issued, the transport entity cre-\nates a connection object of some sort (i.e., a table entry) that is in the LISTEN state."
  },
  {
    "text": "From the CLOSED state,a TS user may open a connection by issuing an Active\nOpen command, which instructs the transport entity to attempt connection establish-\nment with a designated remote TS user, which triggers the transport entity to send a\nSYN (for synchronize) segment. This segment is carried to the receiving transport\nentity and interpreted as a request for connection to a particular port."
  },
  {
    "text": "If the destina-\ntion transport entity is in the LISTEN state for that port, then a connection is estab-\nlished by the following actions by the receiving transport entity:\n• Signal the local TS user that a connection is open. • Send a SYN as confirmation to the remote transport entity. • Put the connection object in an ESTAB (established) state."
  },
  {
    "text": "When the responding SYN is received by the initiating transport entity, it too\ncan move the connection to an ESTAB state.The connection is prematurely aborted\nif either TS user issues a Close command. Figure 20.4 shows the robustness of this protocol. Either side can initiate a\nconnection."
  },
  {
    "text": "Further, if both sides initiate the connection at about the same time, it is\nestablished without confusion.This is because the SYN segment functions both as a\nCHAPTER 20 / TRANSPORT PROTOCOLS\nthat there are more difficulties with a reliable connection-oriented transport pro-\ntocol than any other sort of protocol."
  },
  {
    "text": "In the remainder of this section, unless otherwise noted, the mechanisms dis-\ncussed are those used by TCP."
  },
  {
    "text": "Seven issues need to be addressed:\n• Ordered delivery\n• Retransmission strategy\n• Duplicate detection\n• Flow control\n• Connection establishment\n• Connection termination\n• Failure recovery\nOrdered Delivery With an unreliable network service, it is possible that seg-\nments, even if they are all delivered, may arrive out of order.The required solution\nto this problem is to number segments sequentially."
  },
  {
    "text": "We have seen that for data\nlink control protocols, such as HDLC, and for X.25, each data unit (frame, packet)\nis numbered sequentially with each successive sequence number being one more\nthan the previous sequence number. This scheme is used in some transport proto-\ncols, such as the ISO transport protocols."
  },
  {
    "text": "However,TCP uses a somewhat different\nscheme in which each data octet that is transmitted is implicitly numbered. Thus,\nthe first segment may have a sequence number of 1. If that segment has 200 octets\nof data, then the second segment would have the sequence number 201, and so on."
  },
  {
    "text": "For simplicity in the discussions of this section, we will continue to assume that\neach successive segment’s sequence number is 200 more than that of the previous\nsegment; that is, each segment contains exactly 200 octets of data. Retransmission Strategy Two events necessitate the retransmission of a seg-\nment."
  },
  {
    "text": "First, a segment may be damaged in transit but nevertheless arrive at its des-\ntination. If a checksum is included with the segment, the receiving transport entity\ncan detect the error and discard the segment.The second contingency is that a seg-\nment fails to arrive. In either case, the sending transport entity does not know that\nthe segment transmission was unsuccessful."
  },
  {
    "text": "To cover this contingency, a positive\nCHAPTER 20 / TRANSPORT PROTOCOLS\nThe second case is discussed in the subsection on connection establishment. We deal with the first case here. Notice that we say “a” duplicate rather than “the” duplicate. From the sender’s\npoint of view, the retransmitted segment is the duplicate."
  },
  {
    "text": "However, the retransmit-\nted segment may arrive before the original segment, in which case the receiver\nviews the original segment as the duplicate."
  },
  {
    "text": "In any case, two tactics are needed to\ncope with a duplicate received prior to the close of a connection:\nCHAPTER 20 / TRANSPORT PROTOCOLS\nConnection Establishment As with other protocol mechanisms,connection estab-\nlishment must take into account the unreliability of a network service.Recall that a con-\nnection establishment calls for the exchange of SYNs, a procedure sometimes referred\nto as a two-way handshake."
  },
  {
    "text": "Suppose that A issues a SYN to B. It expects to get a SYN\nback, confirming the connection. Two things can go wrong: A’s SYN can be lost or B’s\nanswering SYN can be lost.Both cases can be handled by use of a retransmit-SYN timer\n(Table 20.1).After A issues a SYN, it will reissue the SYN when the timer expires. This gives rise, potentially, to duplicate SYNs."
  },
  {
    "text": "If A’s initial SYN was lost, there\nare no duplicates. If B’s response was lost, then B may receive two SYNs from A. Further, if B’s response was not lost, but simply delayed,A may get two responding\nSYNs. All of this means that A and B must simply ignore duplicate SYNs once a\nconnection is established."
  },
  {
    "text": "A acknowledges B’s SYN/ACK in its first data\nsegment, which begins with sequence number \nFigure 20.9b shows a situation\nin which an old SYN i arrives at B after the close of the relevant connection."
  },
  {
    "text": "B\nassumes that this is a fresh request and responds with SYN j,\nreceives this message, it realizes that it has not requested a connection and therefore\nsends an RST,\nNote that the \nportion of the RST message is essen-\ntial so that an old duplicate RST does not abort a legitimate connection establish-\nment. Figure 20.9c shows a case in which an old SYN/ACK arrives in the middle of\nAN = i + 1."
  },
  {
    "text": "1AN = i + 12\nSV     = state vector\nMSL = maximum segment lifetime\nActive open or\nactive open with data\nInitialize SV; send SYN\nUnspecified passive open or\nfully specified passive open\nInitialize SV\nReceive SYN\nSend SYN, ACK\nReceive SYN, ACK\nReceive FIN, ACK of SYN\nReceive FIN\nReceive FIN\nReceive FIN\nReceive FIN, ACK\nReceive SYN\nSend SYN, ACK\nFigure 20.8\nTCP Entity State Diagram\n20.1 / CONNECTION-ORIENTED TRANSPORT PROTOCOL MECHANISMS\na new connection establishment."
  },
  {
    "text": "Because of the use of sequence numbers in the\nCHAPTER 20 / TRANSPORT PROTOCOLS\ndefined in that diagram for connection termination is inadequate for an unreliable net-\nwork service."
  },
  {
    "text": "Misordering of segments could cause the following scenario.A transport\nentity in the CLOSE WAIT state sends its last data segment, followed by a FIN seg-\nment, but the FIN segment arrives at the other side before the last data segment."
  },
  {
    "text": "The\nreceiving transport entity will accept that FIN, close the connection, and lose the last\nsegment of data.To avoid this problem, a sequence number can be associated with the\nFIN, which can be assigned the next sequence number after the last octet of transmit-\nted data.With this refinement, the receiving transport entity, upon receiving a FIN, will\nwait if necessary for the late-arriving data before closing the connection."
  },
  {
    "text": "A more serious problem is the potential loss of segments and the potential pres-\nence of obsolete segments. Figure 20.8 shows that the termination procedure adopts a\nsimilar solution to that used for connection establishment."
  },
  {
    "text": "Each side must explicitly\nacknowledge the FIN of the other, using an ACK with the sequence number of the\nFIN to be acknowledged.For a graceful close,a transport entity requires the following:\n• It must send a FIN i and receive \n• It must receive a FIN j and send \n• It must wait an interval equal to twice the maximum expected segment lifetime."
  },
  {
    "text": "Failure Recovery When the system upon which a transport entity is running\nfails and subsequently restarts, the state information of all active connections is lost. The affected connections become half open because the side that did not fail does\nnot yet realize the problem. The still active side of a half-open connection can close the connection using a\nkeepalive timer."
  },
  {
    "text": "This timer measures the time the transport machine will continue to\nCHAPTER 20 / TRANSPORT PROTOCOLS\nTable 20.4 provides a brief definition of the parameters involved. The two passive \nopen commands signal the TCP user’s willingness to accept a connection request.The\nactive open with data allows the user to begin transmitting data with the opening of\nthe connection."
  },
  {
    "text": "TCP Header Format\nTCP uses only a single type of protocol data unit, called a TCP segment.The header\nis shown in Figure 20.10. Because one header must serve to perform all protocol\nmechanisms, it is rather large, with a minimum length of 20 octets. The fields are as\n• Source Port (16 bits): Source TCP user."
  },
  {
    "text": "Example values are Telnet \u0001 23;\nA complete list is maintained at http://www.iana.org/\nassignments/port-numbers. • Destination Port (16 bits): Destination TCP user. • Sequence Number (32 bits): Sequence number of the first data octet in this\nsegment except when the SYN flag is set."
  },
  {
    "text": "If SYN is set, this field contains the\ninitial sequence number (ISN) and the first data octet in this segment has\nsequence number ISN + 1. TFTP = 69; HTTP = 80."
  },
  {
    "text": "TCP Service Response Primitives\nDescription\nlocal-connection-name, source-port,\nInforms TCP user of connection name \ndestination-port, destination-address\nassigned to pending connection \nrequested in an Open primitive\nOpen Failure\nlocal-connection-name\nReports failure of an Active Open request\nOpen Success\nlocal-connection-name\nReports completion of pending Open request\nlocal-connection-name, data, data-length,\nReports arrival of data\nURGENT-flag\nlocal-connection-name\nReports that remote TCP user has issued a\nClose and that all data sent by remote user\nhas been delivered\nlocal-connection-name, description\nReports that the connection has been termi-\nnated; a description of the reason for \ntermination is provided\nlocal-connection-name, source-port,\nReports current status of connection\nsource-address, destination-port,\ndestination-address, connection-state,\nreceive-window, send-window, amount-\nawaiting-ACK, amount-awaiting-receipt,\nurgent-state, precedence, security, timeout\nlocal-connection-name, description\nReports service-request or internal error\nNot used for Unspecified Passive Open."
  },
  {
    "text": "CHAPTER 20 / TRANSPORT PROTOCOLS\nConnection Establishment Connection establishment in TCP always uses a\nthree-way handshake.When the SYN flag is set, the segment is essentially a request\nfor connection and functions as explained in Section 20.1. To initiate a connection,\nan entity sends a SYN,\nwhere X is the initial sequence number."
  },
  {
    "text": "The\nreceiver responds with SYN,\nby setting both the SYN and\nCHAPTER 20 / TRANSPORT PROTOCOLS\n• First-only: Maintain one retransmission timer for the entire queue. If an\nCHAPTER 20 / TRANSPORT PROTOCOLS\nfor recent segments, and then set the timer to a value somewhat greater than the\nestimated round-trip time."
  },
  {
    "text": "Simple Average A simple approach is to take the average of observed round-trip\ntimes over a number of segments. If the average accurately predicts future round-\ntrip times, then the resulting retransmission timer will yield good performance."
  },
  {
    "text": "The\nsimple averaging method can be expressed as\nwhere RTT(i) is the round-trip time observed for the ith transmitted segment, and\nARTT(K) is the average round-trip time for the first K segments."
  },
  {
    "text": "This expression can be rewritten as\nWith this formulation, it is not necessary to recalculate the entire summation each\nExponential Average Note that each term in the summation is given equal\nweight; that is, each term is multiplied by the same constant \nTypically, we\nwould like to give greater weight to more recent instances because they are more\nlikely to reflect future behavior."
  },
  {
    "text": "A common technique for predicting the next value\non the basis of a time series of past values, and the one specified in RFC 793, is expo-\nnential averaging:\nwhere SRTT(K) is called the smoothed round-trip time estimate, and we define\nCompare this with Equation (20.2)."
  },
  {
    "text": "By using a constant value of\nindependent of the number of past observations, we have a circum-\nstance in which all past values are considered, but the more distant ones have less\nweight.To see this more clearly, consider the following expansion of Equation (20.3):\nBecause both \nare less than one, each successive term in the preceding\nequation is smaller."
  },
  {
    "text": "For example, for \nthe expansion is\nThe older the observation, the less it is counted in the average. The smaller the value of \nthe greater the weight given to the more recent\nobservations. For \nvirtually all of the weight is given to the four or five\nmost recent observations, whereas for \nthe averaging is effectively\nspread out over the ten or so most recent observations."
  },
  {
    "text": "The advantage of using a\n10.1282RTT1K - 12 + Á\nSRTT1K + 12 = 10.22RTT1K + 12 + 10.162RTT1K2 +\na211 - a2RTT1K - 12 + Á + aK11 - a2RTT112\nSRTT1K + 12 = 11 - a2RTT1K + 12 + a11 - a2RTT1K2+\na 10 6 a 6 12,\nSRTT102 = 0."
  },
  {
    "text": "SRTT1K + 12 = a * SRTT1K2 + 11 - a2 * RTT1K + 12\nARTT1K + 12 =\nK + 1 ARTT1K2 +\nK + 1 RTT1K + 12\nARTT1K + 12 =\n20.3 / TCP CONGESTION CONTROL\nsmall value of \nis that the average will quickly reflect a rapid change in \nthe observed quantity."
  },
  {
    "text": "The disadvantage is that if there is a brief surge in the\nvalue of the observed quantity and it then settles back to some relatively \nconstant value, the use of a small value of \nwill result in jerky changes in the\nFigure 20.11 compares simple averaging with exponential averaging (for two\ndifferent values of )."
  },
  {
    "text": "In part (a) of the figure, the observed value begins at 1, grows\ngradually to a value of 10, and then stays there."
  },
  {
    "text": "In part (b) of the figure, the\n(a) Increasing function\nSimple average\nObserved value\nObserved or average value\n(b) Decreasing function\nSimple average\nObserved value\nObserved or average value\nFigure 20.11\nUse of Exponential Averaging\nCHAPTER 20 / TRANSPORT PROTOCOLS\nobserved value begins at 20, declines gradually to 10, and then stays there."
  },
  {
    "text": "Note\nthat exponential averaging tracks changes in RTT faster than does simple averag-\ning and that the smaller value of \nresults in a more rapid reaction to the change in\nthe observed value. Equation (20.3) is used in RFC 793 to estimate the current round-trip time.As\nwas mentioned, the retransmission timer should be set at a value somewhat greater\nthan the estimated round-trip time."
  },
  {
    "text": "One possibility is to use a constant value:\nwhere RTO is the retransmission timer (also called the retransmission timeout)\nis a constant. The disadvantage of this is that \nis not proportional to\nSRTT. For large values of SRTT,\nis relatively small and fluctuations in the\nactual RTT will result in unnecessary retransmissions."
  },
  {
    "text": "For small values of SRTT,\nis relatively large and causes unnecessary delays in retransmitting lost \nsegments. Accordingly, RFC 793 specifies the use of a timer whose value is pro-\nportional to SRTT, within limits:\nwhere UBOUND and LBOUND are prechosen fixed upper and lower bounds on\nthe timer value and \nis a constant."
  },
  {
    "text": "RFC 793 does not recommend specific values\nbut does list as “example values” the following:\nbetween 0.8 and 0.9 and \nbetween 1.3 and 2.0. RTT Variance Estimation (Jacobson’s Algorithm) The technique speci-\nfied in the TCP standard, and described in Equations (20.3) and (20.4), enables a\nTCP entity to adapt to changes in round-trip time."
  },
  {
    "text": "However, it does not cope well\nwith a situation in which the round-trip time exhibits a relatively high variance. [ZHAN86] points out three sources of high variance:\n1."
  },
  {
    "text": "If the data rate on the TCP connection is relatively low, then the transmission\ndelay will be relatively large compared to propagation time and the variance\nin delay due to variance in IP datagram size will be significant.Thus, the SRTT\nestimator is heavily influenced by characteristics that are a property of the\ndata and not of the network. 2."
  },
  {
    "text": "Internet traffic load and conditions may change abruptly due to traffic from\nother sources, causing abrupt changes in RTT. 3."
  },
  {
    "text": "The peer TCP entity may not acknowledge each segment immediately because\nof its own processing delays and because it exercises its privilege to use cumu-\nCHAPTER 20 / TRANSPORT PROTOCOLS\n(a) Increasing function\n(b) Decreasing function\nObserved or average value\nObserved or average value\nFigure 20.12\nJacobson’s RTO Calculation\n1. What RTO value should be used on a retransmitted segment?"
  },
  {
    "text": "The exponential\nRTO backoff algorithm is used for this purpose. 2. Which round-trip samples should be used as input to Jacobson’s algorithm? Karn’s algorithm determines which samples to use. Exponential RTO Backoff When a TCP sender times out on a segment, it\nmust retransmit that segment. RFC 793 assumes that the same RTO value will be\nused for this retransmitted segment."
  },
  {
    "text": "However, because the timeout is probably due\n20.3 / TCP CONGESTION CONTROL\nto network congestion, manifested as a dropped packet or a long delay in round-trip\ntime, maintaining the same RTO value is ill advised. Consider the following scenario. There are a number of active TCP connec-\ntions from various sources sending traffic into an internet."
  },
  {
    "text": "A region of congestion\ndevelops such that segments on many of these connections are lost or delayed past\nthe RTO time of the connections. Therefore, at roughly the same time, many seg-\nments will be retransmitted into the internet, maintaining or even increasing the\ncongestion. All of the sources then wait a local (to each connection) RTO time and\nretransmit yet again."
  },
  {
    "text": "This pattern of behavior could cause a sustained condition of\ncongestion. A more sensible policy dictates that a sending TCP entity increase its RTO\neach time a segment is retransmitted; this is referred to as a backoff process."
  },
  {
    "text": "In the\nscenario of the preceding paragraph, after the first retransmission of a segment on\neach affected connection, the sending TCP entities will all wait a longer time before\nperforming a second retransmission.This may give the internet time to clear the cur-\nrent congestion."
  },
  {
    "text": "If a second retransmission is required, each sending TCP entity will\nwait an even longer time before timing out for a third retransmission, giving the\ninternet an even longer period to recover. A simple technique for implementing RTO backoff is to multiply the RTO for\na segment by a constant value for each retransmission:\nEquation (20.6) causes RTO to grow exponentially with each retransmission."
  },
  {
    "text": "The\nmost commonly used value of q is 2. With this value, the technique is referred to as\nbinary exponential backoff. This is the same technique used in the Ethernet\nCSMA/CD protocol (Chapter 16). Karn’s Algorithm If no segments are retransmitted, the sampling process for\nJacobson’s algorithm is straightforward.The RTT for each segment can be included\nin the calculation."
  },
  {
    "text": "Suppose, however, that a segment times out and must be retrans-\nCHAPTER 20 / TRANSPORT PROTOCOLS\n3These algorithms were developed by Jacobson [JACO88] and are also described in RFC 2581. Jacobson\ndescribes things in units of TCP segments, whereas RFC 2581 relies primarily on units of TCP data octets,\nwith some reference to calculations in units of segments.We follow the development in [JACO88]."
  },
  {
    "text": "Karn’s algorithm [KARN91] solves this problem with the following rules:\n1. Do not use the measured RTT for a retransmitted segment to update SRTT\nand SDEV [Equation (20.5)]. 2. Calculate the backoff RTO using Equation (20.6) when a retransmission occurs. 4Kleinrock refers to this phenomenon as the long-tail effect during a rush-hour period."
  },
  {
    "text": "When a new connection is opened, the TCP entity initializes \nis, TCP is only allowed to send 1 segment and then must wait for an acknowledg-\nCHAPTER 20 / TRANSPORT PROTOCOLS\nRound-trip times\nFigure 20.13\nIllustration of Slow Start and Congestion Avoidance\nalgorithm set the value of RTO at somewhat greater than the estimated round-trip\ntime SRTT. Several factors make this margin desirable:\n1."
  },
  {
    "text": "RTO is calculated on the basis of a prediction of the next RTT, estimated from\npast values of RTT. If delays in the network fluctuate, then the estimated RTT\nmay be smaller than the actual RTT. 2. Similarly, if delays at the destination fluctuate, the estimated RTT becomes\nunreliable. 3."
  },
  {
    "text": "The destination system may not ACK each segment but cumulatively ACK\nmultiple segments, while at the same time sending ACKs when it has any data\nto send.This behavior contributes to fluctuations in RTT. A consequence of these factors is that if a segment is lost,TCP may be slow to\nretransmit."
  },
  {
    "text": "If the destination TCP is using an in-order accept policy (see Section\n6.3), then many segments may be lost. Even in the more likely case that the destina-\ntion TCP is using an in-window accept policy, a slow retransmission can cause prob-\nlems.To see this, suppose that A transmits a sequence of segments, the first of which\nis lost."
  },
  {
    "text": "So long as its send window is not empty and RTO does not expire,A can con-\nmanagement, as described in Chapter 22. The strengths of the connection-oriented approach are clear. It allows connec-\ntion-related features such as flow control, error control, and sequenced delivery. Connectionless service, however, is more appropriate in some contexts."
  },
  {
    "text": "At lower\ncwnd = ssthresh,\nCHAPTER 20 / TRANSPORT PROTOCOLS\nSource Port\nDestination Port\nFigure 20.14\nlayers (internet, network), a connectionless service is more robust (e.g., see discus-\nsion in Section 10.5). In addition, it represents a “least common denominator” of\nservice to be expected at higher layers. Further, even at transport and above there is\njustification for a connectionless service."
  },
  {
    "text": "There are instances in which the overhead\nof connection establishment and termination is unjustified or even counterproduc-\ntive. Examples include the following:\n• Inward data collection: Involves the periodic active or passive sampling of\ndata sources, such as sensors, and automatic self-test reports from security\nequipment or network components."
  },
  {
    "text": "In a real-time monitoring situation, the\nloss of an occasional data unit would not cause distress, because the next\nreport should arrive shortly. • Outward data dissemination: Includes broadcast messages to network users,\nthe announcement of a new node or the change of address of a service, and the\ndistribution of real-time clock values."
  },
  {
    "text": "• Request-response: Applications in which a transaction service is provided by a\ncommon server to a number of distributed TS users, and for which a single\nrequest-response sequence is typical. Use of the service is regulated at the appli-\ncation level,and lower-level connections are often unnecessary and cumbersome."
  },
  {
    "text": "• Real-time applications: Such as voice and telemetry, involving a degree of\nredundancy and/or a real-time transmission requirement.These must not have\nconnection-oriented functions such as retransmission. Thus, there is a place at the transport level for both a connection-oriented and\na connectionless type of service. UDP sits on top of IP. Because it is connectionless, UDP has very little to do."
  },
  {
    "text": "Essentially,it adds a port addressing capability to IP.This is best seen by examining the\nUDP header, shown in Figure 20.14. The header includes a source port and destina-\ntion port. The Length field contains the length of the entire UDP segment, including\nheader and data.The checksum is the same algorithm used for TCP and IP."
  },
  {
    "text": "For UDP,\nthe checksum applies to the entire UDP segment plus a pseudoheader prefixed to the\nUDP header at the time of calculation and which is the same pseudoheader used for\nTCP. If an error is detected, the segment is discarded and no further action is taken. The Checksum field in UDP is optional. If it is not used, it is set to zero."
  },
  {
    "text": "How-\never, it should be pointed out that the IP checksum applies only to the IP header\nand not to the data field, which in this case consists of the UDP header and the user\ndata. Thus, if no checksum calculation is performed by UDP, then no check is made\non the user data at either the transport or internet protocol layers."
  },
  {
    "text": "An essential paper for understanding the issues involved is the classic\ndata stream push\nduplicate detection\nexponential average\nflow control\nKarn’s algorithm\nmultiplexing\nretransmission strategy\nsequence number\nTCP congestion control\nTCP implementation policy\nTransmission Control Protocol\ntransport protocol\nurgent data signaling\nUser Datagram Protocol (UDP)\nIren, S.; Amer, P.; and Conrad, P."
  },
  {
    "text": "The Web site includes all rele-\nvant RFCs and Internet drafts. • TCP-Friendly Web site: Summarizes some of the recent work on adaptive conges-\ntion control algorithms for non-TCP-based applications, with a specific focus on\nschemes that share bandwidth fairly with TCP connections."
  },
  {
    "text": "Briefly describe the credit scheme used by TCP for flow control. What is the key difference between the TCP credit scheme and the sliding-window\nflow control scheme used by many other protocols, such as HDLC? Explain the two-way and three-way handshake mechanisms. What is the benefit of the three-way handshake mechanism? Define the urgent and push features of TCP."
  },
  {
    "text": "What is a TCP implementation policy option? How can TCP be used to deal with network or internet congestion? What does UDP provide that is not provided by IP? It is common practice in most transport protocols (indeed, most protocols at all\nlevels) for control and data to be multiplexed over the same logical channel on a\nper-user-connection basis."
  },
  {
    "text": "An alternative is to establish a single control transport\nconnection between each pair of communicating transport entities. This connection\nwould be used to carry control signals relating to all user transport connections\nbetween the two entities. Discuss the implications of this strategy."
  },
  {
    "text": "The discussion of flow control with a reliable network service referred to a backpres-\nsure mechanism utilizing a lower-level flow control protocol. Discuss the disadvan-\ntages of this strategy. Two transport entities communicate across a reliable network. Let the normalized\ntime to transmit a segment equal 1."
  },
  {
    "text": "Assume that the end-to-end propagation delay is\n3, and that it takes a time 2 to deliver data from a received segment to the transport\nuser. The sender is initially granted a credit of seven segments. The receiver uses a\nconservative flow control policy, and updates its credit allocation at every opportu-\nnity.What is the maximum achievable throughput?"
  },
  {
    "text": "Someone posting to comp.protocols.tcp-ip complained about a throughput of 120\nkbps on a 256-kbps link with a 128-ms round-trip delay between the United States\nand Japan, and a throughput of 33 kbps when the link was routed over a satellite. What is the utilization over the two links? Assume a 500-ms round-trip delay for\nthe satellite link. b."
  },
  {
    "text": "What does the window size appear to be for the two cases? How big should the window size be for the satellite link? Draw diagrams similar to Figure 20.4 for the following (assume a reliable sequenced\nnetwork service):\nConnection termination: active/passive\nb. Connection termination: active/active\nConnection rejection\nd."
  },
  {
    "text": "Connection abortion: User issues an OPEN to a listening user, and then issues a\nCLOSE before any data are exchanged. With a reliable sequencing network service, are segment sequence numbers strictly\nnecessary? What, if any, capability is lost without them? Consider a connection-oriented network service that suffers a reset."
  },
  {
    "text": "Consider a transport protocol that uses a connection-oriented network service. Sup-\npose that the transport protocol uses a credit allocation flow control scheme, and the\nnetwork protocol uses a sliding-window scheme. What relationship, if any, should\nthere be between the dynamic window of the transport protocol and the fixed win-\ndow of the network protocol?"
  },
  {
    "text": "In a network that has a maximum packet size of 128 bytes, a maximum packet lifetime\nof 30 s, and an 8-bit packet sequence number, what is the maximum data rate per con-\nIs a deadlock possible using only a two-way handshake instead of a three-way hand-\nshake? Give an example or prove otherwise."
  },
  {
    "text": "Listed are four strategies that can be used to provide a transport user with the address\nof the destination transport user. For each one, describe an analogy with the Postal\nService user. Know the address ahead of time. b. Make use of a “well-known address.”\nUse a name server. d. Addressee is spawned at request time."
  },
  {
    "text": "In a credit flow control scheme such as that of TCP, what provision could be made for\ncredit allocations that are lost or misordered in transit? What happens in Figure 20.3 if a SYN comes in while the requested user is in\nCLOSED? Is there any way to get the attention of the user when it is not listening?"
  },
  {
    "text": "In discussing connection termination with reference to Figure 20.8, it was stated that\nin addition to receiving an acknowledgement of its FIN and sending an acknowledge-\nment of the incoming FIN, a TCP entity must wait an interval equal to twice the max-\nimum expected segment lifetime (the TIME WAIT state)."
  },
  {
    "text": "Receiving an ACK to its\nFIN assures that all of the segments it sent have been received by the other side. Sending an ACK to the other side’s FIN assures the other side that all its segments\nhave been received. Give a reason why it is still necessary to wait before closing the\nconnection. Ordinarily, the Window field in the TCP header gives a credit allocation in octets."
  },
  {
    "text": "When the Window Scale option is in use, the value in the Window field is multiplied\nwhere F is the value of the window scale option. The maximum value of F\nthat TCP accepts is 14.Why is the option limited to 14? Suppose the round-trip time (RTT) between two hosts is 100 ms, and that both hosts\nuse a TCP window of 32 Kbytes."
  },
  {
    "text": "What is the maximum throughput that can be\nachieved by means of TCP in this scenario? Suppose two hosts are connected with each other by a means of a 100 mbps link, and\nassume the round-trip time (RTT) between them is 1 ms. What is the minimum TCP\nwindow size that would let TCP achieve the maximum possible throughput between\nthese two hosts?"
  },
  {
    "text": "(Note: Assume no overhead.)\nA host is receiving data from a remote peer by means of TCP segments with a pay-\nload of 1460 bytes. If TCP acknowledges every other segment, what is the minimum\nuplink bandwidth needed to achieve a data throughput of 1 MBytes per second,\nassuming there is no overhead below the network layer?"
  },
  {
    "text": "(Note: Assume no options\nare used by TCP and IP.)\nAnalyze the advantages and disadvantages of performing congestion control at the\ntransport layer, rather than at the network layer. Jacobson’s congestion control algorithm assumes most packet losses are caused by\nrouters dropping packets due to network congestion."
  },
  {
    "text": "However, packets may be also\ndropped if they are corrupted in their path to destination. Analyze the performance\nof TCP in a such lossy environment, due to Jacobson’s congestion control algorithm. CHAPTER 20 / TRANSPORT PROTOCOLS\nOne difficulty with the original TCP SRTT estimator is the choice of an initial value."
  },
  {
    "text": "In the absence of any special knowledge of network conditions, the typical approach\nis to pick an arbitrary value, such as 3 seconds, and hope that this will converge quickly\nto an accurate value. If this estimate is too small, TCP will perform unnecessary\nretransmissions."
  },
  {
    "text": "If it is too large,TCP will wait a long time before retransmitting if the\nfirst segment is lost.Also, the convergence may be slow, as this problem indicates. and assume all measured RTT\nand no packet loss. What is SRTT(19)? Hint: Equation (20.3)\ncan be rewritten to simplify the calculation,using the expression \nand assume measured RTT \nand no packet loss.What is SRTT(19)?"
  },
  {
    "text": "A poor implementation of TCP’s sliding-window scheme can lead to extremely poor\nperformance. There is a phenomenon known as the Silly Window Syndrome (SWS),\nwhich can easily cause degradation in performance by several factors of 10."
  },
  {
    "text": "As an\nexample of SWS, consider an application that is engaged in a lengthy file transfer, and\nthat TCP is transferring this file in 200-octet segments.The receiver initially provides a\ncredit of 1000.The sender uses up this window with 5 segments of 200 octets."
  },
  {
    "text": "Now sup-\nChapter 21 Network Security\nNetwork security has become increasingly important with the growth\nin the number and importance of networks. Chapter 21 provides a sur-\nvey of security techniques and services. The chapter begins with a look\nat encryption techniques for ensuring confidentiality, which include the\nuse of conventional and public-key encryption."
  },
  {
    "text": "Then the area of\nauthentication and digital signatures is explored. The two most impor-\ntant encryption algorithms, AES and RSA, are examined, as well as\nSHA-1, a one-way hash function important in a number of security\napplications."
  },
  {
    "text": "Chapter 21 also discusses SSL and the set of IP security\nChapter 22 Internet Applications—Electronic Mail \nand Network Management\nThe purpose of a communications architecture is to support distributed\napplications. Chapter 22 examines two of the most important of these\napplications; in each case, general principles are discussed, followed by a\nspecific example."
  },
  {
    "text": "The applications discussed are electronic mail and net-\nwork management. The corresponding examples are SMTP and MIME;\nChapter 23 Internet Applications—Internet Directory \nService and World Wide Web\nChapter 23 looks at several important modern application areas for the\nInternet."
  },
  {
    "text": "The Domain Name System (DNS) is a directory lookup service\nthat provides a mapping between the name of a host on the Internet and\nits numerical address; it is a required application as specified in RFC 1123. The Hypertext Transfer Protocol (HTTP) supports the exchange of\nrequests and responses between Web browsers and Web servers."
  },
  {
    "text": "The Session Initiation\nProtocol (SIP) is an application-level control protocol for setting up, mod-\nifying, and terminating real-time sessions between participants over an IP\ndata network; these include telephony and multimedia sessions. Finally,\nthis chapter examines the Real-Time Transport Protocol (RTP)."
  },
  {
    "text": "Hence before strangers are allowed to enter a district, or at\nleast before they are permitted to mingle freely with the inhabitants, certain cere-\nmonies are often performed by the natives of the country for the purpose of disarming\nthe strangers of their magical powers, or of disinfecting, so to speak, the tainted atmos-\nphere by which they are supposed to be surrounded."
  },
  {
    "text": "—The Golden Bough, Sir James George Frazer\nNetwork security threats fall into two categories. Passive threats,\nsometimes referred to as eavesdropping, involve attempts by an\nattacker to obtain information relating to a communication. Active\nthreats involve some modification of the transmitted data or the cre-\nation of false transmissions."
  },
  {
    "text": "By far the most important automated tool for network and communi-\ncations security is encryption."
  },
  {
    "text": "With symmetric encryption, two parties\nshare a single encryption/decryption key.The principal challenge with\nsymmetric encryption is the distribution and protection of the keys.A\npublic-key encryption scheme involves two keys, one for encryption\nand a paired key for decryption.The party that generated the key pair\nkeeps one of the keys private and makes the other key public."
  },
  {
    "text": "Symmetric encryption and public-key encryption are often combined\nin secure networking applications. Symmetric encryption is used to\nencrypt transmitted data, using a one-time or short-term session key. The session key can be distributed by a trusted key distribution center\nor transmitted in encrypted form using public-key encryption."
  },
  {
    "text": "Public-\nkey encryption is also used to create digital signatures, which can\nauthenticate the source of transmitted messages. The Secure Sockets Layer (SSL) and the follow-on Internet standard\nknown as Transport Layer Security (TLS) provide security services\nfor Web transactions."
  },
  {
    "text": "A security enhancement used with both IPv4 and IPv6, called IPSec,\nprovides both confidentiality and authentication mechanisms."
  },
  {
    "text": "The requirements of information security within an organization have under-\ngone two major changes in the last several decades.Before the widespread use of\ndata processing equipment, the security of information felt to be valuable to an\norganization was provided primarily by physical and administrative means."
  },
  {
    "text": "An\n21.1 / SECURITY REQUIREMENTS AND ATTACKS\nexample of the former is the use of rugged filing cabinets with a combination lock\nfor storing sensitive documents. An example of the latter is personnel screening\nprocedures used during the hiring process. With the introduction of the computer, the need for automated tools for\nprotecting files and other information stored on the computer became evident."
  },
  {
    "text": "This is especially the case for a shared system, such as a time-sharing system, and\nthe need is even more acute for systems that can be accessed over a public tele-\nphone or data network.The generic name for the collection of tools designed to\nprotect data and to thwart hackers is computer security. Although this is an\nimportant topic, it is beyond the scope of this book."
  },
  {
    "text": "The second major change that affected security is the introduction of dis-\ntributed systems and the use of networks and communications facilities for\ncarrying data between terminal user and computer and between computer and\ncomputer. Network security measures are needed to protect data during their\ntransmission and to guarantee that data transmissions are authentic."
  },
  {
    "text": "The essential technology underlying virtually all automated network and\ncomputer security applications is encryption.Two fundamental approaches are in\nuse: symmetric encryption and public-key encryption, also known as asymmetric\nencryption.As we look at the various approaches to network security, these two\ntypes of encryption will be explored."
  },
  {
    "text": "The chapter begins with an overview of the requirements for network\nsecurity. Next, we look at symmetric encryption and its use to provide confi-\ndentiality. This is followed by a discussion of message authentication. We then\nlook at the use of public-key encryption and digital signatures. The chapter\ncloses with an examination of security features in SSL, IPSec, and Wi-Fi Pro-\ntected Access."
  },
  {
    "text": "21.1 SECURITY REQUIREMENTS AND ATTACKS\nTo understand the types of threats to security that exist, we need to have a definition\nof security requirements. Computer and network security address four require-\n• Confidentiality: Requires that data only be accessible by authorized parties."
  },
  {
    "text": "This type of access includes printing, displaying, and other forms of disclosure,\nincluding simply revealing the existence of an object. • Integrity: Requires that only authorized parties can modify data. Modification\nincludes writing, changing, changing status, deleting, and creating. • Availability: Requires that data are available to authorized parties."
  },
  {
    "text": "• Authenticity: Requires that a host or service be able to verify the identity of a user. A useful means of classifying security attacks (RFC 2828) is in terms of passive\nattacks and active attacks. A passive attack attempts to learn or make use of infor-\nmation from the system but does not affect system resources. An active attack\nattempts to alter system resources or affect their operation."
  },
  {
    "text": "CHAPTER 21 / NETWORK SECURITY\nPassive Attacks\nPassive attacks are in the nature of eavesdropping on, or monitoring of, transmis-\nsions. The goal of the opponent is to obtain information that is being transmitted. CHAPTER 21 / NETWORK SECURITY\n• Ciphertext: This is the scrambled message produced as output. It depends on\nthe plaintext and the secret key."
  },
  {
    "text": "For a given message, two different keys will\nproduce two different ciphertexts. • Decryption algorithm: This is essentially the encryption algorithm run in reverse. It takes the ciphertext and the secret key and produces the original plaintext. There are two requirements for secure use of symmetric encryption:\n1. We need a strong encryption algorithm."
  },
  {
    "text": "At a minimum, we would like the\nalgorithm to be such that an opponent who knows the algorithm and has\naccess to one or more ciphertexts would be unable to decipher the ciphertext\nor figure out the key.This requirement is usually stated in a stronger form:The\nopponent should be unable to decrypt ciphertext or discover the key even if he\nor she is in possession of a number of ciphertexts together with the plaintext\nthat produced each ciphertext."
  },
  {
    "text": "2. Sender and receiver must have obtained copies of the secret key in a secure\nfashion and must keep the key secure. If someone can discover the key and\nknows the algorithm, all communication using this key is readable. There are two general approaches to attacking a symmetric encryption scheme. The first attack is known as cryptanalysis."
  },
  {
    "text": "Cryptanalytic attacks rely on the nature of\nthe algorithm plus perhaps some knowledge of the general characteristics of the\nplaintext or even some sample plaintext-ciphertext pairs.This type of attack exploits\nthe characteristics of the algorithm to attempt to deduce a specific plaintext or to\ndeduce the key being used."
  },
  {
    "text": "If the attack succeeds in deducing the key, the effect is\ncatastrophic:All future and past messages encrypted with that key are compromised. The second method, known as the brute-force attack, is to try every possible\nkey on a piece of ciphertext until an intelligible translation into plaintext is obtained. On average, half of all possible keys must be tried to achieve success."
  },
  {
    "text": "The table shows results for\neach key size, assuming that it takes \nto perform a single decryption, a reasonable\norder of magnitude for today’s computers.With the use of massively parallel organi-\nzations of microprocessors, it may be possible to achieve processing rates many\norders of magnitude greater.The final column of the table considers the results for a\nsystem that can process 1 million keys per microsecond."
  },
  {
    "text": "As one can see, at this per-\nformance level, a 56-bit key can no longer be considered computationally secure. Average Time Required for Exhaustive Key Search\nTime Required at\nTime Required at \nKey Size (bits)\nAlternative Keys\n2.15 milliseconds\n10.01 hours\n26 characters \n(permutation)\n6.4 * 106 years\n2 * 1026 ms = 6.4 * 1012 years\n26!"
  },
  {
    "text": "= 4 * 1026\n5.9 * 1030 years\n2167 ms = 5.9 * 1036 years\n2168 = 3.7 * 1050\n5.4 * 1018 years\n2127 ms = 5.4 * 1024 years\n2128 = 3.4 * 1038\n255 ms = 1142 years\n256 = 7.2 * 1016\n231 ms = 35.8 minutes\n232 = 4.3 * 109\nDecryptions/Ms\n1 Decryption/Ms\n21.2 / CONFIDENTIALITY WITH SYMMETRIC ENCRYPTION\nEncryption Algorithms\nThe most commonly used symmetric encryption algorithms are block ciphers."
  },
  {
    "text": "A\nblock cipher processes the plaintext input in fixed-size blocks and produces a block\nof ciphertext of equal size for each plaintext block. The two most important sym-\nmetric algorithms, both of which are block ciphers, are the Data Encryption Stan-\ndard (DES) and the Advanced Encryption Standard (AES)."
  },
  {
    "text": "Data Encryption Standard DES has been the dominant encryption algorithm\nsince its introduction in 1977. However, because DES uses only a 56-bit key, it was\nonly a matter of time before computer processing speed made DES obsolete."
  },
  {
    "text": "In\n1998, the Electronic Frontier Foundation (EFF) announced that it had broken a\nDES challenge using a special-purpose “DES cracker” machine that was built for\nless than $250,000. The attack took less than three days. The EFF has published a\ndetailed description of the machine, enabling others to build their own cracker\n[EFF98]."
  },
  {
    "text": "And, of course, hardware prices will continue to drop as speeds increase,\nmaking DES worthless. The life of DES was extended by the use of triple DES (3DES), which involves\nrepeating the basic DES algorithm three times, using either two or three unique\nkeys, for a key size of 112 or 168 bits. The principal drawback of 3DES is that the algorithm is relatively sluggish\nin software."
  },
  {
    "text": "A secondary drawback is that both DES and 3DES use a 64-bit \nblock size. For reasons of both efficiency and security, a larger block size is \nAdvanced Encryption Standard Because of these drawbacks, 3DES is not\na reasonable candidate for long-term use."
  },
  {
    "text": "As a replacement, the National Insti-\ntute of Standards and Technology (NIST) in 1997 issued a call for proposals for a\nnew Advanced Encryption Standard (AES), which should have a security\nstrength equal to or better than 3DES and significantly improved efficiency."
  },
  {
    "text": "In addition to these general requirements, NIST specified that AES must be a\nsymmetric block cipher with a block length of 128 bits and support for key\nlengths of 128, 192, and 256 bits. Evaluation criteria include security, computa-\ntional efficiency, memory requirements, hardware and software suitability, and\nflexibility."
  },
  {
    "text": "In 2001, AES was issued as a federal information processing standard\n(FIPS 197). In the description of this section, we assume a key length of 128 bits, which is\nlikely to be the one most commonly implemented. Figure 21.2 shows the overall structure of AES. The input to the encryption\nand decryption algorithms is a single 128-bit block."
  },
  {
    "text": "In FIPS 197, this block is\ndepicted as a square matrix of bytes. This block is copied into the State array,\nwhich is modified at each stage of encryption or decryption. After the final stage,\nState is copied to an output matrix. Similarly, the 128-bit key is depicted as a\nsquare matrix of bytes."
  },
  {
    "text": "This key is then expanded into an array of key schedule\nwords; each word is 4 bytes and the total key schedule is 44 words for the 128-bit\nkey. The ordering of bytes within a matrix is by column. So, for example, the first\nfour bytes of a 128-bit plaintext input to the encryption cipher occupy the first col-\numn of the in matrix, the second four bytes occupy the second column, and so on."
  },
  {
    "text": "CHAPTER 21 / NETWORK SECURITY\nAdd round key\nSubstitute bytes\nMix columns\nAdd round key\nSubstitute bytes\nMix columns\nAdd round key\nSubstitute bytes\nAdd round key\n(a) Encryption\nAdd round key\nInverse sub bytes\nInverse shift rows\nInverse mix cols\nAdd round key\nInverse sub bytes\nInverse shift rows\nInverse mix cols\nAdd round key\nInverse sub bytes\nInverse shift rows\nAdd round key\n(b) Decryption\nFigure 21.2\nAES Encryption and Decryption\nSimilarly, the first four bytes of the expanded key, which form a word, occupy the\nfirst column of the w matrix."
  },
  {
    "text": "The following comments give some insight into AES:\n1. The key that is provided as input is expanded into an array of forty-four\n32-bit words, w[i]. Four distinct words (128 bits) serve as a round key for\neach round. 2."
  },
  {
    "text": "Four different stages are used, one of permutation and three of substitution:\n21.2 / CONFIDENTIALITY WITH SYMMETRIC ENCRYPTION\n1The term S-box, or substitution box, is commonly used in the description of symmetric ciphers to refer\nto a table used for a table-lookup type of substitution mechanism."
  },
  {
    "text": "• Substitute bytes: Uses a table, referred to as an S-box,1 to perform a byte-\nby-byte substitution of the block\n• Shift rows: A simple permutation that is performed row by row\n• Mix columns: A substitution that alters each byte in a column as a function\nof all of the bytes in the column\n• Add round key: A simple bitwise XOR of the current block with a portion\nof the expanded key\n3."
  },
  {
    "text": "The structure is quite simple. For both encryption and decryption, the cipher\nbegins with an Add Round Key stage, followed by nine rounds that each\nincludes all four stages, followed by a tenth round of three stages. Figure 21.3\ndepicts the structure of a full encryption round. 4. Only the Add Round Key stage makes use of the key."
  },
  {
    "text": "For this reason, the\ncipher begins and ends with an Add Round Key stage. Any other stage,\napplied at the beginning or end, is reversible without knowledge of the key\nand so would add no security. AddRoundKey\nFigure 21.3\nAES Encryption Round\nCHAPTER 21 / NETWORK SECURITY\n5. The Add Round Key stage by itself would not be formidable."
  },
  {
    "text": "The other three\nstages together scramble the bits, but by themselves would provide no security\nbecause they do not use the key.We can view the cipher as alternating operations\nof XOR encryption (Add Round Key) of a block, followed by scrambling of the\nblock (the other three stages), followed by XOR encryption, and so on. This\nscheme is both efficient and highly secure. 6."
  },
  {
    "text": "Each stage is easily reversible. For the Substitute Byte, Shift Row, and Mix\nColumns stages, an inverse function is used in the decryption algorithm. For the\nAdd Round Key stage,the inverse is achieved by XORing the same round key to\nthe block, using the result that \n7. As with most block ciphers, the decryption algorithm makes use of the expanded\nkey in reverse order."
  },
  {
    "text": "However, the decryption algorithm is not identical to the\nencryption algorithm. This is a consequence of the particular structure of AES. 8. Once it is established that all four stages are reversible, it is easy to verify that\ndecryption does recover the plaintext."
  },
  {
    "text": "Figure 21.2 lays out encryption and\ndecryption going in opposite vertical directions.At each horizontal point (e.g.,the\ndashed line in the figure), State is the same for both encryption and decryption. 9. The final round of both encryption and decryption consists of only three\nstages. Again, this is a consequence of the particular structure of AES and is\nrequired to make the cipher reversible."
  },
  {
    "text": "Location of Encryption Devices\nThe most powerful, and most common, approach to countering the threats to net-\nwork security is encryption. In using encryption, we need to decide what to\nencrypt and where the encryption gear should be located. As Figure 21.4\nA \u0001 A \u0001 B = B."
  },
  {
    "text": "Packet-switching\n\u0001 End-to-end encryption device\n\u0001 Link encryption device\nPSN \u0001 Packet-switching node\nFigure 21.4\nEncryption across a Packet-Switching Network\n21.2 / CONFIDENTIALITY WITH SYMMETRIC ENCRYPTION\nindicates, there are two fundamental alternatives: link encryption and end-to-end\nencryption."
  },
  {
    "text": "With link encryption, each vulnerable communications link is equipped on\nboth ends with an encryption device. Thus, all traffic over all communications links\nis secured. Although this requires a lot of encryption devices in a large network, it\nprovides a high level of security."
  },
  {
    "text": "One disadvantage of this approach is that the mes-\nsage must be decrypted each time it enters a packet switch; this is necessary because\nthe switch must read the address (virtual circuit number) in the packet header to\nroute the packet. Thus, the message is vulnerable at each switch. If this is a public\npacket-switching network, the user has no control over the security of the nodes."
  },
  {
    "text": "With end-to-end encryption, the encryption process is carried out at the two\nend systems. The source host or terminal encrypts the data. The data, in encrypted\nform, are then transmitted unaltered across the network to the destination terminal\nor host. The destination shares a key with the source and so is able to decrypt the\ndata."
  },
  {
    "text": "This approach would seem to secure the transmission against attacks on the\nnetwork links or switches.There is, however, still a weak spot. Consider the following situation.A host connects to a frame relay network, sets\nup a logical connection to another host, and is prepared to transfer data to that other\nhost using end-to-end encryption."
  },
  {
    "text": "Data are transmitted over such a network in the\nform of frames, or packets, consisting of a header and some user data. What part of\neach packet will the host encrypt? Suppose that the host encrypts the entire packet,\nincluding the header. This will not work because, remember, only the other host can\nperform the decryption."
  },
  {
    "text": "Each frame relay node will receive an encrypted packet and\nbe unable to read the header.Therefore, it will not be able to route the packet. It fol-\nlows that the host may only encrypt the user data portion of the packet and must\nleave the header in the clear, so that the network can read it. Thus, with end-to-end encryption, the user data are secure."
  },
  {
    "text": "However, the\ntraffic pattern is not, because packet headers are transmitted in the clear. To\nachieve greater security, both link and end-to-end encryption are needed, as is\nshown in Figure 21.4. To summarize, when both forms are employed, the host encrypts the user data\nportion of a packet using an end-to-end encryption key. The entire packet is then\nencrypted using a link encryption key."
  },
  {
    "text": "As the packet traverses the network, each\nswitch decrypts the packet using a link encryption key to read the header and then\nencrypts the entire packet again for sending it out on the next link. Now the entire\npacket is secure except for the time that the packet is actually in the memory of a\npacket switch, at which time the packet header is in the clear."
  },
  {
    "text": "Key Distribution\nFor symmetric encryption to work, the two parties to an exchange must share the\nsame key, and that key must be protected from access by others."
  },
  {
    "text": "Furthermore, fre-\nquent key changes are usually desirable to limit the amount of data compromised if\nan attacker learns the key.Therefore, the strength of any cryptographic system rests\nwith the key distribution technique, a term that refers to the means of delivering a\nkey to two parties that wish to exchange data without allowing others to see the key."
  },
  {
    "text": "Key distribution can be achieved in a number of ways. For two parties A and B,\nCHAPTER 21 / NETWORK SECURITY\n1. A key could be selected by A and physically delivered to B. 2. A third party could select the key and physically deliver it to A and B. 3. If A and B have previously and recently used a key, one party could transmit the\nnew key to the other, encrypted using the old key. 4."
  },
  {
    "text": "If A and B each have an encrypted connection to a third party C, C could\ndeliver a key on the encrypted links to A and B. Options 1 and 2 call for manual delivery of a key. For link encryption, this is a\nreasonable requirement, because each link encryption device is only going to be\nexchanging data with its partner on the other end of the link."
  },
  {
    "text": "However, for end-to-\nend encryption, manual delivery is awkward. In a distributed system, any given host\nor terminal may need to engage in exchanges with many other hosts and terminals\nover time. Thus, each device needs a number of keys, supplied dynamically. The\nproblem is especially difficult in a wide area distributed system."
  },
  {
    "text": "Option 3 is a possibility for either link encryption or end-to-end encryption, but\nif an attacker ever succeeds in gaining access to one key, then all subsequent keys are\nrevealed. Even if frequent changes are made to the link encryption keys, these should\nbe done manually. To provide keys for end-to-end encryption, option 4 is preferable."
  },
  {
    "text": "Figure 21.5 illustrates an implementation of option 4 for end-to-end encryp-\ntion. In the figure, link encryption is ignored.This can be added, or not, as required. For this scheme, two kinds of keys are identified:\n• Session key: When two end systems (hosts, terminals, etc.) wish to communi-\ncate, they establish a logical connection (e.g., virtual circuit)."
  },
  {
    "text": "For the duration\nof that logical connection, all user data are encrypted with a one-time session\nkey. At the conclusion of the session, or connection, the session key is\ndistribution\n1. Host sends packet requesting connection. 2. Security service buffers packet; asks\n    KDC for session key. 3. KDC distributes session key to both hosts. 4. Buffered packet transmitted."
  },
  {
    "text": "Application\nApplication\nFigure 21.5\nAutomatic Key Distribution for Connection-Oriented Protocol\n21.3 / MESSAGE AUTHENTICATION AND HASH FUNCTIONS\n• Permanent key: A permanent key is a key used between entities for the pur-\npose of distributing session keys."
  },
  {
    "text": "The configuration consists of the following elements:\n• Key distribution center: The key distribution center determines which systems\nare allowed to communicate with each other. When permission is granted for\ntwo systems to establish a connection, the key distribution center provides a\none-time session key for that connection."
  },
  {
    "text": "• Security service module (SSM): This module, which may consist of functional-\nity at one protocol layer, performs end-to-end encryption and obtains session\nkeys on behalf of users. The steps involved in establishing a connection are shown in the figure."
  },
  {
    "text": "When\none host wishes to set up a connection to another host, it transmits a connection-\nrequest packet (step 1).The SSM saves that packet and applies to the KDC for permis-\nsion to establish the connection (step 2).The communication between the SSM and the\nKDC is encrypted using a master key shared only by this SSM and the KDC."
  },
  {
    "text": "If the\nKDC approves the connection request, it generates the session key and delivers it to\nthe two appropriate SSMs, using a unique permanent key for each SSM (step 3)."
  },
  {
    "text": "The\nrequesting SSM can now release the connection request packet,and a connection is set\nup between the two end systems (step 4).All user data exchanged between the two end\nsystems are encrypted by their respective SSMs using the one-time session key."
  },
  {
    "text": "The automated key distribution approach provides the flexibility and dynamic\ncharacteristics needed to allow a number of terminal users to access a number of\nhosts and for the hosts to exchange data with each other. Another approach to key distribution uses public-key encryption, which is dis-\ncussed in Section 21.4."
  },
  {
    "text": "Traffic Padding\nWe mentioned that, in some cases, users are concerned about security from traffic\nanalysis.With the use of link encryption, packet headers are encrypted, reducing the\nopportunity for traffic analysis."
  },
  {
    "text": "However, it is still possible in those circumstances\nfor an attacker to assess the amount of traffic on a network and to observe the\namount of traffic entering and leaving each end system. An effective countermea-\nsure to this attack is traffic padding. Traffic padding is a function that produces ciphertext output continuously,\neven in the absence of plaintext."
  },
  {
    "text": "A continuous random data stream is generated. When plaintext is available, it is encrypted and transmitted. When input plaintext is\nnot present, the random data are encrypted and transmitted. This makes it impossi-\nble for an attacker to distinguish between true data flow and noise and therefore\nimpossible to deduce the amount of traffic."
  },
  {
    "text": "21.3 MESSAGE AUTHENTICATION AND HASH FUNCTIONS\nEncryption protects against passive attack (eavesdropping). A different require-\nment is to protect against active attack (falsification of data and transactions). Pro-\ntection against such attacks is known as message authentication."
  },
  {
    "text": "CHAPTER 21 / NETWORK SECURITY\nApproaches to Message Authentication\nA message, file, document, or other collection of data is said to be authentic when it\nis genuine and came from its alleged source. Message authentication is a procedure\nthat allows communicating parties to verify that received messages are authentic. CHAPTER 21 / NETWORK SECURITY\nuse of DES."
  },
  {
    "text": "DES is used to generate an encrypted version of the message, and the\nlast number of bits of ciphertext are used as the code.A 16- or 32-bit code is typical. The process just described is similar to encryption. One difference is that the\nauthentication algorithm need not be reversible, as it must for decryption."
  },
  {
    "text": "It turns\nout that because of the mathematical properties of the authentication function, it is\nless vulnerable to being broken than encryption."
  },
  {
    "text": "One-Way Hash Function A variation on the message authentication code that\nhas received much attention recently is the one-way hash function.As with the mes-\nsage authentication code, a hash function accepts a variable-size message M as input\nand produces a fixed-size message digest H(M) as output."
  },
  {
    "text": "Unlike the MAC, a hash\nfunction does not also take a secret key as input.To authenticate a message, the mes-\nsage digest is sent with the message in such a way that the message digest is authentic. Figure 21.7 illustrates three ways in which the message can be authenticated."
  },
  {
    "text": "The message digest can be encrypted using symmetric encryption (part a); if it is\nassumed that only the sender and receiver share the encryption key, then authentic-\nity is assured.The message digest can also be encrypted using public-key encryption\n(part b); this is explained in Section 21.4."
  },
  {
    "text": "The public-key approach has two advan-\ntages: it provides a digital signature as well as message authentication, and it does\nnot require the distribution of keys to communicating parties. These two approaches have an advantage over approaches that encrypt the\nentire message in that less computation is required."
  },
  {
    "text": "Nevertheless, there has been\ninterest in developing a technique that avoids encryption altogether. Several rea-\nsons for this interest are pointed out in [TSUD92]:\n• Encryption software is quite slow. Even though the amount of data to be\nencrypted per message is small, there may be a steady stream of messages into\nand out of a system. • Encryption hardware costs are nonnegligible."
  },
  {
    "text": "Low-cost chip implementations\nof DES are available, but the cost adds up if all nodes in a network must have\nthis capability. • Encryption hardware is optimized toward large data sizes. For small blocks of\ndata,a high proportion of the time is spent in initialization/invocation overhead. • Encryption algorithms may be covered by patents."
  },
  {
    "text": "Some encryption algo-\nrithms, such as the RSA public-key algorithm, are patented and must be\nlicensed, adding a cost. • Encryption algorithms may be subject to export control. Figure 21.7c shows a technique that uses a hash function but no encryption for\nmessage authentication."
  },
  {
    "text": "This technique assumes that two communicating parties,\nsay A and B, share a common secret value \nWhen A has a message to send to B,\nit calculates the hash function over the concatenation of the secret value and the\n2 It then sends \nto B."
  },
  {
    "text": "Because B possesses\nit can recompute \nBecause the secret value itself is\nnot sent, it is not possible for an attacker to modify an intercepted message.As long\nMDM = H1SAB7M2. denotes concatenation."
  },
  {
    "text": "21.3 / MESSAGE AUTHENTICATION AND HASH FUNCTIONS\n(b) Using public-key encryption\n(c) Using secret value\n(a) Using conventional encryption\nDestination B \nFigure 21.7\nMessage Authentication Using a One-Way Hash Function\nas the secret value remains secret, it is also not possible for an attacker to generate a\nfalse message."
  },
  {
    "text": "This third technique, using a shared secret value, is the one adopted for IP\nsecurity; it has also been specified for SNMPv3, discussed in Chapter 22. Secure Hash Functions\nThe one-way hash function, or secure hash function, is important not only in\nmessage authentication but in digital signatures."
  },
  {
    "text": "In this section, we begin with \nCHAPTER 21 / NETWORK SECURITY\na discussion of requirements for a secure hash function. Then we look at one of\nthe most important hash functions, SHA. Hash Function Requirements The purpose of a hash function is to produce a\n“fingerprint” of a file, message, or other block of data."
  },
  {
    "text": "To be useful for message\nauthentication, a hash function H must have the following properties:\n1. H can be applied to a block of data of any size. 2. H produces a fixed-length output. 3. H(x) is relatively easy to compute for any given x, making both hardware and\nsoftware implementations practical. 4. For any given code h, it is computationally infeasible to find x such that\n5."
  },
  {
    "text": "For any given block x, it is computationally infeasible to find \n6. It is computationally infeasible to find any pair (x, y) such that \nThe first three properties are requirements for the practical application of a\nhash function to message authentication."
  },
  {
    "text": "The fourth property is the one-way property: It is easy to generate a code\ngiven a message, but virtually impossible to generate a message given a code. This property is important if the authentication technique involves the use of a\nsecret value (Figure 21.7c)."
  },
  {
    "text": "The secret value itself is not sent; however, if the\nhash function is not one way, an attacker can easily discover the secret value: If\nthe attacker can observe or intercept a transmission, the attacker obtains the\nmessage M and the hash code \nThe attacker then inverts the\nhash function to obtain \nBecause the attacker now has\nit is a trivial matter to recover \nThe fifth property guarantees that it is impossible to find an alternative mes-\nsage with the same hash value as a given message."
  },
  {
    "text": "This prevents forgery when an\nencrypted hash code is used (Figures 21.7a and b). If this property were not true, an\nattacker would be capable of the following sequence: First, observe or intercept a\nmessage plus its encrypted hash code; second, generate an unencrypted hash code\nfrom the message; third, generate an alternate message with the same hash code."
  },
  {
    "text": "A hash function that satisfies the first five properties in the preceding list is\nreferred to as a weak hash function. If the sixth property is also satisfied, then it is\nreferred to as a strong hash function. The sixth property protects against a sophisti-\ncated class of attack known as the birthday attack.3\nIn addition to providing authentication, a message digest also provides data\nintegrity."
  },
  {
    "text": "It performs the same function as a frame check sequence: If any bits in the\nmessage are accidentally altered in transit, the message digest will be in error."
  },
  {
    "text": "The SHA Secure Hash Function\nThe Secure Hash Algorithm (SHA) was developed by NIST and published as a fed-\neral information processing standard (FIPS 180) in 1993; a revised version was\nissued as FIPS 180-1 in 1995 and is generally referred to as SHA-1. SAB7M = H-11MDM2. MDM = H1SAB7M2. H1x2 = H1y2. H1y2 = H1x2. 3See [STAL06] for a discussion of birthday attacks."
  },
  {
    "text": "21.3 / MESSAGE AUTHENTICATION AND HASH FUNCTIONS\nSHA-1 produces a hash value of 160 bits. In 2002, NIST produced a new ver-\nsion of the standard, FIPS 180-2, that defined three new versions of SHA, with hash\nvalue lengths of 256, 384, and 512 bits, known as SHA-256, SHA-384, and SHA-512."
  },
  {
    "text": "These new versions have the same underlying structure and use the same types of\nmodular arithmetic and logical binary operations as SHA-1. In 2005, NIST\nannounced the intention to phase out approval of SHA-1 and move to a reliance on\nthe other SHA versions by 2010."
  },
  {
    "text": "Shortly thereafter, a research team described an\nattack in which two separate messages could be found that deliver the same SHA-1\noperations, far fewer than the \noperations previously thought\nneeded to find a collision with an SHA-1 hash [WANG05].This result should hasten\nthe transition to the other versions of SHA. In this section, we provide a description of SHA-512."
  },
  {
    "text": "The other versions are\nquite similar.The algorithm takes as input a message with a maximum length of less\nbits and produces as output a 512-bit message digest. The input is\nprocessed in 1024-bit blocks. Figure 21.8 depicts the overall processing of a message\nto produce a digest.The processing consists of the following steps:\nStep 1: Append padding bits."
  },
  {
    "text": "The message is padded so that its length is congruent\nto 896 modulo 1024 [length mod \n). Padding is always added, even if\nthe message is already of the desired length. Thus, the number of padding bits is in\nthe range of 1 to 1024. The padding consists of a single 1-bit followed by the neces-\nsary number of 0-bits. Step 2: Append length."
  },
  {
    "text": "A block of 128 bits is appended to the message.This block is\ntreated as an unsigned 128-bit integer (most significant byte first) and contains the\nlength of the original message (before the padding) The inclusion of a length value\nmakes more difficult a kind of attack known as a padding attack [TSUD92]."
  },
  {
    "text": "The outcome of the first two steps yields a message that is an integer multiple\nof 1024 bits in length."
  },
  {
    "text": "In Figure 21.8, the expanded message is represented as the\nN \u0006 1024 bits\n\u0002 \u0001 word-by-word addition mod 264\nFigure 21.8\nMessage Digest Generation Using SHA-512\nCHAPTER 21 / NETWORK SECURITY\nsequence of 1024-bit blocks \nso that the total length of the\nexpanded message is \nStep 3: Initialize MD buffer. A 512-bit buffer is used to hold intermediate and final\nresults of the hash function."
  },
  {
    "text": "Step 4: Process message in 512-bit (16-word) blocks. The heart of the algorithm is a\nmodule that consists of 80 rounds of processing.The 80 rounds have the same struc-\nture but vary some constants and logical functions. Step 5: Output. After all N 1024-bit blocks have been processed, the output from\nthe Nth stage is the 512-bit message digest."
  },
  {
    "text": "The SHA-512 algorithm has the property that every bit of the hash code is a\nfunction of every bit of the input. The complex repetition of the basic function F\nproduces results that are well mixed; that is, it is unlikely that two messages chosen\nat random, even if they exhibit similar regularities, will have the same hash code."
  },
  {
    "text": "Unless there is some hidden weakness in SHA-512, which has not so far been pub-\nlished, the difficulty of coming up with two messages having the same message\ndigest is on the order of \noperations, while the difficulty of finding a message\nwith a given digest is on the order of \noperations."
  },
  {
    "text": "21.4 PUBLIC-KEY ENCRYPTION AND DIGITAL SIGNATURES\nOf equal importance to symmetric encryption is public-key encryption, which finds\nuse in message authentication and key distribution. This section looks first at the\nbasic concept of public-key encryption, followed by a discussion of digital signa-\ntures. Then we discuss the most widely used public-key algorithm: RSA."
  },
  {
    "text": "We then\nlook at the problem of key distribution. Public-Key Encryption\nPublic-key encryption, first publicly proposed by Diffie and Hellman in 1976\n[DIFF76], is the first truly revolutionary advance in encryption in literally thousands\nof years. For one thing, public-key algorithms are based on mathematical functions\nrather than on simple operations on bit patterns."
  },
  {
    "text": "More important, public-key cryp-\ntography is asymmetric, involving the use of two separate keys, in contrast to sym-\nmetric encryption, which uses only one key. The use of two keys has profound\nconsequences in the areas of confidentiality, key distribution, and authentication. Before proceeding, we should first mention several common misconceptions\nconcerning public-key encryption."
  },
  {
    "text": "One is that public-key encryption is more secure\nfrom cryptanalysis than symmetric encryption. In fact, the security of any encryp-\ntion scheme depends on (1) the length of the key and (2) the computational work\ninvolved in breaking a cipher."
  },
  {
    "text": "There is nothing in principle about either symmetric\nor public-key encryption that makes one superior to another from the viewpoint of\nresisting cryptanalysis. A second misconception is that public-key encryption is a\ngeneral-purpose technique that has made symmetric encryption obsolete."
  },
  {
    "text": "On the\ncontrary, because of the computational overhead of current public-key encryption\nschemes, there seems no foreseeable likelihood that symmetric encryption will be\nM1, M2, Á , MN,\n21.4 / PUBLIC-KEY ENCRYPTION AND DIGITAL SIGNATURES\nabandoned."
  },
  {
    "text": "Finally, there is a feeling that key distribution is trivial when using pub-\nlic-key encryption, compared to the rather cumbersome handshaking involved with\nkey distribution centers for symmetric encryption. In fact, some form of protocol is\nneeded, often involving a central agent, and the procedures involved are no simpler\nor any more efficient than those required for symmetric encryption."
  },
  {
    "text": "A public-key encryption scheme has six ingredients (Figure 21.9):\n(a) Encryption\n(b) Authentication\nTransmitted\nEncryption algorithm\n(e.g., RSA)\nDecryption algorithm\n(reverse of encryption\nBob's private\nBob's public\nY \u0001 E[PRb, X]\nTransmitted\nEncryption algorithm\n(e.g., RSA)\nDecryption algorithm\n(reverse of encryption\nAlice's public\nAlice's private\nY \u0001 E[PUa, X]\nFigure 21.9\nPublic-Key Cryptography\nCHAPTER 21 / NETWORK SECURITY\n• Plaintext: This is the readable message or data that is fed into the algorithm as\n• Encryption algorithm: The encryption algorithm performs various transfor-\nmations on the plaintext."
  },
  {
    "text": "• Public and private key: This is a pair of keys that have been selected so that if\none is used for encryption the other is used for decryption.The exact transfor-\nmations performed by the encryption algorithm depend on the public or pri-\nvate key that is provided as input. • Ciphertext: This is the scrambled message produced as output. It depends on\nthe plaintext and the key."
  },
  {
    "text": "For a given message, two different keys will produce\ntwo different ciphertexts. • Decryption algorithm: This algorithm accepts the ciphertext and the matching\nkey and produces the original plaintext."
  },
  {
    "text": "As the names suggest, the public key of the pair is made public for others to use,\nwhile the private key is known only to its owner.A general-purpose public-key crypto-\ngraphic algorithm relies on one key for encryption and a different but related key for\ndecryption.Furthermore,these algorithms have the following important characteristics:\n• It is computationally infeasible to determine the decryption key given only\nknowledge of the cryptographic algorithm and the encryption key."
  },
  {
    "text": "• For most public-key schemes, either of the two related keys can be used for\nencryption, with the other used for decryption. The essential steps are the following:\n1. Each user generates a pair of keys to be used for the encryption and decryp-\ntion of messages. 2. Each user places one of the two keys in a public register or other accessible file."
  },
  {
    "text": "This is the public key.The companion key is kept private.As Figure 21.9 suggests,\neach user maintains a collection of public keys obtained from others. 3. If Bob wishes to send a private message to Alice,Bob encrypts the message using\nAlice’s public key. 4. When Alice receives the message, she decrypts it using her private key."
  },
  {
    "text": "No\nother recipient can decrypt the message because only Alice knows Alice’s \nprivate key. With this approach, all participants have access to public keys, and private\nkeys are generated locally by each participant and therefore need never be distrib-\nuted. As long as a user protects his or her private key, incoming communication is\nsecure."
  },
  {
    "text": "At any time, a user can change the private key and publish the companion\npublic key to replace the old public key."
  },
  {
    "text": "Digital Signature\nPublic-key encryption can be used in another way,as illustrated in Figure 21.9b.Suppose\nthat Bob wants to send a message to Alice and,although it is not important that the mes-\nsage be kept secret,he wants Alice to be certain that the message is indeed from him.In\n21.4 / PUBLIC-KEY ENCRYPTION AND DIGITAL SIGNATURES\nthis case Bob uses his own private key to encrypt the message.When Alice receives the\nciphertext, she finds that she can decrypt it with Bob’s public key, thus proving that the\nmessage must have been encrypted by Bob."
  },
  {
    "text": "No one else has Bob’s private key and\ntherefore no one else could have created a ciphertext that could be decrypted with\nBob’s public key.Therefore, the entire encrypted message serves as a digital signature. In addition, it is impossible to alter the message without access to Bob’s private key, so\nthe message is authenticated both in terms of source and in terms of data integrity."
  },
  {
    "text": "In the preceding scheme,the entire message is encrypted,which,although validat-\nCHAPTER 21 / NETWORK SECURITY\n4It can be shown that when n is a product of two primes, pq, then f1n2 = 1p - 121q - 12."
  },
  {
    "text": "Select p, q\np and q both prime, p \u000e q\nCalculate n \u0001 p \u0007 q\nCalculate d\nPrivate key\nCiphertext:\nCalculate f(n) \u0001 (p \u0003 1)(q \u0003 1)\nSelect integer e\ngcd(f(n), e) \u0001 1; 1 \b e \b f(n)\nde mod f(n) \u0001 1\nPU \u0001 {e, n}\nPR \u0001 {d, n}\nC \u0001 Me (mod n)\nKey Generation\nCiphertext:\nM \u0001 Cd (mod n)\nFigure 21.10\nThe RSA Algorithm\ndecryption.Next,we need the quantity \n, referred to as the Euler totient of n, which\nis the number of positive integers less than n and relatively prime to n.4 Then select an\ninteger e that is relatively prime to \n[i.e., the greatest common divisor of e and\nis 1]."
  },
  {
    "text": "Finally, calculate d such that de mod \nIt can be shown that d and e\nhave the desired properties. Suppose that user A has published its public key and that user B wishes to\nsend the message M to A. Then B calculates \n(mod n) and transmits C. On\nreceipt of this ciphertext, user A decrypts by calculating \nAn example, from [SING99], is shown in Figure 21.11."
  },
  {
    "text": "For this example, the\nkeys were generated as follows:\n1. Select two prime numbers,\n2. Calculate\n3. Calculate\n4. Select e such that e is relatively prime to \nand less than \nchoose e = 7. f1n2 = 1p - 121q - 12 = 16 * 10 = 160. n = pq = 17 * 11 = 187. 21.4 / PUBLIC-KEY ENCRYPTION AND DIGITAL SIGNATURES\n7 mod 187 \u0001 11\nKU \u0001 7, 187\nKR \u0001 23, 187\n23 mod 187 \u0001 88\nFigure 21.11\nExample of RSA Algorithm\n5."
  },
  {
    "text": "Determine d such that de mod \nThe correct value is\nThe resulting keys are public key \nand private key\nThe example shows the use of these keys for a plaintext input of\nFor encryption, we need to calculate \nmod 187."
  },
  {
    "text": "Exploiting the\nproperties of modular arithmetic, we can do this as follows:\nFor decryption, we calculate \nThere are two possible approaches to defeating the RSA algorithm.The first is\nthe brute-force approach: Try all possible private keys. Thus, the larger the number\nof bits in e and d, the more secure the algorithm."
  },
  {
    "text": "However, because the calculations\ninvolved, both in key generation and in encryption/decryption, are complex, the\nlarger the size of the key, the slower the system will run. Most discussions of the cryptanalysis of RSA have focused on the task of fac-\ntoring n into its two prime factors."
  },
  {
    "text": "1123 mod 187 = 111 * 121 * 55 * 33 * 332 mod 187 = 79,720,245 mod 187 = 88\n118 mod 187 = 214,358,881 mod 187 = 33\n114 mod 187 = 14,641 mod 187 = 55\n112 mod 187 = 121\n111 mod 187 = 11\n1118 mod 1872 * 1118 mod 1872] mod 187\n 1123 mod 187 = [1111 mod 1872 * 1112 mod 1872 * 1114 mod 1872 *\n 887 mod 187 = 188 * 77 * 1322 mod 187 = 894,432 mod 187 = 11\n 884 mod 187 = 59,969,536 mod 187 = 132\n 882 mod 187 = 7744 mod 187 = 77\n 881 mod 187 = 88\n 887 mod 187 = [1884 mod 1872 * 1882 mod 1872 * 1881 mod 1872] mod 187\nPR = 523, 1876."
  },
  {
    "text": "PU = 57, 1876\n23 * 7 = 161 = 10 * 160 + 1. CHAPTER 21 / NETWORK SECURITY\nThey offered a $100 reward for the return of a plaintext sentence, an event they pre-\ndicted might not occur for some 40 quadrillion years. In April of 1994, a group work-\ning over the Internet and using over 1600 computers claimed the prize after only\neight months of work [LEUT94]."
  },
  {
    "text": "This challenge used a public-key size (length of n)\nof 129 decimal digits, or around 428 bits. This result does not invalidate the use of\nRSA;it simply means that larger key sizes must be used.Currently,a 1024-bit key size\n(about 300 decimal digits) is considered strong enough for virtually all applications."
  },
  {
    "text": "Key Management\nWith symmetric encryption, a fundamental requirement for two parties to communi-\ncate securely is that they share a secret key. Suppose Bob wants to create a messaging\napplication that will enable him to exchange e-mail securely with anyone who has\naccess to the Internet or to some other network that the two of them share."
  },
  {
    "text": "Suppose\nBob wants to do this using only symmetric encryption. With symmetric encryption,\nBob and his correspondent, say, Alice, must come up with a way to share a unique\nsecret key that no one else knows. How are they going to do that? If Alice is in the\nnext room from Bob, Bob could generate a key and write it down on a piece of paper\nor store it on a diskette and hand it to Alice."
  },
  {
    "text": "But if Alice is on the other side of the\ncontinent or the world, what can Bob do? Well, he could encrypt this key using sym-\nmetric encryption and e-mail it to Alice, but this means that Bob and Alice must\nshare a secret key to encrypt this new secret key."
  },
  {
    "text": "Furthermore, Bob and everyone\nelse who uses this new e-mail package faces the same problem with every potential\ncorrespondent: Each pair of correspondents must share a unique secret key. How to distribute secret keys securely is the most difficult problem for sym-\nmetric encryption. This problem is wiped away with public-key encryption by the\nsimple fact that the private key is never distributed."
  },
  {
    "text": "If Bob wants to correspond with\nAlice and other people, he generates a single pair of keys, one private and one pub-\nlic. He keeps the private key secure and broadcasts the public key to all and sundry. If Alice does the same, then Bob has Alice’s public key, Alice has Bob’s public key,\nand they can now communicate securely. When Bob wishes to communicate with\nAlice, Bob can do the following:\n1."
  },
  {
    "text": "Prepare a message. 2. Encrypt that message using symmetric encryption with a one-time symmetric\nsession key. 3. Encrypt the session key using public-key encryption with Alice’s public key. 4. Attach the encrypted session key to the message and send it to Alice. Only Alice is capable of decrypting the session key and therefore of recover-\ning the original message."
  },
  {
    "text": "It is only fair to point out, however, that we have replaced one problem with\nanother. Alice’s private key is secure because she need never reveal it; however,\nBob must be sure that the public key with Alice’s name written all over it is in\nfact Alice’s public key. Someone else could have broadcast a public key and said\nit was Alice’s. The solution to this problem is the public-key certificate."
  },
  {
    "text": "In essence, a cer-\ntificate consists of a public key plus a User ID of the key owner, with the whole\n21.5 / SECURE SOCKET LAYER AND TRANSPORT LAYER SECURITY\nblock signed by a trusted third party. Typically, the third party is a certificate\nauthority (CA) that is trusted by the user community, such as a government\nagency or a financial institution."
  },
  {
    "text": "A user can present his or her public key to the\nauthority in a secure manner and obtain a certificate. The user can then publish\nthe certificate. Anyone needing this user’s public key can obtain the certificate\nand verify that it is valid by way of the attached trusted signature. Figure 21.12\nillustrates the process."
  },
  {
    "text": "21.5 SECURE SOCKET LAYER AND TRANSPORT \nOne of the most widely used security services is the Secure Sockets Layer (SSL)\nand the follow-on Internet standard known as Transport Layer Security (TLS),\nthe latter defined in RFC 2246. SSL is a general-purpose service implemented as\na set of protocols that rely on TCP. At this level, there are two implementation\nchoices."
  },
  {
    "text": "For full generality, SSL (or TLS) could be provided as part of the under-\nlying protocol suite and therefore be transparent to applications. Alternatively,\nSSL can be embedded in specific packages. For example, Netscape and Microsoft\nExplorer browsers come equipped with SSL, and most Web servers have imple-\nmented the protocol. This section discusses SSLv3. Only minor changes are found in TLS."
  },
  {
    "text": "Unsigned certificate:\ncontains user ID,\nuser's public key\nSigned certificate:\nRecipient can verify\nsignature using CA's\npublic key."
  },
  {
    "text": "Generate hash\ncode of unsigned\ncertificate\nEncrypt hash code\nwith CA's private key\nto form signature\nFigure 21.12\nPublic-Key Certificate Use\nCHAPTER 21 / NETWORK SECURITY\nSSL Architecture\nSSL is designed to make use of TCP to provide a reliable end-to-end secure service.SSL\nis not a single protocol but rather two layers of protocols, as illustrated in Figure 21.13."
  },
  {
    "text": "The SSL Record Protocol provides basic security services to various higher-\nlayer protocols. In particular, the Hypertext Transfer Protocol (HTTP), which pro-\nvides the transfer service for Web client/server interaction, can operate on top of SSL. Three higher-layer protocols are defined as part of SSL: the Handshake Protocol, the\nChange Cipher Spec Protocol, and the Alert Protocol."
  },
  {
    "text": "These SSL-specific protocols\nare used in the management of SSL exchanges and are examined later in this section. Two important SSL concepts are the SSL session and the SSL connection,\nwhich are defined in the specification as follows:\n• Connection: A connection is a transport (in the OSI layering model defini-\ntion) that provides a suitable type of service."
  },
  {
    "text": "For SSL, such connections are\npeer-to-peer relationships. The connections are transient. Every connection is\nassociated with one session. • Session: An SSL session is an association between a client and a server. Ses-\nsions are created by the Handshake Protocol. Sessions define a set of crypto-\ngraphic security parameters, which can be shared among multiple connections."
  },
  {
    "text": "Sessions are used to avoid the expensive negotiation of new security parame-\nters for each connection. Between any pair of parties (applications such as HTTP on client and server),\nthere may be multiple secure connections. In theory, there may also be multiple\nsimultaneous sessions between parties, but this feature is not used in practice."
  },
  {
    "text": "SSL Record Protocol\nThe SSL Record Protocol provides two services for SSL connections:\n• Confidentiality: The Handshake Protocol defines a shared secret key that is\nused for symmetric encryption of SSL payloads. • Message integrity: The Handshake Protocol also defines a shared secret key\nthat is used to form a message authentication code (MAC)."
  },
  {
    "text": "SSL Record Protocol\nCipher Spec\nFigure 21.13\nSSL Protocol Stack\n21.5 / SECURE SOCKET LAYER AND TRANSPORT LAYER SECURITY\nFigure 21.14 indicates the overall operation of the SSL Record Protocol. The\nfirst step is fragmentation. Each upper-layer message is fragmented into blocks of\nbytes (16,384 bytes) or less. Next, compression is optionally applied."
  },
  {
    "text": "The next\nstep in processing is to compute a message authentication code over the compressed\ndata. Next, the compressed message plus the MAC are encrypted using symmetric\nencryption."
  },
  {
    "text": "The final step of SSL Record Protocol processing is to prepend a header, con-\nsisting of the following fields:\n• Content Type (8 bits): The higher-layer protocol used to process the enclosed\n• Major Version (8 bits): Indicates major version of SSL in use. For SSLv3, the\nvalue is 3. • Minor Version (8 bits): Indicates minor version in use."
  },
  {
    "text": "For SSLv3, the value \n• Compressed Length (16 bits): The length in bytes of the plaintext fragment (or\ncompressed fragment if compression is used). The maximum value is\nThe content types that have been defined are change_cipher_spec, alert, hand-\nshake, and application_data.The first three are the SSL-specific protocols, discussed\nnext."
  },
  {
    "text": "Note that no distinction is made among the various applications (e.g., HTTP)\nthat might use SSL; the content of the data created by such applications is opaque \nThe Record Protocol then transmits the resulting unit in a TCP segment. Received data are decrypted, verified, decompressed, and reassembled and then\ndelivered to higher-level users. 214 + 2048."
  },
  {
    "text": "Application data\nrecord header\nFigure 21.14\nSSL Record Protocol Operation\nCHAPTER 21 / NETWORK SECURITY\nChange Cipher Spec Protocol\nThe Change Cipher Spec Protocol is one of the three SSL-specific protocols that use\nthe SSL Record Protocol, and it is the simplest. This protocol consists of a single\nmessage, which consists of a single byte with the value 1."
  },
  {
    "text": "The sole purpose of this\nmessage is to cause the pending state to be copied into the current state, which\nupdates the cipher suite to be used on this connection. Alert Protocol\nThe Alert Protocol is used to convey SSL-related alerts to the peer entity. As with\nother applications that use SSL, alert messages are compressed and encrypted, as\nspecified by the current state."
  },
  {
    "text": "Each message in this protocol consists of two bytes. The first byte takes the\nvalue warning(1) or fatal(2) to convey the severity of the message. If the level is\nfatal, SSL immediately terminates the connection. Other connections on the same\nsession may continue, but no new connections on this session may be established. The second byte contains a code that indicates the specific alert."
  },
  {
    "text": "An example of a\nfatal alert is an incorrect MAC.An example of a nonfatal alert is a close_notify mes-\nsage, which notifies the recipient that the sender will not send any more messages on\nthis connection. Handshake Protocol\nThe most complex part of SSL is the Handshake Protocol."
  },
  {
    "text": "This protocol allows\nthe server and client to authenticate each other and to negotiate an encryption\nand MAC algorithm and cryptographic keys to be used to protect data sent in an\nSSL record. The Handshake Protocol is used before any application data is\ntransmitted. The Handshake Protocol consists of a series of messages exchanged by client\nand server."
  },
  {
    "text": "Figure 21.15 shows the initial exchange needed to establish a logical\nconnection between client and server. The exchange can be viewed as having four\nPhase 1 is used to initiate a logical connection and to establish the security\ncapabilities that will be associated with it."
  },
  {
    "text": "The exchange is initiated by the client,\nwhich sends a client_hello message with the following parameters:\n• Version: The highest SSL version understood by the client. • Random: A client-generated random structure, consisting of a 32-bit time-\nstamp and 28 bytes generated by a secure random number generator. These\nvalues are used during key exchange to prevent replay attacks."
  },
  {
    "text": "• Session ID: A variable-length session identifier. A nonzero value indicates\nthat the client wishes to update the parameters of an existing connection or\ncreate a new connection on this session. A zero value indicates that the client\nwishes to establish a new connection on a new session."
  },
  {
    "text": "• CipherSuite: This is a list that contains the combinations of cryptographic\nalgorithms supported by the client, in decreasing order of preference. Each\nelement of the list (each cipher suite) defines both a key exchange algorithm\nand a CipherSpec."
  },
  {
    "text": "21.5 / SECURE SOCKET LAYER AND TRANSPORT LAYER SECURITY\n• Compression Method: This is a list of the compression methods the client\nAfter sending the client_hello message, the client waits for the server_hello\nmessage, which contains the same parameters as the client_hello message. The details of phase 2 depend on the underlying public-key encryption scheme\nthat is used."
  },
  {
    "text": "In some cases, the server passes a certificate to the client, possibly addi-\ntional key information, and a request for a certificate from the client. Establish security capabilities, including\nprotocol version, session ID, cipher suite,\ncompression method, and initial random\nServer may send certificate, key exchange,\nand request certificate. Server signals end\nof hello message phase."
  },
  {
    "text": "Client sends certificate if requested. Client\nsends key exchange. Client may send\ncertificate verification. Change cipher suite and finish\nhandshake protocol. Note: Shaded transfers are\noptional or situation-dependent\nmessages that are not always sent."
  },
  {
    "text": "client_hello\nserver_hello\ncertificate\nserver_key_exchange\ncertificate_request\nserver_hello_done\nchange_cipher_spec\ncertificate\nclient_key_exchange\ncertificate_verify\nchange_cipher_spec\nFigure 21.15\nHandshake Protocol Action\nCHAPTER 21 / NETWORK SECURITY\nThe final message in phase 2,and one that is always required,is the server_done\nmessage, which is sent by the server to indicate the end of the server hello and associ-\nated messages."
  },
  {
    "text": "After sending this message, the server will wait for a client response. In phase 3, upon receipt of the server_done message, the client should verify\nthat the server provided a valid certificate if required and check that the\nserver_hello parameters are acceptable. If all is satisfactory, the client sends one or\nmore messages back to the server, depending on the underlying public-key scheme."
  },
  {
    "text": "Phase 4 completes the setting up of a secure connection. The client sends a\nchange_cipher_spec message and copies the pending CipherSpec into the current\nCipherSpec. Note that this message is not considered part of the Handshake Proto-\ncol but is sent using the Change Cipher Spec Protocol.The client then immediately\nsends the finished message under the new algorithms, keys, and secrets."
  },
  {
    "text": "The fin-\nished message verifies that the key exchange and authentication processes were\nsuccessful. change_cipher_spec message, transfers the pending to the current CipherSpec, and\nsends its finished message. At this point the handshake is complete and the client\nand server may begin to exchange application layer data."
  },
  {
    "text": "21.6 IPV4 AND IPV6 SECURITY\nIn 1994, the Internet Architecture Board (IAB) issued a report entitled Security in\nthe Internet Architecture (RFC 1636)."
  },
  {
    "text": "The report stated the general consensus that\nthe Internet needs more and better security, and it identified key areas for security\nmechanisms.Among these were the need to secure the network infrastructure from\nunauthorized monitoring and control of network traffic and the need to secure end-\nuser-to-end-user traffic using authentication and encryption mechanisms."
  },
  {
    "text": "These concerns are fully justified. The Computer Emergency Response Team\n(CERT) Coordination Center (CERT/CC) reports an ever-increasing number of\nInternet-related vulnerabilities (http://www.cert.org). These include security weak-\nnesses in the operating systems of attached computers (e.g.,Windows, Linux) as well\nas vulnerabilities in Internet routers and other network devices."
  },
  {
    "text": "These include denial of\nservice attacks; IP spoofing, in which intruders create packets with false IP\naddresses and exploit applications that use authentication based on IP; and various\nforms of eavesdropping and packet sniffing, in which attackers read transmitted\nCHAPTER 21 / NETWORK SECURITY\n• IP destination address: Currently, only unicast addresses are allowed; this is\nthe address of the destination endpoint of the SA, which may be an end-user\nsystem or a network system such as a firewall or router."
  },
  {
    "text": "• Security protocol identifier: This indicates whether the association is an AH or\nESP security association. Hence, in any IP packet, the security association is uniquely identified by the\nDestination Address in the IPv4 or IPv6 header and the SPI in the enclosed exten-\nsion header (AH or ESP)."
  },
  {
    "text": "An IPSec implementation includes a security association database that defines\nthe parameters associated with each SA. A security association is defined by the \nfollowing parameters:\n• Sequence number counter: A 32-bit value used to generate the sequence \nnumber field in AH or ESP headers."
  },
  {
    "text": "• Sequence counter overflow: A flag indicating whether overflow of the\nsequence number counter should generate an auditable event and prevent \nfurther transmission of packets on this SA. • Antireplay window: Used to determine whether an inbound AH or ESP\npacket is a replay, by defining a sliding window within which the sequence\nnumber must fall."
  },
  {
    "text": "• AH information: Authentication algorithm, keys, key lifetimes, and related\nparameters being used with AH. • ESP information: Encryption and authentication algorithm, keys, initialization\nvalues, key lifetimes, and related parameters being used with ESP."
  },
  {
    "text": "• Lifetime of this security association: A time interval or byte count after which\nan SA must be replaced with a new SA (and new SPI) or terminated, plus an\nindication of which of these actions should occur. • IPSec protocol mode: Tunnel, transport, or wildcard (required for all imple-\nmentations).These modes are discussed later in this section."
  },
  {
    "text": "• Path MTU: Any observed path maximum transmission unit (maximum size of\na packet that can be transmitted without fragmentation) and aging variables\n(required for all implementations)."
  },
  {
    "text": "The key management mechanism that is used to distribute keys is coupled to\nthe authentication and privacy mechanisms only by way of the security parameters\nCHAPTER 21 / NETWORK SECURITY\nFor IPv6, examples in the base header are Version (immutable), Destination\nAddress (mutable but predictable), and Flow Label (mutable and zeroed for \ncalculation)."
  },
  {
    "text": "Encapsulating Security Payload\nThe encapsulating security payload provides confidentiality services, including con-\nCHAPTER 21 / NETWORK SECURITY\n• Access control: This function enforces the use of the authentication function,\nroutes the messages properly, and facilitates key exchange. It can work with a\nvariety of authentication protocols."
  },
  {
    "text": "• Privacy with message integrity: MAC-level data (e.g., an LLC PDU) are\nencrypted, along with a message integrity code that ensures that the data have\nnot been altered. Authentication operates at a level above the LLC and MAC protocols and is\nconsidered beyond the scope of 802.11."
  },
  {
    "text": "There are a number of popular authentica-\ntion protocols in use, including the Extensible Authentication Protocol (EAP) and\nthe Remote Authentication Dial-In User Service (RADIUS).These are not covered\nin this book.The remainder of this section examines access control and privacy with\nmessage integrity."
  },
  {
    "text": "Access Control5\nIEEE 802.11i makes use of another standard that was designed to provide access\ncontrol functions for LANs. The standard is IEEE 802.1X, Port-Based Network\nAccess Control. IEEE 802.1X uses the terms supplicant, authenticator, and\nauthentication server (AS). In the context of an 802.11 WLAN, the first two terms\ncorrespond to the wireless station and the AP."
  },
  {
    "text": "The AS is typically a separate device\non the wired side of the network (i.e., accessible over the DS) but could also reside\ndirectly on the authenticator."
  },
  {
    "text": "Before a supplicant is authenticated by the AS, using an authentication proto-\ncol, the authenticator only passes control or authentication messages between the\nsupplicant and the AS; the 802.1X control channel is unblocked but the 802.11 data\nchannel is blocked."
  },
  {
    "text": "Once a supplicant is authenticated and keys are provided, the\nauthenticator can forward data from the supplicant, subject to predefined access\ncontrol limitations for the supplicant to the network. Under these circumstances, the\ndata channel is unblocked. As indicated in Figure 21.19, 802.1X uses the concepts of controlled and\nuncontrolled ports."
  },
  {
    "text": "Ports are logical entities defined within the authenticator and\nrefer to physical network connections. For a WLAN, the authenticator (the AP) may\nhave only two physical ports, one connecting to the DS and one for wireless com-\nmunication within its BSS. Each logical port is mapped to one of these two physical\nports."
  },
  {
    "text": "An uncontrolled port allows the exchange of PDUs between the supplicant\nand other the AS regardless of the authentication state of the supplicant. A con-\ntrolled port allows the exchange of PDUs between a supplicant and other systems\non the LAN only if the current state of the supplicant authorizes such an exchange."
  },
  {
    "text": "The 802.1X framework, with an upper-layer authentication protocol, fits nicely\nwith a BSS architecture that includes a number of wireless stations and an AP. How-\never, for an IBSS, there is no AP. For an IBSS, 802.11i provides a more complex solu-\ntion that, in essence, involves pairwise authentication between stations on the IBSS."
  },
  {
    "text": "5In this subsection, we are discussing access control as a security function.This is a different function than\nmedium access control (MAC) as described in Chapter 15. Unfortunately, the literature and the stan-\ndards use the term access control in both contexts."
  },
  {
    "text": "The first scheme is known as the Temporal Key Integrity Protocol (TKIP) or\nWPA-1.TKIP is designed to require only software changes to devices that are imple-\nmented with an older wireless LAN security approach called Wired Equivalent Pri-\nvacy (WEP); it uses the same RC4 stream encryption algorithm as WEP.The second\nscheme is known as Counter Mode-CBC MAC Protocol (CCMP) or WPA-2."
  },
  {
    "text": "CCMP\nmakes use of the Advanced Encryption Standard (AES) encryption protocol.6\nBoth TKIP and WPA-2 add a message integrity code (MIC) to the 802.11\nMAC frame after the data field. The MIC is generated by an algorithm, called\nMichael, that computes a 64-bit value calculated using the source and destination\nMAC address values and the Data field."
  },
  {
    "text": "This value is then encrypted using a sepa-\nrate key from that used for encrypting the Data fields.Thus, both the data and MIC\nfields are encrypted. The use of a more complex algorithm, a separate encryption\nkey, and a 64-bit length, all make the MIC and substantially stronger message\nauthentication feature than the ICV."
  },
  {
    "text": "List and briefly define categories of passive and active security threats. What are DES and triple DES? How is the AES expected to be an improvement over triple DES? Explain traffic padding. List and briefly define various approaches to message authentication. What is a secure hash function? Schneier, B. Applied Cryptography. New York:Wiley, 1996. Stallings, W."
  },
  {
    "text": "What are the distinctions among the terms public key, private key, secret key? What is a digital signature? What is a public-key certificate? What protocols comprise SSL? What is the difference between and SSL connection and an SSL session? What services are provided by the SSL Record Protocol? What services are provided by IPSec?"
  },
  {
    "text": "Give some examples where traffic analysis could jeopardize security. Describe situa-\ntions where end-to-end encryption combined with link encryption would still allow\nenough traffic analysis to be dangerous. Key distribution schemes using an access control center and/or a key distribution cen-\nter have central points vulnerable to attack. Discuss the security implications of such\ncentralization."
  },
  {
    "text": "Suppose that someone suggests the following way to confirm that the two of you are\nboth in possession of the same secret key.You create a random bit string the length of\nthe key, XOR it with the key, and send the result over the channel. Your partner\nXORs the incoming block with the key (which should be the same as your key) and\nsends it back."
  },
  {
    "text": "You check and if what you receive is your original random string, you\nhave verified that your partner has the same secret key, yet neither of you has ever\ntransmitted the key. Is there a flaw in this scheme? Prior to the discovery of any specific public-key schemes, such as RSA, an existence\nproof was developed whose purpose was to demonstrate that public-key encryption is\npossible in theory."
  },
  {
    "text": "Consider the functions \nwhere all values are integers with \ncan be represented\nby a vector M1 of length N, in which the kth entry is the value of \ncan be represented by \nmatrices M2 and M3. The intent is to represent the\nencryption/decryption process by table lookups for tables with very large values of N. Such tables would be impractically huge but could, in principle, be constructed."
  },
  {
    "text": "The\nscheme works as follows: Construct M1 with a random permutation of all integers\nbetween 1 and N; that is, each integer appears exactly once in M1. Construct M2 so\nthat each row contains a random permutation of the first N integers. Finally, fill in M3\nto satisfy the following condition:\nM1 takes an input k and produces an output x. M2 takes inputs x and p giving output z."
  },
  {
    "text": "M3 takes inputs z and k and produces p. The three tables, once constructed, are made public. It should be clear that it is possible to construct M3 to satisfy the preceding condi-\ntion.As an example, fill in M3 for the following simple case:\nf31f21f11k2, p2, k2 = p for all k, p with 1 … k, p … N\n1 … xi, yi, zi … N."
  },
  {
    "text": "f11x12 = z1; f21x2, y22 = z2; f31x3, y32 = z3,\nCHAPTER 21 / NETWORK SECURITY\nConvention: The ith element of M1 corresponds to \nThe ith row of\nM2 corresponds to\nthe jth column of M2 corresponds to \nThe ith row\nof M3 corresponds to \nthe jth column of M3 corresponds to \nb. Describe the use of this set of tables to perform encryption and decryption\nbetween two users."
  },
  {
    "text": "Argue that this is a secure scheme. Perform encryption and decryption using the RSA algorithm, as in Figure 21.11, for\nthe following:\nHint: Decryption is not as hard as you think; use\nsome finesse. In a public-key system using RSA, you intercept the ciphertext \nsent to a user\nwhose public key is \nWhat is the plaintext M?"
  },
  {
    "text": "In an RSA system, the public key of a given user is \nWhat is the pri-\nvate key of this user? Suppose we have a set of blocks encoded with the RSA algorithm and we don’t have\nthe private key.Assume \ne is the public key. Suppose also someone tells us he\nor she knows one of the plaintext blocks has a common factor with n. Does this help\nus in any way?"
  },
  {
    "text": "Show how RSA can be represented by matrices M1, M2, and M3 of Problem 21.4. Consider the following scheme:\n1. Pick an odd number, E. 2. Pick two prime numbers, P and Q, where \nis evenly divisible\n3. Multiply P and Q to get N. 4. Calculate\nIs this scheme equivalent to RSA? Show why or why not. Consider using RSA with a known key to construct a one-way hash function."
  },
  {
    "text": "Then\nprocess a message consisting of a sequence of blocks as follows: Encrypt the first\nblock, XOR the result with the second block and encrypt again, and so on. Show that\nthis scheme is not secure by solving the following problem."
  },
  {
    "text": "Given a two-block mes-\nsage B1, B2, and its hash\nGiven an arbitrary block C1, choose C2 so that \nIn SSL and TLS, why is there a separate Change Cipher Spec Protocol rather than\nincluding a change_cipher_spec message in the Handshake Protocol? In discussing AH processing, it was mentioned that not all of the fields in an IP header\nare included in MAC calculation."
  },
  {
    "text": "For each of the fields in the IPv4 header, indicate whether the field is immutable,\nmutable but predictable, or mutable (zeroed prior to ICV calculation). b. Do the same for the IPv6 header. Do the same for the IPv6 extension headers. In each case, justify your decision for each field. RSAH1C1, C22 = RSAH1B1, B22."
  },
  {
    "text": "RSAH1B1, B22 = RSA1RSA1B12 \u0001 B22\n1P - 121Q - 121E - 12 + 1\n1P - 121Q - 12 - 1\ne = 31, n = 3599. e = 5, n = 35. p = 17; q = 31, e = 7; M = 2."
  },
  {
    "text": "Birds’ level of sociability changes with the seasons; they may be\ngregarious at certain times of year yet highly territorial at others. Some of the most\nfascinating behavior occurs in spring and summer when birds are engaged in\nbreeding. During a social interaction, an individual is coordinating its activities with\nthose of another.This inevitably requires communication."
  },
  {
    "text": "—Secret Lives of Common Birds, Marie Read\nThe most widely used protocol for the transmission of electronic mail\nis SMTP. SMTP assumes that the content of the message is a simple\ntext block. The recent MIME standard expands SMTP to support\ntransmission of multimedia information."
  },
  {
    "text": "The most important standardized scheme for supporting network\nmanagement applications is the Simple Network Management Proto-\ncol (SNMP). The original version of SNMP is available on a wide\narray of products and is widely used. SNMPv2 contains a number of\nfunctional enhancements to SNMP and is supplanting it. SNMPv3\nprovides security features that are added on to SNMPv2."
  },
  {
    "text": "All of the protocols and functions described in Part Five are geared\ntoward one objective: the support of distributed applications that involve\nthe interaction of multiple independent systems. In the OSI model, such\napplications occupy the application layer and are directly supported by the\npresentation layer. In the TCP/IP suite, such applications typically rely on\nTCP or UDP for support."
  },
  {
    "text": "In this chapter, we examine two applications that give the reader a\nfeel for the range and diversity of applications supported by a communica-\ntions architecture.The chapter begins with electronic mail, with the SMTP\nand MIME standards as examples; SMTP provides a basic e-mail service,\nwhile MIME adds multimedia capability to SMTP."
  },
  {
    "text": "The chapter then dis-\ncusses network management, a support-type application, designed to\nassure the effective monitoring and control of a distributed system. The\nspecific protocol that is examined is the Simple Network Management Pro-\ntocol (SNMP), which is designed to operate in both the TCP/IP and OSI\nenvironments."
  },
  {
    "text": "Refer to Figure 2.5 to see the position within the TCP/IP suite of the\nprotocols discussed in this chapter. 22.1 / ELECTRONIC MAIL—SMTP AND MIME\n22.1 ELECTRONIC MAIL—SMTP AND MIME\nThe most heavily used application in virtually any distributed system is electronic\nmail. The Simple Mail Transfer Protocol (SMTP) has always been the workhorse of\nthe TCP/IP suite."
  },
  {
    "text": "However, SMTP has traditionally been limited to the delivery of\nsimple text messages. In recent years, there has been a demand for the capability to\ndeliver mail containing various types of data, including voice, images, and video\nclips. To satisfy this requirement, a new electronic mail standard, which builds on\nSMTP, has been defined: the Multi-Purpose Internet Mail Extension (MIME)."
  },
  {
    "text": "In\nthis section, we first examine SMTP, and then look at MIME. Simple Mail Transfer Protocol (SMTP)\nSMTP is the standard protocol for transferring mail between hosts in the TCP/IP\nsuite; it is defined in RFC 821."
  },
  {
    "text": "Although messages transferred by SMTP usually follow the format defined in\nRFC 822, described later, SMTP is not concerned with the format or content of mes-\nsages themselves, with two exceptions.This concept is often expressed by saying that\nSMTP uses information written on the envelope of the mail (message header), but\nCHAPTER 22 / INTERNET APPLICATIONS\nTCP to port 25\nSMTP receiver\n(a) Outgoing mail\nUser mailboxes\nTCP from foreign\nSMTP sender\nto local port 25\n(b) Incoming mail\nFigure 22.1\nSMTP Mail Flow\nmailbox names."
  },
  {
    "text": "If any blind carbon copies (BCCs) are indicated, the user agent\nneeds to prepare messages that conform to this requirement. The basic idea is that\nthe multiple formats and styles preferred by humans in the user interface are\nreplaced by a standardized list suitable for the SMTP send program."
  },
  {
    "text": "The SMTP sender takes messages from the outgoing mail queue and transmits\nthem to the proper destination host via SMTP transactions over one or more TCP\nconnections to port 25 on the target hosts.A host may have multiple SMTP senders\nactive simultaneously if it has a large volume of outgoing mail, and should also have\nthe capability of creating SMTP receivers on demand so that mail from one host\ncannot delay mail from another."
  },
  {
    "text": "Whenever the SMTP sender completes delivery of a particular message to\none or more users on a specific host, it deletes the corresponding destinations\nfrom that message’s destination list. When all destinations for a particular\nmessage are processed, the message is deleted from the queue. In processing a\nqueue, the SMTP sender can perform a variety of optimizations."
  },
  {
    "text": "If a particular\nmessage is sent to multiple users on a single host, the message text need be sent\nonly once. If multiple messages are ready to send to the same host, the SMTP\nsender can open a TCP connection, transfer the multiple messages, and then close\nthe connection rather than opening and closing a connection for each message."
  },
  {
    "text": "The SMTP sender must deal with a variety of errors.The destination host may\nbe unreachable, out of operation, or the TCP connection may fail while mail is being\ntransferred. The sender can requeue the mail for later delivery but give up after\n22.1 / ELECTRONIC MAIL—SMTP AND MIME\nsome period rather than keep the message in the queue indefinitely."
  },
  {
    "text": "A common\nerror is a faulty destination address, which can occur due to user input error or\nbecause the intended destination user has a new address on a different host. The\nSMTP sender must either redirect the message if possible or return an error notifi-\ncation to the message’s originator."
  },
  {
    "text": "The SMTP protocol is used to transfer a message from the SMTP sender to\nthe SMTP receiver over a TCP connection. SMTP attempts to provide reliable oper-\nation but does not guarantee to recover from lost messages."
  },
  {
    "text": "SMTP does not return\nCHAPTER 22 / INTERNET APPLICATIONS\nSMTP Commands\nCommand Form\nDescription\nHELO <SP> <domain> <CRLF>\nSend identification\nMAIL <SP> FROM:<reverse-path> <CRLF>\nIdentifies originator of mail\nRCPT <SP> TO:<forward-path> <CRLF>\nIdentifies recipient of mail\nDATA <CRLF>\nTransfer message text\nRSET <CRLF>\nAbort current mail transaction\nNOOP <CRLF>\nNo operation\nQUIT <CRLF>\nClose TCP connection\nSEND <SP> FROM:<reverse-path> <CRLF>\nSend mail to terminal\nSOML <SP> FROM:<reverse-path> <CRLF>\nSend mail to terminal if possible; otherwise\nSAML <SP> FROM:<reverse-path> <CRLF>\nSend mail to terminal and mailbox\nVRFY <SP> <string> <CRLF>\nConfirm user name\nEXPN <SP> <string> <CRLF>\nReturn membership of mailing list\nHELP [<SP> <string>] <CRLF>\nSend system-specific documentation\nTURN <CRLF>\nReverse role of sender and receiver\ncarriage return, line feed\nSquare brackets denote optional elements."
  },
  {
    "text": "Shaded commands are optional in a conformant SMTP implementation. Table 22.1 lists the SMTP commands. Each command consists of a single\nline of text, beginning with a four-letter command code followed in some cases by\nan argument field. Most replies are a single-line, although multiple-line replies\nare possible. The table indicates those commands that all receivers must be able\nto recognize."
  },
  {
    "text": "The other commands are optional and may be ignored by the\nSMTP replies are listed in Table 22.2. Each reply begins with a three-digit\ncode and may be followed by additional information.The leading digit indicates the\ncategory of the reply:\n• Positive Completion reply: The requested action has been successfully com-\npleted.A new request may be initiated."
  },
  {
    "text": "• Positive Intermediate reply: The command has been accepted,but the requested\naction is being held in abeyance, pending receipt of further information. The\nsender-SMTP should send another command specifying this information. This\nreply is used in command sequence groups. • Transient Negative Completion reply: The command was not accepted and the\nrequested action did not occur."
  },
  {
    "text": "However, the error condition is temporary and\nthe action may be requested again. • Permanent Negative Completion reply: The command was not accepted and\nthe requested action did not occur."
  },
  {
    "text": "22.1 / ELECTRONIC MAIL—SMTP AND MIME\nSMTP Replies\nDescription\nPositive Completion Reply\nSystem status, or system help reply\nHelp message (Information on how to use the receiver or the meaning of a particular non-standard\ncommand; this reply is useful only to the human user)\n<domain> Service ready\n<domain> Service closing transmission channel\nRequested mail action okay, completed\nUser not local; will forward to <forward-path>\nPositive Intermediate Reply\nStart mail input; end with <CRLF>.<CRLF>\nTransient Negative Completion Reply\n<domain> Service not available, losing transmission channel (This may be a reply to any command\nif the service knows it must shut down)\nRequested mail action not taken: mailbox unavailable (e.g., mailbox busy)\nRequested action aborted: local error in processing\nRequested action not taken: insufficient system storage\nPermanent Negative Completion Reply\nSyntax error, command unrecognized (This may include errors such as command line too long)\nSyntax error in parameters or arguments\nCommand not implemented\nBad sequence of commands\nCommand parameter not implemented\nRequested action not taken: mailbox unavailable (e.g., mailbox not found, no access)\nUser not local; please try <forward-path>\nRequested mail action aborted: exceeded storage allocation\nRequested action not taken: mailbox name not allowed (e.g., mailbox syntax incorrect)\nTransaction failed\nBasic SMTP operation occurs in three phases: connection setup, exchange of\none or more command-response pairs, and connection termination."
  },
  {
    "text": "We examine\neach phase in turn. Connection Setup An SMTP sender will attempt to set up a TCP connection\nwith a target host when it has one or more mail messages to deliver to that host.The\nsequence is quite simple:\n1. The sender opens a TCP connection with the receiver. 2. Once the connection is established, the receiver identifies itself with “220 Service\nCHAPTER 22 / INTERNET APPLICATIONS\n3."
  },
  {
    "text": "The sender identifies itself with the HELO command. 4. The receiver accepts the sender’s identification with “250 OK.”\nIf the mail service on the destination is unavailable, the destination \nhost returns a “421 Service Not Available” reply in step 2 and the process is ter-\nMail Transfer Once a connection has been established, the SMTP sender may\nsend one or more messages to the SMTP receiver."
  },
  {
    "text": "There are three logical phases to\nthe transfer of a message:\n1. A MAIL command identifies the originator of the message. 2. One or more RCPT commands identify the recipients for this message. 3. A DATA command transfers the message text. The MAIL command gives the reverse path, which can be used to report\nerrors."
  },
  {
    "text": "If the receiver is prepared to accept messages from this originator, it\nreturns a “250 OK” reply. Otherwise the receiver returns a reply indicating failure\nto execute the command (codes 451, 452, 552) or an error in the command (codes\n421, 500, 501). The RCPT command identifies an individual recipient of the mail \ndata; multiple recipients are specified by multiple use of this command."
  },
  {
    "text": "A\nseparate reply is returned for each RCPT command, with one of the following\npossibilities:\n1. The receiver accepts the destination with a 250 reply; this indicates that the\ndesignated mailbox is on the receiver’s system. 2. The destination will require forwarding and the receiver will forward (251). 3."
  },
  {
    "text": "The destination requires forwarding but the receiver will not forward; the sender\nmust resend to the forwarding address (551). 4. A mailbox does not exist for this recipient at this host (550). 5. The destination is rejected due to some other failure to execute (codes 450,\n451, 452, 552, 553) or an error in the command (codes 421, 500, 501, 503)."
  },
  {
    "text": "The advantage of using a separate RCPT phase is that the sender will not send\nthe message until it is assured that the receiver is prepared to receive the message for\nat least one recipient, thereby avoiding the overhead of sending an entire message\nonly to learn that the destination is unknown."
  },
  {
    "text": "Once the SMTP receiver has agreed to\nreceive the mail message for at least one recipient, the SMTP sender uses the DATA\ncommand to initiate the transfer of the message."
  },
  {
    "text": "If the SMTP receiver is still pre-\npared to receive the message, it returns a 354 message; otherwise the receiver returns\na reply indicating failure to execute the command (codes 451, 554) or an error in the\ncommand (codes 421, 500, 501, 503). If the 354 reply is returned, the SMTP sender\nproceeds to send the message over the TCP connection as a sequence of ASCII lines."
  },
  {
    "text": "The end of the message is indicated by a line containing only a period. The SMTP\nreceiver responds with a 250 OK reply if the message is accepted or with the appro-\npriate error code (451, 452, 552, 554)."
  },
  {
    "text": "22.1 / ELECTRONIC MAIL—SMTP AND MIME\nS: MAIL FROM:<Smith@Alpha.ARPA>\nS: RCPT TO:<Jones@Beta.ARPA>\nS: RCPT TO:<Green@Beta.ARPA>\nR: 550 No such user here\nS: RCPT TO:<Brown@Beta.ARPA>\nR: 354 Start mail input; end with <CRLF>.<CRLF>\nS: Blah blah blah... S: ...etc. etc. etc."
  },
  {
    "text": "S: <CRLF>.<CRLF>\nThe SMTP sender is transmitting mail that originates with the user\nSmith@Alpha.ARPA.The message is addressed to three users on machine Beta.ARPA,\nnamely, Jones, Green, and Brown. The SMTP receiver indicates that it has mailboxes\nfor Jones and Brown but does not have information on Green."
  },
  {
    "text": "Because at least one of\nthe intended recipients has been verified,the sender proceeds to send the text message. Connection Closing The SMTP sender closes the connection in two steps. First,\nthe sender sends a QUIT command and waits for a reply.The second step is to initi-\nate a TCP close operation for the TCP connection."
  },
  {
    "text": "The receiver initiates its TCP\nclose after sending its reply to the QUIT command. RFC 822 RFC 822 defines a format for text messages that are sent using elec-\ntronic mail.The SMTP standard adopts RFC 822 as the format for use in construct-\ning messages for transmission via SMTP."
  },
  {
    "text": "In the RFC 822 context, messages are\nCHAPTER 22 / INTERNET APPLICATIONS\nAnother field that is commonly found in RFC 822 headers is Message-ID.This\nfield contains a unique identifier associated with this message."
  },
  {
    "text": "A number of\nschemes are in use for converting binary files into a text form that can be used\nby SMTP mail systems, including the popular UNIX UUencode/UUdecode\nscheme. However, none of these is a standard or even a de facto standard. 2."
  },
  {
    "text": "SMTP cannot transmit text data that includes national language characters\nbecause these are represented by 8-bit codes with values of 128 decimal or\nhigher, and SMTP is limited to 7-bit ASCII. 3. SMTP servers may reject mail messages over a certain size. 4."
  },
  {
    "text": "Date:Tue, 16 Jan 1996 10:37:17 (EST)\nFrom:“William Stallings” <ws@host.com>\nSubject:The Syntax in RFC 822\nTo: Smith@ Other -Host.com\nCc: Jones@ Yet-Another-Host.com\nHello. This section begins the actual message body, which is delimited \nfrom the message heading by a blank line. lines.The most frequently used keywords are From,To, Subject, and Date."
  },
  {
    "text": "Here is an\nexample message:\n22.1 / ELECTRONIC MAIL—SMTP AND MIME\nOverview The MIME specification includes the following elements:\n1. Five new message header fields are defined, which may be included in an RFC\n822 header. These fields provide information about the body of the message. 2."
  },
  {
    "text": "A number of content formats are defined, thus standardizing representations\nthat support multimedia electronic mail. 3. Transfer encodings are defined that enable the conversion of any content for-\nmat into a form that is protected from alteration by the mail system. In this subsection, we introduce the five message header fields."
  },
  {
    "text": "The next two\nsubsections deal with content formats and transfer encodings. The five header fields defined in MIME are as follows:\n• MIME-Version: Must have the parameter value 1.0. This field indicates that\nthe message conforms to the RFCs."
  },
  {
    "text": "• Content-Type: Describes the data contained in the body with sufficient detail that\nthe receiving user agent can pick an appropriate agent or mechanism to present\nthe data to the user or otherwise deal with the data in an appropriate manner."
  },
  {
    "text": "• Content-Transfer-Encoding: Indicates the type of transformation that has\nbeen used to represent the body of the message in a way that is acceptable for\nmail transport. • Content-ID: Used to uniquely identify MIME entities in multiple contexts. • Content-Description: A plaintext description of the object with the body; this\nis useful when the object is not displayable (e.g., audio data)."
  },
  {
    "text": "Any or all of these fields may appear in a normal RFC 822 header. A\ncompliant implementation must support the MIME-Version, Content-Type, and\nContent-Transfer-Encoding fields; the Content-ID and Content-Description fields\nare optional and may be ignored by the recipient implementation."
  },
  {
    "text": "MIME Content Types The bulk of the MIME specification is concerned with\nthe definition of a variety of content types. This reflects the need to provide stan-\ndardized ways of dealing with a wide variety of information representations in a\nmultimedia environment. Table 22.3 lists the MIME content types.There are seven different major types\nof content and a total of 14 subtypes."
  },
  {
    "text": "In general, a content type declares the general\ntype of data, and the subtype specifies a particular format for that type of data."
  },
  {
    "text": "For the text type of body,no special software is required to get the full meaning of\nthe text, aside from support of the indicated character set.The only defined subtype is\nplaintext, which is simply a string of ASCII characters or ISO 8859 characters.An ear-\nlier version of the MIME specification included a richtext subtype,which allows greater\nformatting flexibility."
  },
  {
    "text": "It is expected that this subtype will reappear in a later RFC. The multipart type indicates that the body contains multiple, independent\nparts. The Content-Type header field includes a parameter, called boundary, that\ndefines the delimiter between body parts. This boundary should not appear in any\nparts of the message."
  },
  {
    "text": "Each boundary starts on a new line and consists of two\nhyphens followed by the boundary value. The final boundary, which indicates the\nend of the last part, also has a suffix of two hyphens.Within each part, there may be\nan optional ordinary MIME header. CHAPTER 22 / INTERNET APPLICATIONS\nMIME Content Types\nDescription\nUnformatted text; may be ASCII or ISO 8859."
  },
  {
    "text": "The different parts are independent but are to be transmitted\ntogether.They should be presented to the receiver in the order that\nthey appear in the mail message. Differs from Mixed only in that no order is defined for delivering the\nparts to the receiver. Alternative\nThe different parts are alternative versions of the same information."
  },
  {
    "text": "They are ordered in increasing faithfulness to the original and the\nrecipient’s mail system should display the “best” version to the user. Similar to Mixed, but the default type/subtype of each part is\nmessage/rfc822. The body is itself an encapsulated message that conforms to RFC 822. Used to allow fragmentation of large mail items, in a way that is\ntransparent to the recipient."
  },
  {
    "text": "External-body\nContains a pointer to an object that exists elsewhere. The image is in JPEG format, JFIF encoding. The image is in GIF format. MPEG format. Single-channel 8-bit ISDN \nencoding at a sample rate of 8 kHz. Application\nAdobe Postscript\noctet-stream\nGeneral binary data consisting of 8-bit bytes."
  },
  {
    "text": "From: John Smith <js@company.com>\nTo: Ned Jones <ned@soft.com>\nSubject: Sample message\nMIME-Version: 1.0\nContent-type: multipart/mixed; boundary=”simple boundary”\nThis is the preamble. It is to be ignored, though it is a handy place for mail\ncomposers to include an explanatory note to non-MIME conformant \n—simple boundary\nThis is implicitly typed plain ASCII text. It does NOT end with a linebreak."
  },
  {
    "text": "—simple boundary\nContent-type: text/plain; charset=us-ascii\nThis is explicitly typed plain ASCII text. It DOES end with a linebreak. —simple boundary—\nThis is the epilogue. It is also to be ignored."
  },
  {
    "text": "Here is a simple example of a multipart message, containing two parts both\nconsisting of simple text:\n22.1 / ELECTRONIC MAIL—SMTP AND MIME\nFrom: John Smith <js@company.com>\nTo: Ned Jones <ned@soft.com>\nSubject: Formatted text mail\nMIME-Version: 1.0\nContent-Type: multipart/alternative; boundary=”boundary42”\n—boundary42\nContent-Type: text/plain; charset=us-ascii\n...plaintext version of message goes here...."
  },
  {
    "text": "—boundary42\nContent-Type: text/richtext\n.... RFC 1341 richtext version of same message goes here ... —boundary42—\nThere are four subtypes of the multipart type, all of which have the same over-\nall syntax. The multipart/mixed subtype is used when there are multiple independent\nbody parts that need to be bundled in a particular order."
  },
  {
    "text": "For the multipart/parallel\nsubtype, the order of the parts is not significant. If the recipient’s system is appropriate,\nthe multiple parts can be presented in parallel. For example, a picture or text part \ncould be accompanied by a voice commentary that is played while the picture or text \nis displayed."
  },
  {
    "text": "For the multipart/alternative subtype, the various parts are different represen-\ntations of the same information.The following is an example:\nIn this subtype, the body parts are ordered in terms of increasing pref-\nerence."
  },
  {
    "text": "For this example, if the recipient system is capable of displaying the\nmessage in the richtext format, this is done; otherwise, the plaintext format\nThe multipart/digest subtype is used when each of the body parts is\ninterpreted as an RFC 822 message with headers. This subtype enables the\nconstruction of a message whose parts are individual messages."
  },
  {
    "text": "For exam-\nple, the moderator of a group might collect e-mail messages from partici-\npants, bundle these messages, and send them out in one encapsulating\nMIME message. The message type provides a number of important capabilities in\nMIME. The message/rfc822 subtype indicates that the body is an entire\nmessage, including header and body."
  },
  {
    "text": "Despite the name of this subtype, the\nencapsulated message may be not only a simple RFC 822 message, but any\nMIME message. The message/partial subtype enables fragmentation of a large mes-\nsage into a number of parts, which must be reassembled at the destination."
  },
  {
    "text": "CHAPTER 22 / INTERNET APPLICATIONS\nFor this subtype, three parameters are specified in the Content-Type: Message/Par-\ntial field:\n• id: A value that is common to each fragment of the same message, so that the\nfragments can be identified at the recipient for reassembly, but unique across\ndifferent messages."
  },
  {
    "text": "• number: A sequence number that indicates the position of this fragment in the\noriginal message.The first fragment is numbered 1, the second 2, and so on. • total: The total number of parts. The last fragment is identified by having the\nsame value for the number and total parameters."
  },
  {
    "text": "The message/external-body subtype indicates that the actual data to be con-\nveyed in this message are not contained in the body. Instead, the body contains the\ninformation needed to access the data. As with the other message types, the mes-\nsage/external-body subtype has an outer header and an encapsulated message with\nits own header."
  },
  {
    "text": "The only necessary field in the outer header is the Content-Type\nfield, which identifies this as a message/external-body subtype. The inner header is\nthe message header for the encapsulated message."
  },
  {
    "text": "The Content-Type field in the outer header must include an access-type pa-\nrameter, which has one of the following values:\n• FTP: The message body is accessible as a file using the file transfer protocol\n(FTP). For this access type, the following additional parameters are manda-\ntory: name, the name of the file; and site, the domain name of the host where\nthe file resides."
  },
  {
    "text": "Optional parameters are directory, the directory in which the\nfile is located; and mode, which indicates how FTP should retrieve the file\n(e.g., ASCII, image). Before the file transfer can take place, the user will need\nto provide a user id and password.These are not transmitted with the message\nfor security reasons."
  },
  {
    "text": "• TFTP: The message body is accessible as a file using the trivial file transfer\nprotocol (TFTP). The same parameters as for FTP are used, and the user id\nand password must also be supplied. • Anon-FTP: Identical to FTP, except that the user is not asked to supply a user\nid and password.The parameter name supplies the name of the file."
  },
  {
    "text": "• local-file: The message body is accessible as a file on the recipient’s machine. • AFS: The message body is accessible as a file via the global AFS (Andrew File\nSystem).The parameter name supplies the name of the file. • mail-server: The message body is accessible by sending an e-mail message\nto a mail server. A server parameter must be included that gives the e-mail\naddress of the server."
  },
  {
    "text": "The body of the original message, known as the\nphantom body, should contain the exact command to be sent to the mail\nThe image type indicates that the body contains a displayable image.The sub-\ntype, jpeg or gif, specifies the image format. In the future, more subtypes will be\nadded to this list."
  },
  {
    "text": "The video type indicates that the body contains a time-varying picture image,\npossibly with color and coordinated sound.The only subtype so far specified is mpeg. 22.1 / ELECTRONIC MAIL—SMTP AND MIME\nMIME Transfer Encodings\nThe data are all represented by short lines of ASCII characters."
  },
  {
    "text": "The lines are short, but there may be non-ASCII characters (octets with the high-order\nNot only may non-ASCII characters be present but the lines are not necessarily short\nenough for SMTP transport. quoted-printable\nEncodes the data in such a way that if the data being encoded are mostly ASCII text, the\nencoded form of the data remains largely recognizable by humans."
  },
  {
    "text": "Encodes data by mapping 6-bit blocks of input to 8-bit blocks of output, all of which are\nprintable ASCII characters. A named nonstandard encoding. The audio type indicates that the body contains audio data."
  },
  {
    "text": "The only subtype,\nbasic, conforms to an ISDN service known as “64-kbps, 8-kHz Structured, Usable\nfor Speech Information,” with a digitized speech algorithm referred to as \nPCM (pulse code modulation)."
  },
  {
    "text": "This general type is the typical way of transmitting\nspeech signals over a digital network.The term \nrefers to the specific encoding\ntechnique; it is the standard technique used in North America and Japan.A compet-\ning system, known as A-law, is standard in Europe."
  },
  {
    "text": "The application type refers to other kinds of data, typically either uninter-\npreted binary data or information to be processed by a mail-based application. The\napplication/octet-stream subtype indicates general binary data in a sequence of\noctets. RFC 2045 recommends that the receiving implementation should offer to put\nthe data in a file or use the data as input to a program."
  },
  {
    "text": "The application/Postscript subtype indicates the use of Adobe Postscript. MIME Transfer Encodings The other major component of the MIME specifi-\ncation, in addition to content type specification, is a definition of transfer encodings\nfor message bodies. The objective is to provide reliable delivery across the largest\nrange of environments. The MIME standard defines two methods of encoding data."
  },
  {
    "text": "The Content-\nTransfer-Encoding field can actually take on six values, as listed in Table 22.4. However, three of these values (7bit, 8bit, and binary) indicate that no encoding\nhas been done but provide some information about the nature of the data. For\nSMTP transfer, it is safe to use the 7bit form. The 8bit and binary forms may be\nusable in other mail transport contexts."
  },
  {
    "text": "Another Content-Transfer-Encoding\nvalue is x-token, which indicates that some other encoding scheme is used, for\nwhich a name is to be supplied. This could be a vendor-specific or application-\nspecific scheme. The two actual encoding schemes defined are quoted-printable\nand base64."
  },
  {
    "text": "Two schemes are defined to provide a choice between a transfer tech-\nnique that is essentially human readable, and one that is safe for all types of data\nin a way that is reasonably compact. The quoted-printable transfer encoding is useful when the data consist largely\nof octets that correspond to printable ASCII characters."
  },
  {
    "text": "In essence, it represents\nnonsafe characters by the hexadecimal representation of their code and introduces\nCHAPTER 22 / INTERNET APPLICATIONS\nreversible (soft) line breaks to limit message lines to 76 characters. The encoding\nrules are as follows:\n1. General 8-bit representation: This rule is to be used when none of the other\nrules apply."
  },
  {
    "text": "Any character is represented by an equal sign followed by a two-\ndigit hexadecimal representation of the octet’s value. For example, the ASCII\nform feed, which has an 8-bit value of decimal 12, is represented by \n2. Literal representation: Any character in the range decimal 33 (“!”) through deci-\nexcept decimal 61 \nis represented as that ASCII character. 3."
  },
  {
    "text": "White space: Octets with the values 9 and 32 may be represented as ASCII tab\nand space characters, respectively, except at the end of a line. Any white space\n(tab or blank) at the end of a line must be represented by rule 1. On decoding,\nany trailing white space on a line is deleted. This eliminates any white space\nadded by intermediate transport agents. 4."
  },
  {
    "text": "Line breaks:Any line break,regardless of its initial representation,is represented\nby the RFC 822 line break, which is a carriage-return/line-feed combination. 5. Soft line breaks: If an encoded line would be longer than 76 characters (exclud-\ning <CRLF>), a soft line break must be inserted at or before character position\n75."
  },
  {
    "text": "A soft line break consists of the hexadecimal sequence 3D0D0A, which is\nthe ASCII code for an equal sign followed by carriage return, line feed."
  },
  {
    "text": "The base64 transfer encoding,also known as radix-64 encoding,is a common one\nfor encoding arbitrary binary data in such a way as to be invulnerable to the processing\nby mail transport programs.This technique maps arbitrary binary input into printable\ncharacter output.The form of encoding has the following relevant characteristics:\n1."
  },
  {
    "text": "The range of the function is a character set that is universally representable at\nall sites, not a specific binary encoding of that character set. Thus, the charac-\nters themselves can be encoded into whatever form is needed by a specific sys-\ntem. For example, the character “E” is represented in an ASCII-based system\nas hexadecimal 45 and in an EBCDIC-based system as hexadecimal C5. 2."
  },
  {
    "text": "The character set consists of 65 printable characters, one of which is used for\npadding.With \navailable characters, each character can be used to repre-\nsent 6 bits of input. 3. No control characters are included in the set.Thus, a message encoded in radix 64\ncan traverse mail handling systems that scan the data stream for control characters. 4. The hyphen character (“-”) is not used."
  },
  {
    "text": "This character has significance in the\nRFC 822 format and should therefore be avoided. Table 22.5 shows the mapping of 6-bit input values to characters.The character\nset consists of the alphanumeric characters plus \nand “/”. The \ncharacter is\nused as the padding character. Figure 22.2 illustrates the simple mapping scheme. Binary input is processed in\nblocks of 3 octets, or 24 bits."
  },
  {
    "text": "Each set of 6 bits in the 24-bit block is mapped into a\ncharacter. In the figure, the characters are shown encoded as 8-bit quantities. In this\ntypical case, each 24-bit input is expanded to 32 bits of output. 22.1 / ELECTRONIC MAIL—SMTP AND MIME\nRadix-64 Encoding\nFor example, consider the 24-bit raw text sequence 00100011 01011100\n10010001, which can be expressed in hexadecimal as 235C91."
  },
  {
    "text": "We arrange this input\nin blocks of 6 bits:\n001000 110101 110010 010001\nThe extracted 6-bit decimal values are 8, 53, 50, and 17. Looking these up in Table\n22.5 yields the radix-64 encoding as the following characters: I1yR."
  },
  {
    "text": "If these charac-\nters are stored in 8-bit ASCII format with parity bit set to zero, we have\n01001001 00110001 01111001 01010010\nIn hexadecimal, this is 49317952.To summarize,\nBinary representation\n00100011 01011100 10010001\nHexadecimal representation\nRadix-64 Encoding of Input Data\nCharacter representation\nASCII code (8 bit, zero parity)\n01001001 00110001 01111001 01010010\nHexadecimal representation\nCHAPTER 22 / INTERNET APPLICATIONS\n22.2 NETWORK MANAGEMENT—SNMP\nNetworks and distributed processing systems are of critical and growing impor-\ntance in business, government, and other organizations."
  },
  {
    "text": "Within a given organiza-\ntion, the trend is toward larger, more complex networks supporting more\napplications and more users. As these networks grow in scale, two facts become\npainfully evident:\n• The network and its associated resources and distributed applications become\nindispensable to the organization."
  },
  {
    "text": "• More things can go wrong, disabling the network or a portion of the network\nor degrading performance to an unacceptable level. A large, reliable network cannot be put together and managed by human effort\nalone. The complexity of such a system dictates the use of automated network man-\nagement tools."
  },
  {
    "text": "The urgency of the need for such tools is increased, and the difficulty\nof supplying such tools is also increased, if the network includes equipment from\nmultiple vendors. In response, standards that deal with network management have\nbeen developed, covering services, protocols, and management information base."
  },
  {
    "text": "This section begins with an introduction to the overall concepts of standard-\nized network management. The remainder of the section is devoted to a discussion\nof SNMP, the most widely used network management standard."
  },
  {
    "text": "Network Management Systems\nA network management system is a collection of tools for network monitoring and\ncontrol that is integrated in the following senses:\n• A single operator interface with a powerful but user-friendly set of commands\nfor performing most or all network management tasks."
  },
  {
    "text": "4 characters \u0001 32 bits\nFigure 22.2\nPrintable Encoding of Binary Data into Radix-64 Format\n22.2 / NETWORK MANAGEMENT—SNMP\n• A minimal amount of additional equipment.That is, most of the hardware and\nsoftware required for network management is incorporated into the existing\nuser equipment."
  },
  {
    "text": "A network management system consists of incremental hardware and soft-\nware additions implemented among existing network components. The software\nused in accomplishing the network management tasks resides in the host computers\nand communications processors (e.g., networks switches, routers)."
  },
  {
    "text": "A network man-\nagement system is designed to view the entire network as a unified architecture,\nwith addresses and labels assigned to each point and the specific attributes of each\nelement and link known to the system. The active elements of the network provide\nregular feedback of status information to the network control center."
  },
  {
    "text": "Simple Network Management Protocol Version 1 (SNMPv1)\nSNMP was developed for use as a network management tool for networks and\ninternetworks operating TCP/IP. It has since been expanded for use in all types \nof networking environments."
  },
  {
    "text": "The term simple network management protocol\n(SNMP) is actually used to refer to a collection of specifications for network \nmanagement that include the protocol itself, the definition of a database, and associ-\nated concepts."
  },
  {
    "text": "Basic Concepts The model of network management that is used for SNMP\nincludes the following key elements:\n• Management station, or manager\n• Management information base\n• Network management protocol\nThe management station is typically a standalone device, but may be a capa-\nbility implemented on a shared system."
  },
  {
    "text": "In either case, the management station\nserves as the interface for the human network manager into the network manage-\nment system.The management station will have, at minimum,\n• A set of management applications for data analysis, fault recovery, and so on\n• An interface by which the network manager may monitor and control the\n• The capability of translating the network manager’s requirements into the\nactual monitoring and control of remote elements in the network\n• A database of network management information extracted from the data-\nbases of all the managed entities in the network\nOnly the last two elements are the subject of SNMP standardization."
  },
  {
    "text": "The other active element in the network management system is the\nmanagement agent. Key platforms, such as hosts, bridges, routers, and hubs, may \nbe equipped with agent software so that they may be managed from a manage-\nment station."
  },
  {
    "text": "The agent responds to requests for information from a management\nstation, responds to requests for actions from the management station, and may\nCHAPTER 22 / INTERNET APPLICATIONS\nasynchronously provide the management station with important but unsolicited\ninformation. To manage resources in the network, each resource is represented as an\nobject."
  },
  {
    "text": "An object is, essentially, a data variable that represents one aspect of the\nmanaged agent. The collection of objects is referred to as a management informa-\ntion base (MIB). The MIB functions as a collection of access points at the agent\nfor the management station. These objects are standardized across systems of a\nparticular class (e.g., bridges all support the same management objects)."
  },
  {
    "text": "A man-\nagement station performs the monitoring function by retrieving the value of MIB\nobjects.A management station can cause an action to take place at an agent or can\nchange the configuration settings of an agent by modifying the value of specific\nThe management station and agents are linked by a network management\nprotocol."
  },
  {
    "text": "The protocol used for the management of TCP/IP networks is the Simple\nNetwork Management Protocol (SNMP).An enhanced version of SNMP, known as\nSNMPv2, is intended for both TCP/IP- and OSI-based networks."
  },
  {
    "text": "Each of these\nprotocols includes the following key capabilities:\n• Get: Enables the management station to retrieve the value of objects at the\n• Set: Enables the management station to set the value of objects at the agent\n• Notify: Enables an agent to send unsolicited notifications to the management\nstation of significant events\nIn a traditional centralized network management scheme, one host in the\nconfiguration has the role of a network management station; there may be one or\ntwo other management stations in a backup role."
  },
  {
    "text": "The remainder of the devices on\nthe network contain agent software and a MIB, to allow monitoring and control\nfrom the management station. As networks grow in size and traffic load, such a\ncentralized system is unworkable."
  },
  {
    "text": "Too much burden is placed on the management\nstation, and there is too much traffic, with reports from every single agent having to\nwend their way across the entire network to headquarters. In such circumstances, a\ndecentralized, distributed approach works best (e.g., Figure 22.3)."
  },
  {
    "text": "In a decentralized\nnetwork management scheme, there may be multiple top-level management\nstations, which might be referred to as management servers. Each such server might\ndirectly manage a portion of the total pool of agents. However, for many of the\nagents, the management server delegates responsibility to an intermediate manager."
  },
  {
    "text": "The intermediate manager plays the role of manager to monitor and control the\nagents under its responsibility. It also plays an agent role to provide information and\naccept control from a higher-level management server. This type of architecture\nspreads the processing burden and reduces total network traffic."
  },
  {
    "text": "Network Management Protocol Architecture SNMP is an application-\nlevel protocol that is part of the TCP/IP protocol suite. It is intended to operate over\nthe user datagram protocol (UDP). Figure 22.4 suggests the typical configuration of\nprotocols for SNMPv1."
  },
  {
    "text": "For a standalone management station, a manager process\ncontrols access to a central MIB at the management station and provides an inter-\nface to the network manager. The manager process achieves network management\n22.2 / NETWORK MANAGEMENT—SNMP\nby using SNMP, which is implemented on top of UDP, IP, and the relevant network-\ndependent protocols (e.g., Ethernet,ATM, frame relay)."
  },
  {
    "text": "Each agent must also implement SNMP, UDP, and IP. In addition, there is an\nagent process that interprets the SNMP messages and controls the agent’s MIB. For\nan agent device that supports other applications, such as FTP,TCP as well as UDP is\nrequired."
  },
  {
    "text": "In Figure 22.4, the shaded portions depict the operational environment:\nthat which is to be managed.The unshaded portions provide support to the network\nmanagement function. Figure 22.5 provides a somewhat closer look at the protocol context of SNMP."
  },
  {
    "text": "From a management station, three types of SNMP messages are issued on behalf of a\nmanagement applications: GetRequest, GetNextRequest, and SetRequest. The first\ntwo are two variations of the get function. All three messages are acknowledged by\nthe agent in the form of a GetResponse message, which is passed up to the\nmanagement application."
  },
  {
    "text": "In addition, an agent may issue a trap message in response\nto an event that affects the MIB and the underlying managed resources. Management\nrequests are sent to UDP port 161, while the agent sends traps to UDP port 162. Because SNMP relies on UDP, which is a connectionless protocol, SNMP is\nitself connectionless. No ongoing connections are maintained between a manage-\nment station and its agents."
  },
  {
    "text": "Central site\nManagement server\nIntermediate manager\n(manager/agent)\nFigure 22.3\nExample Distributed Network Management Configuration\nCHAPTER 22 / INTERNET APPLICATIONS\nSimple Network Management Protocol Version 2 (SNMPv2)\nIn August of 1988, the specification for SNMP was issued and rapidly became the\ndominant network management standard."
  },
  {
    "text": "A number of vendors offer standalone\nnetwork management workstations based on SNMP, and most vendors of bridges,\nrouters, workstations, and PCs offer SNMP agent packages that allow their products\nto be managed by an SNMP management station. As the name suggests, SNMP is a simple tool for network management."
  },
  {
    "text": "It defines a limited, easily implemented MIB of scalar variables and two-\ndimensional tables, and it defines a streamlined protocol to enable a manager to\nget and set MIB variables and to enable an agent to issue unsolicited notifica-\ntions, called traps. This simplicity is the strength of SNMP. SNMP is easily imple-\nmented and consumes modest processor and network resources."
  },
  {
    "text": "Also, the\nstructure of the protocol and the MIB are sufficiently straightforward that it is\nnot difficult to achieve interoperability among management stations and agent\nsoftware from a mix of vendors. With its widespread use, the deficiencies of SNMP became increasingly appar-\nent; these include both functional deficiencies and a lack of a security facility."
  },
  {
    "text": "As a\nresult, an enhanced version, known as SNMPv2, was issued (RFCs 1901, 1905 through\n1909, and 2578 through 2580). SNMPv2 has quickly gained support, and a number of\nvendors announced products within months of the issuance of the standard."
  },
  {
    "text": "Network-dependent protocols\nNetwork-dependent protocols\nManagement station\nNetwork-dependent\nNetwork-dependent\nFigure 22.4\nSNMPv1 Configuration\n22.2 / NETWORK MANAGEMENT—SNMP\n1There is a slight fuzziness about the term MIB. In its singular form, the term MIB can be used to refer to\nthe entire database of management information at a manager or an agent."
  },
  {
    "text": "It can also be used in singular\nor plural form to refer to a specific defined collection of management information that is part of an over-\nall MIB. Thus, the SNMPv2 standard includes the definition of several MIBs and incorporates, by refer-\nence, MIBs defined in SNMPv1."
  },
  {
    "text": "The Elements of SNMPv2 As with SNMPv1, SNMPv2 provides a framework\non which network management applications can be built.Those applications, such as\nfault management, performance monitoring, accounting, and so on, are outside the\nscope of the standard. SNMPv2 provides the infrastructure for network management. Figure 22.6 is\nan example of a configuration that illustrates that infrastructure."
  },
  {
    "text": "The essence of SNMPv2 is a protocol that is used to exchange management\ninformation. Each “player” in the network management system maintains a local\ndatabase of information relevant to network management, known as the MIB."
  },
  {
    "text": "The\nSNMPv2 standard defines the structure of this information and the allowable data\ntypes;this definition is known as the structure of management information (SMI).We\ncan think of this as the language for defining management information.The standard\nalso supplies a number of MIBs that are generally useful for network management.1\nIn addition, new MIBs may be defined by vendors and user groups."
  },
  {
    "text": "At least one system in the configuration must be responsible for network man-\nagement. It is here that any network management applications are hosted. There\nmay be more than one of these management stations, to provide redundancy or\nsimply to split up the duties in a large network. Most other systems act in the role of\nagent."
  },
  {
    "text": "An agent collects information locally and stores it for later access by a\nGetNextRequest\nGetResponse\nSNMP management station\nSNMP manager\nNetwork-dependent protocols\nGetNextRequest\nGetResponse\nNetwork-dependent protocols\nSNMP messages\nApplication\nmanages objects\nManagement application\nManaged resources\nSNMP-managed objects\nFigure 22.5\nThe Role of SNMPv1\nCHAPTER 22 / INTERNET APPLICATIONS\nmanager/agent\nManager server\nManagement applications\nSNMPv2 manager\nmanager/agent\nElement manager\nSNMPv2 agent\nSNMPv2 agent\nSNMPv2 agent\nFigure 22.6\nSNMPv2-Managed Configuration\nmanager."
  },
  {
    "text": "The information includes data about the system itself and may also\ninclude traffic information for the network or networks to which the agent attaches. SNMPv2 supports either a highly centralized network management strategy or a\ndistributed one. In the latter case, some systems operate both in the role of manager\nand of agent."
  },
  {
    "text": "In its agent role, such a system will accept commands from a superior\nmanagement system. Some of those commands relate to the local MIB at the agent."
  },
  {
    "text": "Other commands require the agent to act as a proxy for remote devices.In this case,the\nproxy agent assumes the role of manager to access information at a remote agent, and\nthen assumes the role of an agent to pass that information on to a superior manager. All of these exchanges take place using the SNMPv2 protocol, which is a sim-\nple request/response type of protocol."
  },
  {
    "text": "Typically, SNMPv2 is implemented on top of\nthe user datagram protocol (UDP), which is part of the TCP/IP suite."
  },
  {
    "text": "Because\n22.2 / NETWORK MANAGEMENT—SNMP\nAllowable Data Types in SNMPv2\nDescription\nIntegers in the range of \nIntegers in the range of 0 to \nA nonnegative integer that may be incremented modulo \nA nonnegative integer that may be incremented modulo \nA nonnegative integer that may increase or decrease, but shall not exceed a\nmaximum value.The maximum value can not be greater than \nA nonnegative integer that represents the time, modulo \nin hundredths of a\nOctet strings for arbitrary binary or textual data; may be limited to 255 octets."
  },
  {
    "text": "A 32-bit internet address. An arbitrary bit field. An enumeration of named bits. Administratively assigned name to object or other standardized element. Value is a sequence of up to 128 nonnegative integers. SNMPv2 exchanges are in the nature of discrete request-response pairs, an ongoing\nreliable connection is not required."
  },
  {
    "text": "Structure of Management Information The SMI defines the general\nframework within which a MIB can be defined and constructed.The SMI identifies\nthe data types that can be used in the MIB, and how resources within the MIB are\nrepresented and named.The philosophy behind SMI is to encourage simplicity and\nextensibility within the MIB."
  },
  {
    "text": "Thus, the MIB can store only simple data types:\nscalars and two-dimensional arrays of scalars, called tables. The SMI does not sup-\nport the creation or retrieval of complex data structures. This philosophy is in con-\ntrast to that used with OSI systems management, which provides for complex data\nstructures and retrieval modes to support greater functionality."
  },
  {
    "text": "SMI avoids com-\nplex data types and structures to simplify the task of implementation and to\nenhance interoperability. MIBs will inevitably contain vendor-created data types\nand, unless tight restrictions are placed on the definition of such data types, inter-\noperability will suffer."
  },
  {
    "text": "There are three key elements in the SMI specification.At the lowest level, the\nSMI specifies the data types that may be stored. Then the SMI specifies a formal\ntechnique for defining objects and tables of objects. Finally, the SMI provides a\nscheme for associating a unique identifier with each actual object in a system, so\nthat data at an agent can be referenced by a manager."
  },
  {
    "text": "Table 22.6 shows the data types that are allowed by the SMI. This is a fairly\nrestricted set of types. For example, real numbers are not supported. However, it is\nrich enough to support most network management requirements. Protocol Operation The heart of the SNMPv2 framework is the protocol itself."
  },
  {
    "text": "The protocol provides a straightforward, basic mechanism for the exchange of man-\nagement information between manager and agent."
  },
  {
    "text": "CHAPTER 22 / INTERNET APPLICATIONS\n(d) variable-bindings\nnon-repeaters max-repetitions\nvariable-bindings\n(c) GetBulkRequest-PDU\nerror-status\nCHAPTER 22 / INTERNET APPLICATIONS\nas a principal, which may be an individual or an application or a group of individu-\nals or applications."
  },
  {
    "text": "The authentication mechanism in USM assures that a received message was\ntransmitted by the principal whose identifier appears as the source in the message\nheader. This mechanism also assures that the message has not been altered in\ntransit and has not been artificially delayed or replayed."
  },
  {
    "text": "The sending principal\nprovides authentication by including a message authentication code with the\nCHAPTER 22 / INTERNET APPLICATIONS\ncopies and these are sent out independently.An alternative approach is to determine\nthe route for each destination first."
  },
  {
    "text": "Then a single message is sent out on a common\nportion of the route and copies are only made when the routes diverge; this process is\nreferred to as mail-bagging. Discuss the relative advantages and disadvantages of the\ntwo methods. Excluding the connection establishment and termination, what is the minimum num-\nber of network round trips to send a small email message using SMTP?"
  },
  {
    "text": "Explain the differences between the intended use for the quoted-printable and\nBase64 encodings\nSuppose you need to send one message to three different users: user1@example.com,\nuser2@example.com, and user3@example.com. Is there any difference between send-\ning one separate message per user and sending only one message with multiple\n(three) recipients? Explain."
  },
  {
    "text": "We’ve seen that the character sequence “<CR><LF>.<CR><LF>” indicates the end\nof mail data to a SMTP-server.What happens if the mail data itself contains that char-\nacter sequence? Users are free to define and use additional header fields other than the ones defined\nin RFC 822. Such header fields must begin with the string “X-”.Why?"
  },
  {
    "text": "The original (version 1) specification of SNMP has the following definition of a new\nGauge ::= [APPLICATION 2] IMPLICIT INTEGER (0..4294967295)\nThe standard includes the following explanation of the semantics of this type:\nThis application-wide type represents a non-negative integer, which may\nincrease or decrease, but which latches at a maximum value.This standard\nspecifies a maximum value of \n(4294967295 decimal) for gauges."
  },
  {
    "text": "Unfortunately, the word latch is not defined, and this has resulted in two different\ninterpretations."
  },
  {
    "text": "The SNMPv2 standard cleared up the ambiguity with the following\ndefinition:\nThe value of a Gauge has its maximum value whenever the information being\nmodeled is greater than or equal to that maximum value; if the information\nbeing modeled subsequently decreases below the maximum value, the Gauge\nalso decreases. What is the alternative interpretation? b."
  },
  {
    "text": "Discuss the pros and cons of the two interpretations. Because SNMP uses two different port numbers (UDP ports 161 and 162), a single\nsystem can easily run both a manager and an agent. What would happen if the same\nport number were used for both?"
  },
  {
    "text": "Without such technical aids the modern city-state could not exist,\nfor it is only by means of them that trade and business can proceed; that goods and\nservices can be distributed where needed; that railways can run on schedule; that law\nand order are maintained; that education is possible. Communication renders true\nsocial life practicable, for communication means organization."
  },
  {
    "text": "—On Human Communication, Colin Cherry\nThe rapid growth in the use of the Web is due to the standardization\nof all the elements that support Web applications. A key element is\nHTTP, which is the protocol for the exchange of Web-based informa-\ntion between Web browsers and Web servers. Three types of intermediate devices can be used in an HTTP net-\nworks: proxies, gateways, and tunnels."
  },
  {
    "text": "HTTP uses a request/response style of communication. The Domain Name System (DNS) is a directory lookup service that\nprovides a mapping between the name of a host on the Internet and\nits numerical address. DNS makes use of a distributed, hierarchical database to maintain a\nmapping from names to addresses and to provide related information\nabout hosts on the Internet."
  },
  {
    "text": "This chapter looks at two of the most widely used and more advanced Internet\napplication areas.This chapter and the next should give the reader a feel for the\nrange and diversity of applications supported by a communications architecture."
  },
  {
    "text": "The chapter begins with DNS, which is an essential name/address directory\nlookup service for the Internet.Then we look at HTTP, which is the support pro-\ntocol on which the World Wide Web (WWW) operates. 23.1 INTERNET DIRECTORY SERVICE: DNS\nThe Domain Name System (DNS) is a directory lookup service that provides a map-\nping between the name of a host on the Internet and its numerical address."
  },
  {
    "text": "DNS is\nessential to the functioning of the Internet. It is defined in RFCs 1034 and 1035. 23.1 / INTERNET DIRECTORY SERVICE: DNS\nFour elements comprise the DNS:\n• Domain name space: DNS uses a tree-structured name space to identify\nresources on the Internet."
  },
  {
    "text": "• DNS database: Conceptually, each node and leaf in the name space tree struc-\nture names a set of information (e.g., IP address, type of resource) that is con-\ntained in a resource record (RR).The collection of all RRs is organized into a\ndistributed database."
  },
  {
    "text": "• Name servers: These are server programs that hold information about a por-\ntion of the domain name tree structure and the associated RRs. • Resolvers: These are programs that extract information from name servers in\nresponse to client requests. A typical client request is for an IP address corre-\nsponding to a given domain name."
  },
  {
    "text": "In the next two sections, we examine domain names and the DNS database,\nrespectively.We then describe the operation of DNS, which includes a discussion of\nname servers and resolvers. Domain Names\nThe 32-bit IP address provides a way of uniquely identifying devices attached to\nthe Internet."
  },
  {
    "text": "If each router needed to keep a master table that listed every network and\nthe preferred path to that network, the management of the tables would be\ncumbersome and time consuming. It would be better to group the networks in\nsuch a way as to simplify the routing function. 2."
  },
  {
    "text": "In general terms, a\ndomain refers to a group of hosts that are under the administrative control of a sin-\ngle entity, such as a company or government agency. Domains are organized hier-\narchically, so that a given domain may consist of a number of subordinate domains. Names are assigned to domains and reflect this hierarchical organization. Figure 23.1 shows a portion of the domain naming tree."
  },
  {
    "text": "At the very top level\nare a small number of domains that encompass the entire Internet. Table 23.1 lists\ncurrently defined top-level domains. Each subordinate level is named by prefixing a\nsubordinate name to the name at the next highest level. For example,\n• edu is the domain of college-level U.S. educational institutions. • mit.edu is the domain for M.I.T."
  },
  {
    "text": "(the Massachusetts Institute of Technology). • lcs.mit.edu is the domain for the Laboratory for Computer Science at M.I.T. CHAPTER 23 / INTERNET APPLICATIONS\nFigure 23.1\nPortion of Internet Domain Tree\nTop-Level Internet Domains\nCHAPTER 23 / INTERNET APPLICATIONS\nResource Record Types\nDescription\nA host address.This RR type maps the name of a system to its IP address."
  },
  {
    "text": "Some\nsystems (e.g., routers) have multiple addresses, and there is a separate RR for\nCanonical name. Specifies an alias name for a host and maps this to the canonical\n(true) name. Host information. Designates the processor and operating system used by the\nMailbox or mail list information. Maps a mailbox or mail list name to a host\nMail exchange."
  },
  {
    "text": "Identifies the systems that relay mail into the organization. Authoritative name server for this domain. Domain name pointer. Points to another part of the domain name space. Start of a zone of authority (which part of naming hierarchy is implemented). Includes  parameters related to this zone. For a given service provides name of server or servers in domain that provide that \nArbitrary text."
  },
  {
    "text": "Provides a way to add text comments to the database. Well-known services. May list the application services available at this host. 2The SRV RR type is defined in RFC 2782. described in general terms."
  },
  {
    "text": "In essence, the domain name in a RR must\ncorrespond to the human readable form, which consists of a series of labels of\nalphanumeric characters or hyphens, with each pair of labels separated by a\n• Type: Identifies the type of resource in this RR.The various types are listed in\nTable 23.2.2\n• Class: Identifies the protocol family. The only commonly used value is IN, for\nthe Internet."
  },
  {
    "text": "• Time to Live: Typically, when a RR is retrieved from a name server, the\nretriever will cache the RR so that it need not query the name server repeat-\nedly."
  },
  {
    "text": "This field specifies the time interval that the resource record may be\ncached before the source of the information should again be consulted.A zero\nvalue is interpreted to mean that the RR can only be used for the transaction\nin progress and should not be cached. • Rdata Field Length: Length of the Rdata field in octets. • Rdata: A variable-length string of octets that describes the resource."
  },
  {
    "text": "The for-\nmat of this information varies according to the type of the RR. For example,\nfor the A type, the Rdata is a 32-bit IP address, and for the CNAME type, the\nRdata is a domain name. 23.1 / INTERNET DIRECTORY SERVICE: DNS\nFigure 23.3\nDNS Name Resolution\nDNS Operation\nDNS operation typically includes the following steps (Figure 23.3):\n1. A user program requests an IP address for a domain name."
  },
  {
    "text": "2. A resolver module in the local host or local ISP formulates a query for a local\nname server in the same domain as the resolver. 3. The local name server checks to see if the name is in its local database or cache,\nand, if so, returns the IP address to the requestor."
  },
  {
    "text": "Otherwise, the name server\nqueries other available name servers, starting down from the root of the DNS\ntree or as high up the tree as possible. 4. When a response is received at the local name server, it stores the name/address\nmapping in its local cache and may maintain this entry for the amount of time\nspecified in the time to live field of the retrieved RR. 5."
  },
  {
    "text": "The user program is given the IP address or an error message. The results of these behind-the-scenes activities are seen by the user in a way\nillustrated in Figure 23.4. Here, a user issues a Telnet connection request to\nlocis.loc.gov.This is resolved by DNS to the IP address of 140.147.254.3."
  },
  {
    "text": "The distributed DNS database that supports the DNS functionality must be\nupdated frequently because of the rapid and continued growth of the Internet. Accordingly, dynamic updating functions for DNS have been defined. In essence,\nDNS name servers automatically send out updates to other relevant name servers as\nconditions warrant."
  },
  {
    "text": "The Server Hierarchy The DNS database is distributed hierarchically, residing\nin DNS name servers scattered throughout the Internet. Name servers can be oper-\nated by any organization that owns a domain; that is, any organization that has\nresponsibility for a subtree of the hierarchical domain name space."
  },
  {
    "text": "Each name\nserver is configured with a subset of the domain name space, known as a zone, which\nCHAPTER 23 / INTERNET APPLICATIONS\ntelnet locis.loc.gov\nTrying 140.147.254.3... Connected to locis.loc.gov. Escape character is '^]'. To make a choice: type a number, then press ENTER\nCHAPTER 23 / INTERNET APPLICATIONS\nTypically, single queries are carried over UDP."
  },
  {
    "text": "Queries for a group of names\nare carried over TCP. Name Resolution\nAs Figure 23.3 indicates, each query begins at a name\nresolver located in the user host system (e.g., gethostbyname in UNIX). Each\nresolver is configured to know the name and address of a local DNS name server."
  },
  {
    "text": "If\nthe resolver does not have the requested name in its cache, it sends a DNS query to\nthe local DNS server, which either returns an address immediately or does so after\nquerying one or more other servers.Again, resolvers use UDP for single queries and\nTCP for group queries. There are two methods by which queries are forwarded and results returned."
  },
  {
    "text": "Suppose a name server (A) forwards a DNS request to another name server (B). If\nB has the name/address in its local cache or local database, it can return the IP\naddress to A. If not, then B can do either of the following:\n1. Query another name server for the desired result and then send the result\nback to A.This is known as a recursive technique. 2."
  },
  {
    "text": "Return to A the address of the next server (C) to whom the request should be\nsent. A then sends out a new DNS request to C. This is known as the iterative\nIn exchanges between name servers, either the iterative or recursive technique\nmay be used. For requests sent by a name resolver, the recursive technique is used. DNS Messages DNS messages use a single format, shown in Figure 23.5."
  },
  {
    "text": "There\nare five possible sections to a DNS message: header, question, answer, authority, and\nadditional records. The header section is always present and consists of the following fields:\n• Identifier: Assigned by the program that generates any kind of query. The\nsame identifier is used in any response, enabling the sender to match queries\nand responses."
  },
  {
    "text": "• Query Response: Indicates whether this message is a query or response. • Opcode: Indicates whether this is a standard query, an inverse query (address\nto name), or a server status request. This value is set by the originator and\ncopied into the response."
  },
  {
    "text": "• Authoritative Answer: Valid in a response, and indicates whether the respond-\ning name server is an authority for the domain name in question. • Truncated: Indicates whether the response message was truncated due to\nlength greater then permitted on the transmission channel. If so, the requestor\nwill use a TCP connection to resend the query."
  },
  {
    "text": "• Recursion Desired: If set, directs the server to pursue the query recursively. • Recursion Available: Set or cleared in a response to denote whether recursive\nquery support is available in the name server."
  },
  {
    "text": "• Response Code: Possible values are: no error, format error (server unable to\ninterpret query), server failure, name error (domain name does not exist),\nnot implemented (this kind of query not supported), and refused (for policy\nIdentitifier\n. . . label n\nlabel 1 . . ."
  },
  {
    "text": "Query Class\nAnswer Section\nAuthority Section\nAdditional Records Section\nQR \u0001 query/response bit\nAA \u0001 authoritative answer\nTC \u0001 truncated\nRD \u0001 recursion desired\nRA \u0001 recursion available\nRCODE \u0001 response code\nQDcount \u0001 number of entries in question section\nANcount \u0001 number of resource records in answer section\nNScount \u0001 number of name server resource records in authority section\nARcount \u0001 number of resource records in additional records section\nFigure 23.5\nDNS Message Format\nCHAPTER 23 / INTERNET APPLICATIONS\n• QDcount: Number of entries in question section (zero or more)."
  },
  {
    "text": "• ANcount: Number of RRs in answer section (zero or more). • NScount: Number of RRs in authority section (zero or more). • ARcount: Number of RRs in additional records section (zero or more). The question section contains the queries for the name server. If present, it\ntypically contains only one entry."
  },
  {
    "text": "Each entry contains the following:\n• Domain Name: A domain name represented as a sequence of labels, where\neach label consists of a length octet followed by that number of octets."
  },
  {
    "text": "The\ndomain name terminates with the zero length octet for the null label of \n• Query Type: Indicates type of query.The values for this field include all values\nvalid for the Type field in the RR format (Figure 23.2), together with some\nmore general codes that match more than one type of RR. • Query Class: Specifies the class of query, typically Internet."
  },
  {
    "text": "The answer section contains RRs that answer the question; the authority section\ncontains RRs that point toward an authoritative name server; the additional records\nsection contains RRs that relate to the query but are not strictly answers for the\n23.2 WEB ACCESS—HTTP\nThe Hypertext Transfer Protocol (HTTP) is the foundation protocol of the World\nWide Web (WWW) and can be used in any client/server application involving hyper-\ntext."
  },
  {
    "text": "The name is somewhat misleading in that HTTP is not a protocol for transfer-\nring hypertext; rather it is a protocol for transmitting information with the efficiency\nnecessary for making hypertext jumps. The data transferred by the protocol can be\nplaintext, hypertext, audio, images, or any Internet-accessible information."
  },
  {
    "text": "We begin with an overview of HTTP concepts and operation and then look at\nsome of the details, basing our discussion on the most recent version to be put on the\nInternet standards track, HTTP 1.1 (RFC 2616). A number of important terms\ndefined in the HTTP specification are summarized in Table 23.4; these will be intro-\nduced as the discussion proceeds."
  },
  {
    "text": "HTTP Overview\nHTTP is a transaction-oriented client/server protocol. The most typical use of\nHTTP is between a Web browser and a Web server. To provide reliability, HTTP\nmakes use of TCP."
  },
  {
    "text": "Nevertheless, HTTP is a “stateless” protocol: Each transaction is\ntreated independently.Accordingly, a typical implementation will create a new TCP\nconnection between client and server for each transaction and then terminate the\nconnection as soon as the transaction completes, although the specification does not\ndictate this one-to-one relationship between transaction and connection lifetimes."
  },
  {
    "text": "retrieval, and deletion.A cache stores cacheable \nresponses in order to reduce the response time\nand network bandwidth consumption on future,\nAn intermediary program that acts\nequivalent requests.Any client or server may  \nas both a server and a client for the purpose of\ninclude a cache, though a cache cannot be used \nmaking requests on behalf of other clients."
  },
  {
    "text": "by a server while it is acting as a tunnel. Requests are serviced internally or by passing\nthem, with possible translation, on to other\nservers.A proxy must interpret and, if \nAn application program that establishes  \nnecessary, rewrite a request message before \nconnections for the purpose of sending requests. forwarding it."
  },
  {
    "text": "Proxies are often used as \nclient-side portals through network firewalls\nand as helper applications for handling requests\nA transport layer virtual circuit established\nvia protocols not implemented by the user agent. between two application programs for the\npurposes of communication. A network data object or service which can be\nidentified by a URI."
  },
  {
    "text": "A particular representation or rendition of\na data resource, or reply from a service\nresource, that may be enclosed within a request\nAn application program that accepts \nor response message.An entity consists of entity\nconnections in order to service requests\nheaders and an entity body. by sending back responses."
  },
  {
    "text": "A server that acts as an intermediary for some\nAn intermediary program that is acting as a blind\nother server. Unlike a proxy, a gateway receives\nrelay between two connections."
  },
  {
    "text": "Once active, a \nrequests as if it were the original server for the\ntunnel is not considered a party to the HTTP\nrequested resource; the requesting client may\ncommunication, though the tunnel may have \nnot be aware that it is communicating with a\nbeen initiated by an HTTP request.A tunnel \ngateway."
  },
  {
    "text": "Gateways are often used as server-side\nceases to exist when both ends of the relayed\nportals through network firewalls and as\nconnections are closed.Tunnels are used when a\nprotocol translators for access to resources\nportal is necessary and the intermediary cannot, or\nstored on non-HTTP systems. should not, interpret the relayed communication."
  },
  {
    "text": "The basic unit of HTTP communication,\nThe client that initiates a request.These are\nconsisting of a structured sequence of octets \noften browsers, editors, spiders, or other\ntransmitted via the connection. end-user tools. and documents. The sequence is, ideally, performed rapidly, and the locations of the\nvarious pages and documents may be a number of widely distributed servers."
  },
  {
    "text": "Another important feature of HTTP is that it is flexible in the formats that it\ncan handle.When a client issues a request to a server, it may include a prioritized list\nof formats that it can handle, and the server replies with the appropriate format. For\nexample, a Lynx browser cannot handle images, so a Web server need not transmit\nany images on Web pages."
  },
  {
    "text": "This arrangement prevents the transmission of unneces-\nsary information and provides the basis for extending the set of formats with new\nstandardized and proprietary specifications."
  },
  {
    "text": "CHAPTER 23 / INTERNET APPLICATIONS\nOrigin server\nOrigin server\nRequest chain\nResponse chain\nOrigin server\nRequest chain\nResponse chain\nRequest chain\nResponse chain\nTCP connection\nFigure 23.6\nExamples of HTTP Operation\nCHAPTER 23 / INTERNET APPLICATIONS\nindicating at least I and at most J elements, each separated by a comma and optional linear white space."
  },
  {
    "text": "6I7#6J7element\n6I7*6J7element\nname = definition\nCHAPTER 23 / INTERNET APPLICATIONS\nHTTP-Message \u0001 Simple-Request | Simple-Response | Full-Request | \nFull-Response\nFull-Request \u0001\nRequest-Line\n*( General-Header |  Request-Header |  Entity-Header )\n[ Entity-Body ]\nFull-Response \u0001 Status-Line\n*( General-Header |  Response-Header |  Entity-Header )\n[ Entity-Body ]\nSimple-Request \u0001 “GET” SP Request-URL CRLF\nSimple-Response \u0001 [ Entity-Body ]\nThe Simple-Request and Simple-Response messages were defined in HTTP/0.9."
  },
  {
    "text": "The request is a simple GET command with the requested URL; the response is sim-\nply a block containing the information identified in the URL. In HTTP/1.1, the use of\nthese simple forms is discouraged because it prevents the client from using content\nnegotiation and the server from identifying the media type of the returned entity."
  },
  {
    "text": "With full requests and responses, the following fields are used:\n• Request-Line: Identifies the message type and the requested resource\n• Status-Line: Provides status information about this response\n• General-Header: Contains fields that are applicable to both request and\nresponse messages but that do not apply to the entity being transferred\n• Request-Header: Contains information about the request and the client\n• Response-Header: Contains information about the response\n• Entity-Header: Contains information about the resource identified by the\nrequest and information about the entity body\n• Entity-Body: The body of the message\nAll of the HTTP headers consist of a sequence of fields, following the same\ngeneric format as RFC 822 (described in Chapter 22)."
  },
  {
    "text": "Each field begins on a new\nline and consists of the field name followed by a colon and the field value. Although the basic transaction mechanism is simple, there is a large number of\nfields and parameters defined in HTTP. In the remainder of this section, we look at\nthe general header fields. Following sections describe request headers, response\nheaders, and entities."
  },
  {
    "text": "General Header Fields General header fields can be used in both request and\nresponse messages. These fields are applicable in both types of messages and con-\ntain information that does not directly apply to the entity being transferred."
  },
  {
    "text": "The\nfields are as follows:\n23.2 / WEB ACCESS—HTTP\n• Cache-Control: Specifies directives that must be obeyed by any caching mech-\nanisms along the request/response chain. The purpose is to prevent a cache\nfrom adversely interfering with this particular request or response."
  },
  {
    "text": "• Connection: Contains a list of keywords and header field names that only apply\nto this TCP connection between the sender and the nearest nontunnel recipient. • Date: Date and time at which the message originated. • Forwarded: Used by gateways and proxies to indicate intermediate steps along\na request or response chain."
  },
  {
    "text": "Each gateway or proxy that handles a message\nmay attach a Forwarded field that gives its URL. • Keep-Alive: May be present if the keep-alive keyword is present in an\nincoming Connection field, to provide information to the requester of \nthe persistent connection."
  },
  {
    "text": "This field may indicate a maximum time that the\nsender will keep the connection open waiting for the next request or the\nmaximum number of additional requests that will be allowed on the current\npersistent connection. • MIME-Version: Indicates that the message complies with the indicated ver-\nsion of MIME."
  },
  {
    "text": "• Pragma: Contains implementation-specific directives that may apply to any\nrecipient along the request/response chain."
  },
  {
    "text": "• Upgrade: Used in a request to specify what additional protocols the client sup-\nports and would like to use; used in a response to indicate which protocol will\nRequest Messages\nA full request message consists of a status line followed by one or more general,\nrequest, and entity headers, followed by an optional entity body."
  },
  {
    "text": "Request Methods A full request message always begins with a Request-Line,\nwhich has the following format:\nThe Method parameter indicates the actual request command, called a\nmethod in HTTP. Request-URL is the URL of the requested resource, and HTTP-\nVersion is the version number of HTTP used by the sender."
  },
  {
    "text": "The following request methods are defined in HTTP/1.1:\n• OPTIONS: A request for information about the options available for the\nrequest/response chain identified by this URL. • GET: A request to retrieve the information identified in the URL and return\nit in a entity body. A GET is conditional if the If-Modified-Since header field\nis included and is partial if a Range header field is included."
  },
  {
    "text": "• HEAD: This request is identical to a GET, except that the server’s response\nmust not include an entity body; all of the header fields in the response are the\nsame as if the entity body were present. This enables a client to get informa-\ntion about a resource without transferring the entity body."
  },
  {
    "text": "Request-Line = Method SP Request-URL SP HTTP-Version CRLF\nCHAPTER 23 / INTERNET APPLICATIONS\n• POST: A request to accept the attached entity as a new subordinate to the iden-\ntified URL.The posted entity is subordinate to that URL in the same way that a\nfile is subordinate to a directory containing it, a news article is subordinate to a\nnewsgroup to which it is posted, or a record is subordinate to a database."
  },
  {
    "text": "• PUT: A request to accept the attached entity and store it under the supplied\nURL. This may be a new resource with a new URL or a replacement of the\nCHAPTER 23 / INTERNET APPLICATIONS\ndescribed in Chapter 21. • Content-Range: For future study. The intent is that this will indicate a portion\nof the identified resource that is included in this response."
  },
  {
    "text": "• Content-Type: Indicates the media type of the entity body. • Content-Version: A version tag associated with an evolving entity. • Derived-From: Indicates the version tag of the resource from which this entity was\nderived before modifications were made by the sender.This field and the Content-\nVersion field can be used to manage multiple updates by a group of users."
  },
  {
    "text": "• Expires: Date/time after which the entity should be considered stale. • Last-Modified: Date/time that the sender believes the resource was last \n• Link: Defines links to other resources. • Title: A textual title for the entity. • Transfer-Encoding: Indicates what type of transformation has been applied to\nthe message body to transfer it safely between the sender and the recipient."
  },
  {
    "text": "The only encoding defined in the standard is chunked. The chunked option\ndefines a procedure for breaking an entity body into labeled chunks that are\ntransmitted separately. • URL-Header: Informs the recipient of other URLs by which the resource can\nbe identified."
  },
  {
    "text": "• Extension-Header: Allows additional fields to be defined without changing the\nprotocol, but these fields cannot be assumed to be recognizable by the recipient. Entity Body An entity body consists of an arbitrary sequence of octets."
  },
  {
    "text": "HTTP is\ndesigned to be able to transfer any type of content, including text, binary data,\naudio, images, and video.When an entity body is present in a message, the interpre-\ntation of the octets in the body is determined by the entity header fields Content-\nEncoding, Content-Type, and Transfer-Encoding.These define a three-layer, ordered\nencoding model:\nThe data are the content of a resource identified by a URL.The Content-Type\nfield determines the way in which the data are interpreted.A Content-Encoding may\nbe applied to the data and stored at the URL instead of the data."
  },
  {
    "text": "What is the difference between a domain and a zone? Explain the difference between the recursive technique and the iterative technique in\nWhat is meant by saying that HTTP is a stateless protocol? Explain the differences among HTTP proxy, gateway, and tunnel. What is the function of the cache in HTTP?"
  },
  {
    "text": "A DNS resolver typically issues a query using UDP but may also use TCP. Is there a\nproblem using TCP for this purpose? If so, what do you suggest is the solution? Hint: Consider the TCP and UDP headers. What’s the main difference between a primary and a secondary name server? Name servers can be accessed on UDP port 53 as well as on TCP port 53. When is\neach protocol used, and why?"
  },
  {
    "text": "We query an authoritative name server for the ‘example.com’ zone, in order to get the\nIP address of www.example.com, the Web site of a large company. We get eight A\nrecords in response to our query.We repeat this query several times, and note that we\ncontinue getting the same eight A records, but in a different order each time. Suggest\na reason why."
  },
  {
    "text": "The dig tool provides easy interactive access to the DNS. The dig tool is available for\nUNIX and Windows operating systems. It can also be used from the Web."
  },
  {
    "text": "Here are\nthree sites that, at the time of this writing, provided free access to dig:\nhttp://www.gont.com.ar/tools/dig\nhttp://www.webmaster-toolkit.com/dig.shtml\nhttp://www.webhostselect.com/whs/dig-tool.jsp\nUse the dig tool to get the list of root servers. Discuss the advantages of using several stub resolvers along with a caching-only name\nserver, instead of several full resolvers."
  },
  {
    "text": "Choose a root server, and use the dig tool to send it a query for the IP address \nof www.example.com, with the RD (Recursion Desired) bit set. Does it support recur-\nsive lookups? Why or why not? Type dig www.example.com A in order to get the IP address of www.example.com. What’s the TTL of the A record returned in the response? Wait a while, and repeat the\nquery.Why has the TTL changed?"
  },
  {
    "text": "This ser-\nvice is usually called Dynamic DNS. However, in order for these updates to work as\nexpected, there’s one field of each resource record that must be set to a quite differ-\nent value from the typical ones.Which one, and why? Secondary name servers periodically query the primary to check whether the zone\ndata has been updated."
  },
  {
    "text": "Regardless of how many resource records the zone data con-\ntains, the secondary name servers need to query the primary only one resource record\nto detect any changes on the zone data.Which resource record will they query? How\nwill they use the requested information to detect changes? A user on the host 170.210.17.145 is ‘using a Web browser to visit www.example.com."
  },
  {
    "text": "In order to resolve the ‘www.example.com’ domain to an IP address, a query is \nsent to an authoritative name server for the ‘example.com’ domain. In response, the\nname server returns a list of four IP addresses, in the following order\nEven though it is the last IP\naddress in the list returned by the name server, the Web browser creates a connection\nto 170.210.17.130.Why?"
  },
  {
    "text": "5192.168.0.1, 128.0.0.1, 200.47.57.1, 170.210.10.1306. CHAPTER 23 / INTERNET APPLICATIONS\nBefore the deployment of the Domain Name System, a simple text file (HOSTS.TXT)\ncentrally maintained at the SRI Network Information Center was used to enable map-\nping between host names and addresses."
  },
  {
    "text": "Each host connected to the Internet had to\nhave an updated local copy of it to be able to use host names instead of having to cope\ndirectly with their IP addresses. Discuss the main advantages of the DNS over the old\ncentralized HOSTS.TXT system."
  },
  {
    "text": "Prior to persistent connections, one separate TCP connection was used to fetch each\nURL.Analyze the advantages of persistent connections over the old HTTP paradigm\nof one connection per data transfer."
  },
  {
    "text": "SIP uses the Session Description Protocol (SDP) to describe the\nmedia content to be used during a session. The Real-Time Transport Protocol (RTP) is a transport-level alterna-\ntive to TCP or UDP for supporting real-time traffic."
  },
  {
    "text": "Prior to the recent explosion of sophisticated research, scientists believed that birds\nrequired no special awareness or intelligence to perform their migrations and their\nnavigational and homing feats."
  },
  {
    "text": "Accumulated research shows that in addition to\nperforming the difficult tasks of correcting for displacement (by storms, winds,\nmountains, and other hindrances), birds integrate an astonishing variety of celestial,\natmospheric, and geological information to travel between their winter and summer\nhomes."
  },
  {
    "text": "In brief, avian navigation is characterized by the ability to gather a variety of\ninformational cues and to interpret and coordinate them so as to move closer\ntoward a goal."
  },
  {
    "text": "—The Human Nature of Birds, Theodore Barber\nWith the increasing availability of broadband access to the Internet has come an\nincreased interest in Web-based and Internet-based multimedia applications.The\nterm multimedia refers to the use of multiple forms of information,including text,\nstill images, audio, and video.The reader may find it useful to review Section 2.6\nbefore proceeding."
  },
  {
    "text": "An in-depth discussion of multimedia applications is well beyond the scope\nof this book. In this chapter, we focus on a few key topics. First, we look at audio\nand video compression, which is quite common in multimedia applications.Then\nwe examine some of the key characteristics of real-time traffic. Next we look at\nSIP and its use to support voice over IP."
  },
  {
    "text": "Finally, we examine the real-time trans-\nport protocol. 24.1 AUDIO AND VIDEO COMPRESSION\nIn Chapter 3, we looked at some of the fundamental characteristics of both audio\nand video transmission. Then Chapter 5 introduced techniques such as pulse code\nmodulation (PCM) for digitizing audio and video data for digital transmission."
  },
  {
    "text": "For\n24.1 / AUDIO AND VIDEO COMPRESSION\nmultimedia applications, it is important to make the most efficient use of transmis-\nsion capacity as possible.Accordingly, much attention has been paid to the develop-\nment of compression algorithms for both audio and video transmissions. This\nsection provides an overview."
  },
  {
    "text": "The techniques discussed in this section were standardized by the Moving Pic-\nture Experts Group (MPEG)."
  },
  {
    "text": "MPEG, under the auspices of the International Orga-\nnization for Standardization (ISO), has developed standards for video and\nassociated audio in digital form, where the digital form may be stored on a variety of\ndevices, such as CD-ROM, tapes, and writable optical disks, and transmitted on\ncommunications channels such as ISDN and LANs."
  },
  {
    "text": "The MPEG effort covers not\nonly video compression, but also audio compression and associated system issues\nand formats. The premise of the MPEG effort is that a video signal can be com-\npressed to a bit rate of about 1.5 Mbps with acceptable quality and that correspond-\ning efficiencies are achievable for audio transmission. Before proceeding, we introduce two terms."
  },
  {
    "text": "Data compression falls into two\nbroad categories: lossless and lossy.With lossless compression, no information is lost\nand the decompressed data are identical to the original uncompressed data. The\nefficiency of lossless compression is limited to the entropy, or redundancy, of the\ndata source."
  },
  {
    "text": "In other words, compression is limited to the process of eliminating\nsome or all of the redundancy in a bit stream, so that no information is lost. With\nlossy compression, the decompressed data may be an acceptable approximation\n(according to some fidelity criterion) to the original uncompressed data."
  },
  {
    "text": "For\nexample, for image or video compression, the criterion may be that the\ndecompressed image is indistinguishable from the original to the human eye. In\nwhat follows, we will see that lossy compression is used for both audio and video. However, in the case of audio, the fidelity of the output is so high that, for all\npractical purposes, the compression is lossless."
  },
  {
    "text": "Audio Compression\nThe first step in the development of an audio compression algorithm is to digitize the\naudio signal, using a technique such as PCM. It is important to note that PCM or a\nsimilar technique does in fact provide a measure of compression."
  },
  {
    "text": "Recall from\nChapter 5 that the sampling theorem states that if a signal f(t) is sampled at regular\nintervals of time and at a rate higher than twice the highest signal frequency, then the\nsamples contain all the information of the original signal. The function f(t) may be\nreconstructed from these samples by the use of a lowpass filter."
  },
  {
    "text": "For this technique to\nreproduce the original signal, the samples must have analog values that have infinite\nprecision; this is known as pulse amplitude modulation (PAM).To create a digital sig-\nnal, each sample is quantized to a value that can be represented by a fixed number of\nbits, producing pulse code modulation (PCM).A PCM-encoded signal produces only\nan approximation of the original signal."
  },
  {
    "text": "If unlimited fidelity were required, then an\nunlimited number of bits would be needed for each sample. The fact that a fixed,\nfinite number of bits is used per sample results, in effect, in compression. Taking a simple-minded approach, further compression could be achieved by\nreducing the frequency of sampling or reducing the number of bits per sample."
  },
  {
    "text": "However, there is another approach that can produce significant compression and\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nat the same time retain a fidelity that is equivalent to lossless compression. Such an\napproach is taken in the MPEG standard. The MPEG standard for audio compression is quite complex and beyond our\nscope. In fact, the standard provides for three layers of compression."
  },
  {
    "text": "Layer 3, popu-\nlarly known as MP3, provides a compression ratio of 10 : 1. In what follows, we look\nat the basic approach used in all of the MPEG audio compression algorithms. Effective audio compression takes into account the physiology of human hear-\ning."
  },
  {
    "text": "The compression algorithm exploits a phenomenon known as simultaneous\nauditory masking.This masking is an effect produced by the way the human nervous\nsystem perceives sound."
  },
  {
    "text": "In essence, if two signals are sufficiently near to one\nanother and one tone is stronger, the weaker signal is simply not perceived at all;\nthe human hearing apparatus masks it.Thus, what the percipient hears is exactly the\nsame whether the weaker tone is there or not. Figure 24.1a shows, in general terms, how masking is used to encode audio\nsignals."
  },
  {
    "text": "The input is partitioned into time frames ranging in duration from 2 to \n50 ms. A time-frequency analysis module decomposes each frame. At its simplest,\nthis module determines the amplitude in each of a sequence of narrow frequency\nsubbands; more complex analysis algorithms are typical."
  },
  {
    "text": "In any case, the output of\nthis module is a set of parameters that define the acoustic signal in that particular\ntime frame and that can be quantized. In parallel, a psychoacoustic module ana-\nlyzes the time frame for masking effects and other properties that can be\nexploited to achieve compression."
  },
  {
    "text": "Based on this analysis, a bit allocation module\ndecides how to apportion the total number of code bits available for the quantiza-\ntion of the subband signals. The resulting quantized signal is then fed into a loss-\nless coding module that eliminates any redundancies in the digital signal to\nachieve maximum compression."
  },
  {
    "text": "Figure 24.1b shows the inverse operation performed at a destination system to\nreproduce the original audio signal. The unpacking module recovers the quantized\nsignal by inverting the lossless compression.The resulting signal is then processed to\nproduce the audio output."
  },
  {
    "text": "Time/frequency\nPsychoacoustic\nQuantization\nFrequency-to-time\nreconstruction\n(a) MPEG audio encoder\n(b) MPEG audio decoder\nFigure 24.1\nMPEG Audio Compression and Decompression\n24.1 / AUDIO AND VIDEO COMPRESSION\nIntraframe mode\nDCT: Discrete cosine transform\nQ: quantizer\nVLC: variable-length coder\nFM: frame memory\nME: motion estimator\nFigure 24.2\nMPEG Block Diagram\nVideo Compression\nA moving picture is simply a succession of still pictures."
  },
  {
    "text": "Accordingly, one can\nachieve a degree of compression by independently compressing each still picture\nin the sequence that makes up the moving picture. But much more can be done. Even in a moving picture with a lot of action, the differences between adjacent\nstill pictures are generally small compared to the amount of information in a sin-\ngle still picture."
  },
  {
    "text": "This suggests that an encoding of the differences between adja-\ncent still pictures is a fruitful approach to compression; this is a tool used in\nOverview of the Video Compression Algorithm Figure 24.2 illustrates\nthe MPEG video compression scheme. The input to the MPEG compression mod-\nule is a sequence of video frames. Each frame is processed separately, being treated\nas a single still image."
  },
  {
    "text": "While operating on a single frame, the MPEG coder is in\nintraframe mode. In this mode, the algorithm performs the following steps:\n1. Preliminary scaling and color conversion. Each frame is converted into a stan-\ndardized representation known as Source Input Format (SIF), and color infor-\nmation is translated into a scheme known as YUV. 2. Color subsampling."
  },
  {
    "text": "Brightness is the dominant component of color seen by the\nhuman eye, while hue is less important. Accordingly, the algorithm is able to\nreduce the hue information by about 75% with little effect on subjective fidelity. 3. Discrete cosine transformation (DCT). This process maps each \npoints (pixels) into a set of numbers similar to a Fourier transform of the block."
  },
  {
    "text": "In essence, the DCT provides a frequency domain representation of the image. CHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nThis transformation does not result in any compression but provides suitable\ninput for later stages. 4. Quantization. The DCT values are quantized into a finite number of possible\nvalues (similar to pulse-code modulation quantization)."
  },
  {
    "text": "The more quantization\nlevels that are used, the greater the picture fidelity, but the less the amount of\ncompression. 5. Run-length encoding. The quantized DCT values are represented using a run-\nlength encoding technique. 6. Huffman coding."
  },
  {
    "text": "The data stream from the preceding step is compressed using\nHuffman coding, a lossless compression technique that assigns the most\ncommon bit sequences from the preceding step to symbols that are as short as\nAlthough significant compression can be achieved by simply processing a\nvideo signal as a sequence of still images, as just described, this approach fails to\nexploit the considerable redundancy present in all video sequences."
  },
  {
    "text": "Typically, many\nof the pixels will change very little or not at all from one frame to the next, or the\nchange simply involves the movement of a pattern of pixels from one location on a\nframe to a nearby location on the next frame. The MPEG studies indicate an addi-\ntional compression on the order of a factor of 3 [GALL91] by exploiting these\nredundancies in an interframe mode."
  },
  {
    "text": "For interframe mode, similar blocks of pixels common to two or more succes-\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nHaving determined the matching block from the preceding frame, the MPEG\nalgorithm records the motion vector and the prediction error, which is \nmatrix of differences between the current macroblock, in frame c, and the reference\nmacroblock, in frame r:\nis the prediction error,\nis the value of the pixel located \nat position (x, y) in frame i, and \nis the motion vector for frame j relative to\nThus, the current frame is mapped into a matrix of prediction error values, one\nfor each pixel position, and of motion vector values, one for each macroblock."
  },
  {
    "text": "The\nprediction error matrix will have many zero values.This matrix is encoded using the\nDCT-quantization technique and should yield a higher compression ratio than sim-\nply encoding the original pixel matrix. The MPEG standard does not dictate how the matching process is to be done."
  },
  {
    "text": "Typically, the motion vector for a macroblock is obtained by minimizing a cost func-\ntion that measures the difference between a macroblock and each predictor candi-\ndate.The calculation can be expressed as\nmacroblock in the current frame \ndisplacement vector with respect to the reference frame \nsearch range in the reference frame\nThe value of m that minimizes the preceding expression is used as the motion\nfor this block."
  },
  {
    "text": "The search range could encompass only small displace-\nments or could range up to the entire frame size. Interpolation Although prediction results in higher compression ratios than a\nsimple frame-by-frame compression, more can be done. In particular, MPEG allows\nsome video frames to be encoded using two reference frames, one in the past and\none in the future."
  },
  {
    "text": "This approach, called bidirectional interpolation, results in higher\ncompression ratios than prediction based on one reference frame. To see why bidirectional interpolation can improve results, consider a scene\nthat is moving with respect to the picture frame at a rate of one half pixel per frame."
  },
  {
    "text": "If we attempt to predict a macroblock in the current frame based on the immedi-\nately preceding frame, no exact matching block will be found. Similarly, no exact\nmatch to the macroblock will be found in the immediately following frame. How-\never, an average of the best match from the preceding and following frames pro-\nvides an exact prediction, so that the error matrix is all zeroes."
  },
  {
    "text": "Figure 24.3 illustrates the technique used in bidirectional interpolation. The\ncurrent frame, referred to as a B frame, is processed against two reference frames,\none before and one after this frame in time."
  },
  {
    "text": "Each macroblock can be encoded using\na block from the preceding frame (forward prediction), the following frame \nC[Ic1x, y2 - Ir11x, y2 + m2] d\nEc1x, y2 = Ic1x, y2 - Ir[1x, y2 + Mrc]\n24.1 / AUDIO AND VIDEO COMPRESSION\nPrediction Modes for Macroblock in B Picture\nForward predicted\nBackward predicted\nvector (x, y)."
  },
  {
    "text": "IN01z + M012 + IN21z + M212\nIN11z2 = IN21z + M212\nIN11z2 = IN01z + M012\n(backward prediction), or one block from each reference frame (averaging),\nwhichever gives the minimum error matrix. Table 24.1 summarizes the calculations\nfor each option, with frame 1 being the current frame, frame 0 the preceding refer-\nence frame, and frame 2 the following reference frame."
  },
  {
    "text": "In the case of bidirectional interpolation, more information must be encoded. As with predicted frames, a matrix of differences is produced and then encoded\nusing DCT. In addition, each macroblock is encoded with an indication of the pre-\ndiction mode (forward, backward, average) and one or two motion vectors."
  },
  {
    "text": "Frame Ordering Three types of frames are defined in MPEG:\n• Intraframe (I): Encoded in JPEG style as an independent still image\n• Predicted (P): Encoded with reference to the preceding anchor frame\n• Bidirectional interpolated (B): Encoded with reference to the preceding and\nthe following anchor frames\nThe relative frequency of these types of frames within a video stream is a con-\nfigurable parameter and must satisfy several tradeoffs."
  },
  {
    "text": "First, there is the need to\nsatisfy the requirements for random access and fast forward/reverse searches,\ndescribed earlier. These requirements place a lower bound on the fraction of I\nframes in the encoded stream. Second, there is a tradeoff between computational\ncomplexity and the number of B frames: More B frames means more computation."
  },
  {
    "text": "Finally, B frames can only be processed with respect to I and P frames; that is, one\nB frame cannot serve as a reference frame for another B frame. Therefore, the\nhigher the fraction of B frames, the greater the average distance between a B frame\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nForward prediction\nBidirectional prediction\nTransmission order\nGroup of pictures\n1 4 2 3 6 5 8 7 ..."
  },
  {
    "text": "I P B B P B I B ... Figure 24.4\nExample of Temporal Picture Structure\nframe for B frames 2 and 3. Frames 5 and 6 are interchanged for the same reason. B\nframe 7 is recorded as part of the next group because it is encoded after I frame 8."
  },
  {
    "text": "24.2 REAL-TIME TRAFFIC\nThe widespread deployment of high-speed LANs and WANs and the increase in the\nline capacity on the Internet and other internets has opened up the possibility of\nusing IP-based networks for the transport of real-time traffic. However, it is impor-\ntant to recognize that the requirements of real-time traffic differ from those of high-\nspeed but non-real-time traffic."
  },
  {
    "text": "With traditional internet applications, such as file transfer, electronic mail, and\nclient/server applications including the Web, the performance metrics of interest are\ngenerally throughput and delay. There is also a concern with reliability, and mecha-\nnisms are used to make sure that no data are lost, corrupted, or misordered during\ntransit."
  },
  {
    "text": "By contrast, real-time applications are more concerned with timing issues. In\nmost cases, there is a requirement that data be delivered at a constant rate equal to\nthe sending rate. In other cases, a deadline is associated with each block of data, such\nthat the data are not usable after the deadline has expired."
  },
  {
    "text": "24.2 / REAL-TIME TRAFFIC\nmultimedia server\nConstant flow of packets\n(160 data octets every 20 ms)\nPackets delivered with original spacing\n(some may be missing)\nPackets arrive unevenly spaced\nDestination\nmultimedia PC\nFigure 24.5\nReal-Time Traffic\nReal-Time Traffic Characteristics\nFigure 24.5 illustrates a typical real-time environment."
  },
  {
    "text": "Here, a server is generating\naudio to be transmitted at 64 kbps.The digitized audio is transmitted in packets con-\ntaining 160 octets of data, so that one packet is issued every 20 ms.These packets are\npassed through an internet and delivered to a multimedia PC, which plays the audio\nin real time as it arrives."
  },
  {
    "text": "However, because of the variable delay imposed by the\nInternet, the interarrival times between packets are not maintained at a fixed 20 ms\nat the destination. To compensate for this, the incoming packets are buffered,\ndelayed slightly, and then released at a constant rate to the software that generates\nThe compensation provided by the delay buffer is limited."
  },
  {
    "text": "To understand this,\nwe need to define the concept of delay jitter, which is the maximum variation in\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\ndelay experienced by packets in a single session."
  },
  {
    "text": "For example, if the minimum end-\nto-end delay seen by any packet is 1 ms and the maximum is 6 ms, then the delay jit-\nter is 5 ms.As long as the time delay buffer delays incoming packets by at least 5 ms,\nthen the output of the buffer will include all incoming packets."
  },
  {
    "text": "However, if the\nbuffer delayed packets only by 4 ms, then any incoming packets that had experi-\nenced a relative delay of more than 4 ms (an absolute delay of more than 5 ms)\nwould have to be discarded so as not to be played back out of order. The description of real-time traffic so far implies a series of equal-size packets\ngenerated at a constant rate."
  },
  {
    "text": "This is not always the profile of the traffic. Figure 24.6\nillustrates some of the common possibilities:\n• Continuous data source: Fixed-size packets are generated at fixed intervals. This characterizes applications that are constantly generating data, have few\nredundancies, and that are too important to compress in a lossy way. Examples\nare air traffic control radar and real-time simulations."
  },
  {
    "text": "• On/off source: The source alternates between periods when fixed-size packets\nare generated at fixed intervals and periods of inactivity. A voice source, such\nas in telephony or audio conferencing, fits this profile. • Variable packet size: The source generates variable-length packets at uniform\nintervals."
  },
  {
    "text": "An example is digitized video in which different frames may experi-\nence different compression ratios for the same output quality level."
  },
  {
    "text": "Requirements for Real-Time Communication\n[ARAS94] lists the following as desirable properties for real-time communication:\n• Low jitter\n• Low latency\n• Ability to easily integrate non-real-time and real-time services\n• Adaptable to dynamically changing network and traffic conditions\n• Good performance for large networks and large numbers of connections\n• Modest buffer requirements within the network\n• High effective capacity utilization\n• Low overhead in header bits per packet\n• Low processing overhead per packet within the network and at the end system\n(a) Continuous data source\n(c) Compressed video source\n(b) Voice source\nwith silent intervals\nFigure 24.6\nReal-Time Packet Transmission (based on [ARAS94])\n24.3 / VOICE OVER IP AND MULTIMEDIA SUPPORT—SIP\nThese requirements are difficult to meet in a wide area IP-based network or inter-\nnet."
  },
  {
    "text": "Neither TCP nor UDP by itself is appropriate. We will see that RTP provides a\nreasonable foundation for addressing these issues. Hard versus Soft Real-Time Applications\nA distinction needs to be made between hard and soft real-time communication\napplications."
  },
  {
    "text": "Soft real-time applications can tolerate the loss of some portion of the\ncommunicated data, while hard real-time applications have zero loss tolerance. In\ngeneral,soft real-time applications impose fewer requirements on the network,and it\nis therefore permissible to focus on maximizing network utilization, even at the cost\nof some lost or misordered packets."
  },
  {
    "text": "In hard real-time applications, a deterministic\nupper bound on jitter and high reliability take precedence over network utilization\nconsiderations."
  },
  {
    "text": "24.3 VOICE OVER IP AND MULTIMEDIA SUPPORT—SIP\nThe Session Initiation Protocol (SIP), defined in RFC 3261, is an application-\nlevel control protocol for setting up, modifying, and terminating real-time ses-\nsions between participants over an IP data network. The key driving force\nbehind SIP is to enable Internet telephony, also referred to as voice over IP\n(VoIP)."
  },
  {
    "text": "SIP can support any type of single media or multimedia session, including\nteleconferencing. SIP supports five facets of establishing and terminating multimedia communi-\n• User location: Users can move to other locations and access their telephony or\nother application features from remote locations."
  },
  {
    "text": "• User availability: Determination of the willingness of the called party to\nengage in communications. • User capabilities: Determination of the media and media parameters to be used. • Session setup: Setup up point-to-point and multiparty calls, with agreed ses-\nsion parameters."
  },
  {
    "text": "• Session management: Including transfer and termination of sessions, modify-\ning session parameters, and invoking services. SIP employs design elements developed for earlier protocols. SIP is based\non an HTTP-like request/response transaction model. Each transaction consists\nof a client request that invokes a particular method, or function, on the server\nand at least one response."
  },
  {
    "text": "SIP uses most of the header fields, encoding rules, and\nstatus codes of HTTP. This provides a readable text-based format for displaying\ninformation. SIP also uses concepts similar to the recursive and iterative\nsearches of DNS."
  },
  {
    "text": "SIP incorporates the use of a Session Description Protocol\n(SDP), which defines session content using a set of types similar to those used in\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nSIP Components and Protocols\nAn SIP network can be viewed of consisting of components defined on two dimen-\nsions: client/server and individual network elements."
  },
  {
    "text": "RFC 3261 defines client and\nserver as follows:\n• Client: A client is any network element that sends SIP requests and receives\nSIP responses. Clients may or may not interact directly with a human user. User agent clients and proxies are clients. • Server: A server is a network element that receives requests in order to service\nthem and sends back responses to those requests."
  },
  {
    "text": "Examples of servers are\nproxies, user agent servers, redirect servers, and registrars. The individual elements of a standard SIP network are as follows:\n• User Agent: Resides in every SIP end station."
  },
  {
    "text": "It acts in two roles:\n—User agent client (UAC): Issues SIP requests\n—User agent server (UAS): Receives SIP requests and generates a response\nthat accepts, rejects, or redirects the request\n• Redirect Server: Used during session initiation to determine the address of the\ncalled device.The redirect server returns this information to the calling device,\ndirecting the UAC to contact an alternate URI."
  },
  {
    "text": "This is analogous to iterative\nsearches in DNS. • Proxy Server: An intermediary entity that acts as both a server and a client for\nthe purpose of making requests on behalf of other clients. A proxy server pri-\nmarily plays the role of routing, which means its job is to ensure that a request\nis sent to another entity closer to the targeted user."
  },
  {
    "text": "Proxies are also useful for\nenforcing policy (for example, making sure a user is allowed to make a call).A\nproxy interprets, and, if necessary, rewrites specific parts of a request message\nbefore forwarding it.This is analogous to recursive searches in DNS."
  },
  {
    "text": "• Registrar: A server that accepts REGISTER requests and places the informa-\ntion it receives (the SIP address and associated IP address of the registering\ndevice) in those requests into the location service for the domain it handles. • Location Service: A location service is used by a SIP redirect or proxy server\nto obtain information about a callee’s possible location(s)."
  },
  {
    "text": "For this purpose,\nthe location service maintains a database of SIP-address/IP-address mappings. The various servers are defined in RFC 3261 as logical devices. They may be\nimplemented as separate servers configured on the Internet or they may be com-\nbined into a single application that resides in a physical server."
  },
  {
    "text": "Figure 24.7 shows how some of the SIP components relate to one another and\nthe protocols that are employed. A user agent acting as a client (in this case UAC\nalice) uses SIP to set up a session with a user agent that will act as a server (in this\ncase UAS bob)."
  },
  {
    "text": "The session initiation dialogue uses SIP and involves one or more\nproxy servers to forward requests and responses between the two user agents. The\nuser agents also make use of the Session Description Protocol (SDP), which is used\nto describe the media session."
  },
  {
    "text": "24.3 / VOICE OVER IP AND MULTIMEDIA SUPPORT—SIP\nMedia (RTP)\nUser agent Alice\nUser agent Bob\nFigure 24.7\nSIP Components and Protocols\nThe proxy servers may also act as redirect servers as needed."
  },
  {
    "text": "If redirection is\ndone, a proxy server will need to consult the location service database, which may be\ncollocated with a proxy server or not.The communication between the proxy server\nand the location service is beyond the scope of the SIP standard. DNS is also an\nimportant part of SIP operation. Typically, a UAC will make a request using the\ndomain name of the UAS, rather than an IP address."
  },
  {
    "text": "A proxy server will need to\nconsult a DNS server to find a proxy server for the target domain. SIP typically runs on top of UDP for performance reasons, and provides its\nown reliability mechanisms, but may also use TCP. If a secure, encrypted transport\nmechanism is desired, SIP messages may alternatively be carried over the Transport\nLayer Security (TLS) protocol, described in Chapter 21."
  },
  {
    "text": "Associated with SIP is the Session Description Protocol (SDP), defined in\nRFC 2327. SIP is used to invite one or more participants to a session, while the SDP-\nencoded body of the SIP message contains information about what media encod-\nings (e.g., voice, video) the parties can and will use."
  },
  {
    "text": "Once this information is\nexchanged and acknowledged, all participants are aware of the participants’ IP\naddresses, available transmission capacity, and media type. Then data transmission\nbegins, using an appropriate transport protocol. Typically, the Real-Time Transport\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\n1Figures 24.8 through 24.11 are adapted from ones developed by Professor H."
  },
  {
    "text": "Charles Baker of Southern\nMethodist University. Protocol (RTP), described subsequently, is used. Throughout the session,\nparticipants can make changes to session parameters, such as new media types or\nnew parties to the session, using SIP messages. SIP Uniform Resource Identifier\nA resource within a SIP network is identified by a Uniform Resource Identifier\n(URI)."
  },
  {
    "text": "Examples of communications resources include the following:\n• A user of an online service\n• An appearance on a multiline phone\n• A mailbox on a messaging system\n• A telephone number at a gateway service\n• A group (such as “sales” or “helpdesk”) in an organization\nSIP URIs have a format based on email address formats, namely user@domain."
  },
  {
    "text": "There are two common schemes.An ordinary SIP URI is of the form\nsip:bob@biloxi.com\nThe URI may also include a password, port number, and related parameters. If\nsecure transmission is required, “sip:” is replaced by “sips:”. In the latter case, SIP\nmessages are transported over TLS."
  },
  {
    "text": "Examples of Operation\nThe SIP specification is quite complex; the main document, RFC 3261, is 269 pages\nlong.To give some feel for its operation, we present a few examples."
  },
  {
    "text": "Figure 24.8 shows an unsuccessful attempt by user Alice to establish a session\nwith user Bob, whose URI is bob@biloxi.com.1 Alice’s UAC is configured to communi-\ncate with a proxy server (the outbound server) in its domain and begins by sending an\nINVITE message to the proxy server that indicates its desire to invite Bob’s UAS into\na session (1); the server acknowledges the request (2)."
  },
  {
    "text": "Although Bob’s UAS is identi-\nfied by its URI, the outbound proxy server needs to take into account the possibility\nthat Bob is not currently available or that Bob has moved.Accordingly, the outbound\nproxy server should forward the INVITE request to the proxy server that is responsi-\nble for the domain biloxi.com.The outbound proxy thus consults a local DNS server to\nobtain the IP address of the biloxi.com proxy server (3),by asking for the SRV resource\nrecord (Table 23.2) that contains information on the proxy server for biloxi.com."
  },
  {
    "text": "The DNS server responds (4) with the IP address of the biloxi.com proxy server\n(the inbound server).Alice’s proxy server can now forward the INVITE message to\nthe inbound proxy server (5), which acknowledges the message (6)."
  },
  {
    "text": "The inbound\nproxy server now consults a location server to determine the location of Bob (7),\nand the location server responds that Bob is not signed in, and therefore not avail-\nable for SIP messages (8). This information is communicated back to the outbound\nproxy server (9, 10) and then to Alice (11, 12). 24.3 / VOICE OVER IP AND MULTIMEDIA SUPPORT—SIP\n(192.0.2.4)\n(15.16.17.18)\n3. DNS Query:\n4."
  },
  {
    "text": "Response:\nUser agent Alice\n(12.26.17.91)\nUser agent Bob\n(not signed in)\n7. LS Query: sip:\nbob@biloxi.com? 8. Response:\nnot signed in\n6. 100 Trying\n9. 480 temporarily\nunavailable\nTo: sip:bob@biloxi.com\n2. 100 Trying\n11. 480 temporarily\nunavailable\nTo: sip:bob@biloxi.com\nFigure 24.8\nSIP Call Setup Attempt Scenario\n2PSTN is the public switched telephone network."
  },
  {
    "text": "The next example (Figure 24.9) makes use of two message types that are not yet\npart of the SIP standard but that are documented in RFC 2848 and are likely to be\nincorporated in a later revision of SIP.These message types support telephony applica-\ntions.At the end of the preceding example,Alice was informed that Bob was not avail-\nable.Alice’s UAC then issues a SUBSCRIBE message (1),indicating that it wants to be\ninformed when Bob is available.This request is forwarded through the two proxies in\nour example to a PINT (PSTN-Internet Networking)2server (2, 3).A PINT server acts\nas a gateway between an IP network from which comes a request to place a telephone\ncall and a telephone network that executes the call by connecting to the destination\ntelephone."
  },
  {
    "text": "In this example, we assume that the PINT server logic is collocated with the\nlocation service. It could also be the case that Bob is attached to the Internet rather\nthan a PSTN, in which case the equivalent of PINT logic is needed to handle SUB-\nSCRIBE requests. In this example, we assume that latter and assume that the PINT\nfunctionality is implemented in the location service."
  },
  {
    "text": "In any case, the location service\nauthorizes subscription by returning an OK message (4), which is passed back to Alice\n(5,6).The location service then immediately sends a NOTIFY message with Bob’s cur-\nrent status of not signed in (7, 8, 9), which Alice’s UAC acknowledges (10, 11, 12)."
  },
  {
    "text": "CHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nLocation service\nPINT server\nUser agent Alice\nUser agent Bob\n(not signed in)\n2. SUBSCRIBE\nTo: sip:bob@biloxi.com\n1. SUBSCRIBE\n<Not Signed In>\nTo: sip:bob@biloxi.com\n<Not Signed In>\n<Not Signed In>\n3. SUBSCRIBE\n    To: sip:bob@biloxi.com\nFigure 24.9\nSIP Presence Example\nFigure 24.10 continues the example of Figure 24.9."
  },
  {
    "text": "Bob signs on by sending a\nREGISTER message to the proxy in its domain (1).The proxy updates the database\nat the location service to reflect registration (2).The update is confirmed to the proxy\n(3),which confirms the registration to Bob (4).The PINT functionality learns of Bob’s\nnew status from the location server (here we assume that they are collocated) and\nsends a NOTIFY message containing the new status of Bob (5), which is forwarded to\nAlice (6, 7).Alice’s UAC acknowledges receipt of the notification (8, 9, 10)."
  },
  {
    "text": "Now that Bob is registered,Alice can try again to establish a session, as shown\nin Figure 24.11. This figure shows the same flow as Figure 24.8, with a few differ-\nences."
  },
  {
    "text": "We assume that Alice’s proxy server has cached the IP address of the proxy\nserver for domain biloxi.com, and therefore need not consult the DNS server.A ring-\ning response is sent from Bob back to Alice (8, 9, 10) while the UAS at Bob is alert-\ning the local media application (e.g., telephony). When the media application\naccepts the call, Bob’s UAS sends back an OK response to Alice (11, 12, 13)."
  },
  {
    "text": "Finally, Alice’s UAC sends an acknowledgement message to Bob’s UAS to\nconfirm the reception of the final response (14). In this example, the ACK is sent\ndirectly from Alice to Bob, bypassing the two proxies."
  },
  {
    "text": "This occurs because the end-\npoints have learned each other’s address from the INVITE/200 (OK) exchange,\nwhich was not known when the initial INVITE was sent.The media session has now\nbegun, and Alice and Bob can exchange data over an RTP connection. 24.3 / VOICE OVER IP AND MULTIMEDIA SUPPORT—SIP\nUser agent Alice\nUser agent Bob\n<Signed In>\n<Signed In>\n<Signed In>\n1."
  },
  {
    "text": "REGISTER\nContact: bob@1.2.3.4)\n2. Updata Database:\nB \u0001 bob@1.2.3.4\nFigure 24.10\nSIP Registration and Notification Example\nSIP Messages\nAs was mentioned, SIP is a text-based protocol with a syntax similar to that of\nHTTP. There are two different types of SIP messages, requests and responses. The\nformat difference between the two types of messages is seen in the first line."
  },
  {
    "text": "The\nfirst line of a request has a method, defining the nature of the request and a\nRequest-URI, indicating where the request should be sent. The first line of a\nresponse has a response code.All messages include a header, consisting of a number\nof lines, each line beginning with a header label.A message can also contain a body,\nsuch as an SDP media description."
  },
  {
    "text": "SIP Requests RFC 3261 defines the following methods:\n• REGISTER: Used by a user agent to notify a SIP network of its current IP\naddress and the URLs for which it would like to receive calls\n• INVITE: Used to establish a media session between user agents\n• ACK: Confirms reliable message exchanges\n• CANCEL: Terminates a pending request, but does not undo a completed call\n• BYE: Terminates a session between two users in a conference\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\n(192.0.2.4)\n(15.16.17.18)\nUser agent Alice\n(12.26.17.91)\nUser agent Bob\n5."
  },
  {
    "text": "LS Query: sip:\nbob@biloxi.com? 6. Response:\nsip:bob@1.2.3.4\n4. 100 Trying\nMedia (RTP)\n9. 180 Ringing\n8. 180 Ringing\nTo: sip:bob@biloxi.com\nTo: sip:bob@biloxi.com\n2. 100 Trying\n10."
  },
  {
    "text": "180 Ringing\nTo: sip:bob@biloxi.com\nFigure 24.11\nSIP Successful Call Setup\n• OPTIONS: Solicits information about the capabilities of the callee, but does\nnot set up a call\nFor example, the header of message (1) in Figure 24.11 might look like this:\nINVITE sip:bob@biloxi.com SIP/2.0\nVia: SIP/2.0/UDP 12.26.17.91:5060\nMax-Forwards: 70\nTo: Bob <sip:bob@biloxi.com>\nFrom: Alice <sip:alice@atlanta.com>;tag=1928301774\nCall-ID: a84b4c76e66710@12.26.17.91\nCSeq: 314159 INVITE\nContact: <sip:alice@atlanta.com>\nContent-Type: application/sdp\nContent-Length: 142\nThe boldface type used for header labels is not typical but is used here for clar-\nity."
  },
  {
    "text": "The first line contains the method name (INVITE), a SIP URI, and the version\n24.3 / VOICE OVER IP AND MULTIMEDIA SUPPORT—SIP\nnumber of SIP that is used. The lines that follow are a list of header fields. This\nexample contains the minimum required set."
  },
  {
    "text": "The Via headers show the path the request has taken in the SIP network (source\nand intervening proxies) and are used to route responses back along the same path. In\nmessage (1), there is only one Via header, inserted by Alice.The Via line contains the\nIP address (12.26.17.91),port number (5060),and transport protocol (UDP) that Alice\nwants Bob to use in his response."
  },
  {
    "text": "Subsequent proxies add additional Via headers. Max-Forwards serves to limit the number of hops a request can make on the way\nto its destination. It consists of an integer that is decremented by one by each proxy\nthat forwards the request. If the Max-Forwards value reaches 0 before the request\nreaches its destination, it will be rejected with a 483 (Too Many Hops) error response."
  },
  {
    "text": "To contains a display name (Bob) and a SIP or SIPS URI (sip:bob@biloxi.com)\ntoward which the request was originally directed. From also contains a display name\n(Alice) and a SIP or SIPS URI (sip:alice@atlanta.com) that indicate the originator\nof the request.This header field also has a tag parameter containing a random string\n(1928301774) that was added to the URI by the UAC."
  },
  {
    "text": "It is used to identify the session. Call-ID contains a globally unique identifier for this call, generated by the\ncombination of a random string and the host name or IP address. The combination\nof the To tag, From tag, and Call-ID completely defines a peer-to-peer SIP relation-\nship between Alice and Bob and is referred to as a dialog."
  },
  {
    "text": "CSeq or Command Sequence contains an integer and a method name. The\nCSeq number is initialized at the start of a call (314159 in this example), incre-\nmented for each new request within a dialog, and is a traditional sequence number. The CSeq is used to distinguish a retransmission from a new request. The Contact header contains a SIP URI for direct communication between\nUAs."
  },
  {
    "text": "While the Via header field tells other elements where to send the response, the\nContact header field tells other elements where to send future requests for this dialog. The Content-Type indicates the type of the message body. Content-Length\ngives the length in octets of the message body."
  },
  {
    "text": "SIP Responses The response types defined in RFC 3261 are in the following \ncategories:\n• Provisional (1xx): Request received and being processed. • Success (2xx): The action was successfully received, understood, and accepted. • Redirection (3xx): Further action needs to be taken in order to complete the\n• Client Error (4xx): The request contains bad syntax or cannot be fulfilled at\nthis server."
  },
  {
    "text": "• Server Error (5xx): The server failed to fulfill an apparently valid request. • Global Failure (6xx): The request cannot be fulfilled at any server."
  },
  {
    "text": "For example, the header of message (11) in Figure 24.11 might look like this:\nSIP/2.0 200 OK\nVia: SIP/2.0/UDP server10.biloxi.com\nVia: SIP/2.0/UDP bigbox3.site3.atlanta.com\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nVia: SIP/2.0/UDP 12.26.17.91:5060\nTo: Bob <sip:bob@biloxi.com>;tag=a6c85cf\nFrom: Alice <sip:alice@atlanta.com>;tag=1928301774\nCall-ID: a84b4c76e66710@12.26.17.91\nCSeq: 314159 INVITE\nContact: <sip:bob@biloxi.com>\nContent-Type: application/sdp\nContent-Length: 131\nThe first line contains the version number of SIP that is used and the response\ncode and name.The lines that follow are a list of header fields.The Via,To, From, Call-\nID, and CSeq header fields are copied from the INVITE request."
  },
  {
    "text": "(There are three Via\nheader field values—one added by Alice’s SIP UAC, one added by the atlanta.com\nproxy,and one added by the biloxi.com proxy.) Bob’s SIP phone has added a tag para-\nmeter to the To header field.This tag will be incorporated by both endpoints into the\ndialog and will be included in all future requests and responses in this call."
  },
  {
    "text": "Session Description Protocol\nThe Session Description Protocol (SDP), defined in RFC 2327, describes the con-\ntent of sessions, including telephony, Internet radio, and multimedia applications. SDP includes information about the following [SCHU99]:\n• Media streams: A session can include multiple streams of differing content."
  },
  {
    "text": "SDP currently defines audio, video, data, control, and application as stream\ntypes, similar to the MIME types used for Internet mail (Table 22.3). • Addresses: Indicates the destination addresses, which may be a multicast\naddress, for a media stream."
  },
  {
    "text": "• Ports: For each stream, the UDP port numbers for sending and receiving are\n• Payload types: For each media stream type in use (e.g., telephony), the pay-\nload type indicates the media formats that can be used during the session. • Start and stop times: These apply to broadcast sessions, like a television or\nradio program. The start, stop, and repeat times of the session are indicated."
  },
  {
    "text": "• Originator: For broadcast sessions, the originator is specified, with contact\ninformation. This may be useful if a receiver encounters technical difficulties. 24.4 REAL-TIME TRANSPORT PROTOCOL (RTP)\nThe most widely used transport-level protocol is TCP."
  },
  {
    "text": "Although TCP has proven\nits value in supporting a wide range of distributed applications, it is not suited for\nuse with real-time distributed applications. By a real-time distributed applica-\ntion, we mean one in which a source is generating a stream of data at a constant\nrate, and one or more destinations must deliver that data to an application at the\nsame constant rate."
  },
  {
    "text": "Examples of such applications include audio and video\n24.4 / REAL-TIME TRANSPORT PROTOCOL (RTP)\nconferencing, live video distribution (not for storage but for immediate play),\nshared workspaces, remote medical diagnosis, telephony, command and control\nsystems, distributed interactive simulations, games, and real-time monitoring."
  },
  {
    "text": "A\nnumber of features of TCP disqualify it for use as the transport protocol for such\napplications:\n1. TCP is a point-to-point protocol that sets up a connection between two end-\npoints.Therefore, it is not suitable for multicast distribution. 2. TCP includes mechanisms for retransmission of lost segments, which then arrive\nout of order. Such segments are not usable in most real-time applications."
  },
  {
    "text": "3. TCP contains no convenient mechanism for associating timing information\nwith segments, which is another real-time requirement. The other widely used transport protocol, UDP, does not exhibit the first two\ncharacteristics listed but, like TCP, does not provide timing information. By itself,\nUDP does not provide any general-purpose tools useful for real-time applications."
  },
  {
    "text": "Although each real-time application could include its own mechanisms for\nsupporting real-time transport, there are a number of common features that warrant\nthe definition of a common protocol. A protocol designed for this purpose is the\nReal-Time Transport Protocol (RTP), defined in RFC 1889. RTP is best suited to\nsoft real-time communication."
  },
  {
    "text": "It lacks the necessary mechanisms to support hard\nreal-time traffic. This section provides an overview of RTP. We begin with a discussion of real-\ntime transport requirements. Next, we examine the philosophical approach of RTP."
  },
  {
    "text": "The remainder of the section is devoted to the two protocols that make up RTP: the\nfirst is simply called RTP and is a data transfer protocol; the other is a control pro-\ntocol known as RTCP (RTP Control Protocol). RTP Protocol Architecture\nIn RTP, there is close coupling between the RTP functionality and the application-\nlayer functionality."
  },
  {
    "text": "Indeed, RTP is best viewed as a framework that applications can\nuse directly to implement a single protocol. Without the application-specific infor-\nmation, RTP is not a full protocol. On the other hand, RTP imposes a structure and\ndefines common functions so that individual real-time applications are relieved of\npart of their burden."
  },
  {
    "text": "RTP follows the principles of protocol architecture design outlined in a paper\nby Clark and Tennenhouse [CLAR90]. The two key concepts presented in that\npaper are application-level framing and integrated layer processing."
  },
  {
    "text": "Application-Level Framing In a traditional transport protocol, such as TCP,\nthe responsibility for recovering from lost portions of data is performed transpar-\nently at the transport layer. [CLAR90] lists two scenarios in which it might be more\nappropriate for recovery from lost data to be performed by the application:\n1."
  },
  {
    "text": "The application,within limits,may accept less than perfect delivery and continue\nunchecked.This is the case for real-time audio and video. For such applications,\nit may be necessary to inform the source in more general terms about the qual-\nity of the delivery rather than to ask for retransmission."
  },
  {
    "text": "If too much data are\nCHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nbeing lost, the source might perhaps move to a lower-quality transmission that\nplaces lower demands on the network, increasing the probability of delivery. 2."
  },
  {
    "text": "It may be preferable to have the application rather than the transport protocol\nprovide data for retransmission.This is useful in the following contexts:\n(a) The sending application may recompute lost data values rather than storing\n(b) The sending application can provide revised values rather than simply\nretransmitting lost values,or send new data that “fix”the consequences of the\noriginal loss."
  },
  {
    "text": "To enable the application to have control over the retransmission function,\nClark and Tennenhouse propose that lower layers, such as presentation and trans-\nport, deal with data in units that the application specifies."
  },
  {
    "text": "The application should\nbreak the flow of data into application-level data units (ADUs), and the lower lay-\ners must preserve these ADU boundaries as they process the data.The application-\nlevel frame is the unit of error recovery. Thus, if a portion of an ADU is lost in\ntransmission, the application will typically be unable to make use of the remaining\nportions."
  },
  {
    "text": "In such a case, the application layer will discard all arriving portions and\narrange for retransmission of the entire ADU, if necessary."
  },
  {
    "text": "Integrated Layer Processing In a typical layered protocol architecture, such as\nTCP/IP or OSI, each layer of the architecture contains a subset of the functions to be\nperformed for communications, and each layer must logically be structured as a sepa-\nrate module in end systems.Thus, on transmission, a block of data flows down through\nand is sequentially processed by each layer of the architecture.This structure restricts\nthe implementer from invoking certain functions in parallel or out of the layered order\nto achieve greater efficiency."
  },
  {
    "text": "Integrated layer processing, as proposed in [CLAR90],\ncaptures the idea that adjacent layers may be tightly coupled and that the implementer\nshould be free to implement the functions in those layers in a tightly coupled manner. The idea that a strict protocol layering may lead to inefficiencies has been pro-\npounded by a number of researchers."
  },
  {
    "text": "For example, [CROW92] examined the ineffi-\nciencies of running a remote procedure call (RPC) on top of TCP and suggested a\ntighter coupling of the two layers. The researchers argued that the integrated layer\nprocessing approach is preferable for efficient data transfer. Figure 24.12 illustrates the manner in which RTP realizes the principle of inte-\ngrated layer processing."
  },
  {
    "text": "RTP is designed to run on top of a connectionless transport\nprotocol such as UDP. UDP provides the basic port addressing functionality of the\ntransport layer. RTP contains further transport-level functions, such as sequencing. However, RTP by itself is not complete. It is completed by modifications and/or\nadditions to the RTP headers to include application-layer functionality."
  },
  {
    "text": "The figure\nindicates that several different standards for encoding video data can be used in\nconjunction with RTP for video transmission. RTP Data Transfer Protocol\nWe first look at the basic concepts of the RTP data transfer protocol and then exam-\nine the protocol header format. Throughout this section, the term RTP will refer to\nthe RTP data transfer protocol."
  },
  {
    "text": "24.4 / REAL-TIME TRANSPORT PROTOCOL (RTP)\nNetwork access\nFigure 24.12\nRTP Protocol Architecture [THOM96]\nRTP Concepts RTP supports the transfer of real-time data among a number of\nparticipants in a session.A session is simply a logical association among two or more\nRTP entities that is maintained for the duration of the data transfer."
  },
  {
    "text": "A session is\n• RTP port number: The destination port address is used by all participants for\nRTP transfers. If UDP is the lower layer, this port number appears in the Des-\ntination Port field (see Figure 2.3) of the UDP header. • RTCP port number: The destination port address is used by all participants\nfor RTCP transfers."
  },
  {
    "text": "• Participant IP addresses: This can either be a multicast IP address, so that the\nmulticast group defines the participants, or a set of unicast IP addresses. The process of setting up a session is beyond the scope of RTP and RTCP. Although RTP can be used for unicast real-time transmission, its strength lies\nin its ability to support multicast transmission."
  },
  {
    "text": "For this purpose, each RTP data unit\nincludes a source identifier that identifies which member of the group generated \nthe data. It also includes a timestamp so that the proper timing can be re-created on\nthe receiving end using a delay buffer. RTP also identifies the payload format of the\ndata being transmitted. RTP allows the use of two kinds of RTP relays: translators and mixers."
  },
  {
    "text": "First we\nneed to define the concept of relay.A relay operating at a given protocol layer is an\nintermediate system that acts as both a destination and a source in a data transfer. For example, suppose that system A wishes to send data to system B but cannot do\nso directly. Possible reasons are that B may be behind a firewall or B may not be\nable to use the format transmitted by A."
  },
  {
    "text": "In such a case, A may be able to send the\ndata to an intermediate relay R. R accepts the data unit, makes any necessary\nchanges or performs any necessary processing, and then transmits the data to B."
  },
  {
    "text": "CHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nA mixer is an RTP relay that receives streams of RTP packets from one or\nmore sources, combines these streams, and forwards a new RTP packet stream to\none or more destinations.The mixer may change the data format or simply perform\nthe mixing function."
  },
  {
    "text": "Because the timing among the multiple inputs is not typically\nsynchronized, the mixer provides the timing information in the combined packet\nstream and identifies itself as the source of synchronization. An example of the use of a mixer is to combine of a number of on/off sources\nsuch as audio. Suppose that a number of systems are members of an audio session\nand each generates its own RTP stream."
  },
  {
    "text": "Most of the time only one source is active,\nalthough occasionally more than one source will be “speaking” at the same time. A new system may wish to join the session, but its link to the network may not be\nof sufficient capacity to carry all of the RTP streams."
  },
  {
    "text": "Instead, a mixer could\nreceive all of the RTP streams, combine them into a single stream, and retransmit\nthat stream to the new session member. If more than one incoming stream is\nactive at one time, the mixer would simply sum their PCM values.The RTP header\ngenerated by the mixer includes the identifier(s) of the source(s) that contributed\nto the data in each packet."
  },
  {
    "text": "The translator is a simpler device that produces one or more outgoing RTP\npackets for each incoming RTP packet.The translator may change the format of the\ndata in the packet or use a different lower-level protocol suite to transfer from one\ndomain to another."
  },
  {
    "text": "Examples of translator use are as follows:\n• A potential recipient may not be able to handle a high-speed video signal used\nby the other participants. The translator converts the video to a lower-quality\nformat requiring a lower data rate."
  },
  {
    "text": "• An application-level firewall may prevent the forwarding of RTP packets.Two\ntranslators are used, one on each side of the firewall, with the outside one tun-\nneling all multicast packets received through a secure connection to the trans-\nlator inside the firewall.The inside translator then sends out RTP packets to a\nmulticast group protected by the firewall."
  },
  {
    "text": "• A translator can replicate an incoming multicast RTP packet and send it to a\nnumber of unicast destinations. RTP Fixed Header Each RTP packet includes a fixed header and may also\ninclude additional application-specific header fields."
  },
  {
    "text": "Figure 24.13 shows the fixed\nheader.The first 12 octets (shaded portion) are always present and consist of the fol-\nlowing fields:\n• Version (2 bits): Current version is 2. • Padding (1 bit): Indicates whether padding octets appear at the end of the pay-\nload. If so, the last octet of the payload contains a count of the number of\npadding octets."
  },
  {
    "text": "Padding is used if the application requires that the payload be\nan integer multiple of some length, such as 32 bits. • Extension (1 bit): If set, the fixed header is followed by exactly one extension\nheader, which is used for experimental extensions to RTP. • CSRC Count (4 bits): The number of CSRC (contributing source) identifiers\nthat follow the fixed header."
  },
  {
    "text": "24.4 / REAL-TIME TRANSPORT PROTOCOL (RTP)\nSynchronization Source (SSRC) Identifier\nContributing Source (CSRC) Identifier\nContributing Source (CSRC) Identifier\nPayload Type\nSequence Number\nV \u0001 Version\nX \u0001 Extension\nCC \u0001 CSRC count\nFigure 24.13\n• Marker (1 bit): The interpretation of the marker bit depends on the payload type;\nit is typically used to indicate a boundary in the data stream."
  },
  {
    "text": "For video, it is set to\nmark the end of a frame. For audio, it is set to mark the beginning of a talk spurt. • Payload Type (7 bits): Identifies the format of the RTP payload, which follows\nthe RTP header. • Sequence Number (16 bits): Each source starts with a random sequence num-\nber, which is incremented by one for each RTP data packet sent."
  },
  {
    "text": "This allows\nfor loss detection and packet sequencing within a series of packets with the\nsame timestamp. A number of consecutive packets may have the same time-\nstamp if they are logically generated at the same time; an example is several\npackets belonging to the same video frame. • Timestamp (32 bits): Corresponds to the generation instant of the first octet of\ndata in the payload."
  },
  {
    "text": "The time units of this field depend on the payload type. The values must be generated from a local clock at the source. • Synchronization Source Identifier: A randomly generated value that uniquely\nidentifies the source within a session."
  },
  {
    "text": "Following the fixed header, there may be one or more of the following field:\n• Contributing Source Identifier: Identifies a contributing source for the pay-\nload.These identifiers are supplied by a mixer. The Payload Type field identifies the media type of the payload and the format\nof the data, including the use of compression or encryption."
  },
  {
    "text": "In a steady state, a\nsource should only use one payload type during a session but may change the pay-\nload type in response to changing conditions, as discovered by RTCP. Table 24.2\nsummarizes the payload types defined in RFC 1890."
  },
  {
    "text": "CHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\nPayload Types for Standard Audio and Video Encodings (RFC 1890)\nunassigned audio\nDV14 audio (8 kHz)\nDV14 audio (16 kHz)\nL16 audio (stereo)\nL16 audio (mono)\nunassigned audio\nunassigned audio\nunassigned video\nunassigned video\nRTP Control Protocol (RTCP)\nThe RTP data transfer protocol is used only for the transmission of user data, typi-\ncally in multicast fashion among all participants in a session.A separate control pro-\ntocol (RTCP) also operates in a multicast fashion to provide feedback to RTP data\nsources as well as all session participants."
  },
  {
    "text": "RTCP uses the same underlying transport\nservice as RTP (usually UDP) and a separate port number. Each participant period-\nically issues an RTCP packet to all other session members. RFC 1889 outlines four\nfunctions performed by RTCP:\n• Quality of service (QoS) and congestion control: RTCP provides feedback on\nthe quality of data distribution."
  },
  {
    "text": "For example, an audio-\nvideo application might decide to reduce the rate of transmission over low-\nspeed links if the traffic quality over the links is not high enough to support the\ncurrent rate.The feedback from receivers is also important in diagnosing distri-\nbution faults."
  },
  {
    "text": "By monitoring reports from all session recipients, a network man-\nager can tell whether a problem is specific to a single user or more widespread. • Identification: RTCP packets carry a persistent textual description of the\nRTCP source."
  },
  {
    "text": "This provides more information about the source of data pack-\nets than the random SSRC identifier and enables a user to associate multiple\nstreams from different sessions. For example, separate sessions for audio and\nvideo may be in progress."
  },
  {
    "text": "• Session size estimation and scaling: To perform the first two functions, all par-\nticipants send periodic RTCP packets.The rate of transmission of such packets\nmust be scaled down as the number of participants increases. In a session with\n24.4 / REAL-TIME TRANSPORT PROTOCOL (RTP)\nfew participants, RTCP packets are sent at the maximum rate of one every five\nseconds."
  },
  {
    "text": "RFC 1889 includes a relatively complex algorithm by which each par-\nticipant limits its RTCP rate on the basis of the total session population. The\nobjective is to limit RTCP traffic to less than 5% of total session traffic. • Session control: RTCP optionally provides minimal session control information. An example is a participant identification to be displayed in the user interface."
  },
  {
    "text": "An RTCP transmission consists of a number of separate RTCP packets bun-\ndled in a single UDP datagram (or other lower-level data unit). The following\npacket types are defined in RFC 1889:\n• Sender Report (SR)\n• Receiver Report (RR)\n• Source Description (SDES)\n• Goodbye (BYE)\n• Application Specific\nFigure 24.14 depicts the formats of these packet types."
  },
  {
    "text": "Each type begins with a\n32-bit word containing the following fields:\n• Version (2 bits): Current version is 2. • Padding (1 bit): If set, indicates that this packet contains padding octets at the\nend of the control information. If so, the last octet of the padding contains a\ncount of the number of padding octets."
  },
  {
    "text": "• Count (5 bits): The number of reception report blocks contained in an SR or\nRR packet (RC), or the number of source items contained in an SDES or\nBYE packet. • Packet Type (8 bits): Identifies RTCP packet type. • Length (16 bits): Length of this packet in 32 bit words, minus one."
  },
  {
    "text": "In addition, the Sender Report and Receiver Report packets contain the fol-\nlowing field:\n• Synchronization Source Identifier: Identifies the source of this RTCP packet\nWe now turn to a description of each packet type."
  },
  {
    "text": "Sender Report (SR) RTCP receivers provide reception quality feedback using\na Sender Report or a Receiver Report, depending on whether the receiver is also a\nsender during this session. Figure 24.14a shows the format of a Sender Report. The\nSender Report consists of a header, already described; a sender information block;\nand zero or more reception report blocks."
  },
  {
    "text": "The sender information block includes\nthe following fields:\n• NTP Timestamp (64 bits): The absolute wall clock time when this report was\nsent; this is an unsigned fixed-point number with the integer part in the first 32\nbits and the fractional part in the last 32 bits.This may be used by the sender in\ncombination with timestamps returned in receiver reports to measure round-\ntrip time to those receivers."
  },
  {
    "text": "SSRC of sender\nRTP timestamp\nSender's packet count\nSender's octet count\nInterarrival jitter\nTime of last sender report\nDelay since last sender report\nCumulative number of packets lost\nSSRC_1 (SSRC of first source)\nSSRC_n (SSRC of nth source)\nNTP timestamp (most sig. word)\nNTP timestamp (least sig."
  },
  {
    "text": "word)\nExtended highest sequence number received\nInterarrival jitter\nTime of last sender report\nDelay since last sender report\nCumulative number of packets lost\nExtended highest sequence number received\nreport block 1\nreport block n\ninformation\n(a) RTCP sender report\nSSRC of sender\nInterarrival jitter\nTime of last sender report\nDelay since last sender report\nCumulative number of packets lost\nSSRC_1 (SSRC of first source)\nExtended highest sequence number received\nInterarrival jitter\nTime of last sender report\nDelay since last sender report\nCumulative number of packets lost\nSSRC_n (SSRC of nth source)\nExtended highest sequence number received\nname (ASCII)\nApplication-dependent data\nreport block 1\nreport block n\n(b) RTCP receiver report\n(c) RTCP application-defined packet\n(d) RTCP source description\nSSRC/CSRC_1\nSSRC/CSRC_n\n(e) RTCP BYE\nSSRC/CSRC_1\nSSRC/CSRC_n\nReason for leaving\nFigure 24.14\nRTCP Formats\n24.4 / REAL-TIME TRANSPORT PROTOCOL (RTP)\n• RTP Timestamp (32 bits): This is a the relative time used to create timestamps\nin RTP data packets."
  },
  {
    "text": "This lets recipients place this report in the appropriate\ntime sequence with RTP data packets from this source. • Sender’s Packet Count (32 bits): Total number of RTP data packets transmit-\nted by this sender so far in this session. • Sender’s Octet Count (32 bits): Total number of RTP payload octets transmit-\nted by this sender so far in this session."
  },
  {
    "text": "Following the sender information block are zero or more reception report\nblocks. One reception block is included for each source from which this participant\nhas received data during this session. Each block includes the following fields:\n• SSRC_n (32 bits): Identifies the source referred to by this report block."
  },
  {
    "text": "• Fraction Lost (8 bits): The fraction of RTP data packets from SSRC_n lost\nsince the previous SR or RR packet was sent. • Cumulative Number of Packets Lost (24 bits): Total number of RTP data\npackets from SSRC_n lost during this session. • Extended Highest Sequence Number Received (32 bits): The least significant\n16 bits record the highest RTP data sequence number received from SSRC_n."
  },
  {
    "text": "The most significant 16 bits record the number of times the sequence number\nhas wrapped back to zero. • Interarrival Jitter (32 bits): An estimate of the jitter experienced on RTP data\npackets from SSRC_n, explained later. • Last SR Timestamp (32 bits): The middle 32 bits of the NTP timestamp in the\nlast SR packet received from SSRC_n."
  },
  {
    "text": "This captures the least significant half\nof the integer and the most significant half of the fractional part of the time-\nstamp and should be adequate. • Delay Since Last SR (32 bits): The delay, expressed in units of \nbetween receipt of the last SR packet from SSRC_n and the transmission of\nthis report block."
  },
  {
    "text": "These last two fields can be used by a source to estimate\nround-trip time to a particular receiver. Recall that delay jitter was defined as the maximum variation in delay experi-\nenced by packets in a single session.There is no simple way to measure this quantity\nat the receiver, but it is possible to estimate the average jitter in the following way."
  },
  {
    "text": "At a particular receiver, define the following parameters for a given source:\nS(I) \u0001 Timestamp from RTP data packet I. R(I) \u0001 Time of arrival for RTP data packet I. expressed in RTP time-\nstamp units.The receiver must use the same clock frequency\n(increment interval) as the source but need not synchronize\ntime values with the source."
  },
  {
    "text": "D(I) \u0001 The difference between the interarrival time at the receiver and\nthe spacing between adjacent RTP data packets leaving the source. J(I) \u0001 Estimated average interarrival jitter up to the receipt of RTP\ndata packet I. CHAPTER 24 / INTERNET APPLICATIONS—MULTIMEDIA\n3For comparison, see Equation (20.3)."
  },
  {
    "text": "The value of D(I) is calculated as\nThus, D(I) measures how much the spacing between arriving packets differs from\nthe spacing between transmitted packets."
  },
  {
    "text": "In the absence of jitter, the spacings will\nbe the same and D(I) will have a value of 0.The interarrival jitter is calculated con-\ntinuously as each data packet I is received, according to the formula\nIn this equation, J(I) is calculated as an exponential average3 of observed values of\nD(I)."
  },
  {
    "text": "Only a small weight is given to the most recent observation, so that temporary\nfluctuations do not invalidate the estimate. The values in the Sender Report enable senders, receivers, and network man-\nagers to monitor conditions on the network as they relate to a particular session."
  },
  {
    "text": "For\nexample, packet loss values give an indication of persistent congestion, while the jit-\nter measures transient congestion. The jitter measure may provide a warning of\nincreasing congestion before it leads to packet loss."
  },
  {
    "text": "Receiver Report (RR) The format for the Receiver Report (Figure 24.14b) is\nthe same as that for a Sender Report, except that the Packet Type field has a differ-\nent value and there is no sender information block. Source Description (SDES) The Source Description packet (Figure 24.14d) is\nused by a source to provide more information about itself."
  },
  {
    "text": "The packet consists of a\n32-bit header followed by zero or more chunks, each of which contains information\ndescribing this source. Each chunk begins with an identifier for this source or for a\ncontributing source.This is followed by a list of descriptive items. Table 24.3 lists the\ntypes of descriptive items defined in RFC 1889."
  },
  {
    "text": "This confirms to receivers that a prolonged silence is due to\ndeparture rather than network failure. If a BYE packet is received by a mixer,\nit is forwarded with the list of sources unchanged. The format of the BYE \npacket consists of a 32-bit header followed by one or more source identifiers."
  },
  {
    "text": "Optionally, the packet may include a textual description of the reason for \nApplication-Defined Packet This packet is intended for experimental use for\nfunctions and features that are application specific. Ultimately, an experimental\npacket type that proves generally useful may be assigned a packet type number and\nbecome part of the standardized RTCP."
  },
  {
    "text": "[GOOD02]\nand [SCHU99] discuss SIP in the context of VoIP. [DIAN02] looks at SIP in the context of the\nsupport of multimedia services over the Internet. Battista, S.; Casalio, F.; and Lande, C. “MPEG-4: A Multimedia Standard for the\nThird Millennium, Part 1.” IEEE Multimedia, October–December 1999."
  },
  {
    "text": "Battista, S.; Casalio, F.; and Lande, C.“MPEG-4:A Multimedia Standard for the\nThird Millennium, Part 2.” IEEE Multimedia, January–March 2000. Chiariglione, L. “The Impact of MPEG Standards on Multimedia Industry.”\nProceedings of the IEEE, June 1998. Dianda, J.; Gurbani, V.; and Jones, M. “Session Initiation Protocol Services \nArchitecture.” Bell Labs Technical Journal, Volume 7, Number 1, 2002."
  },
  {
    "text": "Gall, D. “MPEG: A Video Compression Standard for Multimedia Applica-\ntions.” Communications of the ACM, April 1991. Goode, B. “Voice Over Internet Protocol (VoIP).” Proceedings of the IEEE,\nSeptember 2002. Koenen, R. “MPEG-4: Multimedia for Our Time.” IEEE Spectrum, February\nNack, F., and Lindsay, A. “Everything You Wanted to Know about MPEG-7,\nPart 1.”IEEE Multimedia, July–September 1999."
  },
  {
    "text": "Nack, F., and Lindsay, A. “Everything You Wanted to Know about MPEG-7,\nPart 2.”IEEE Multimedia, October–December 1999. Sayood, K. Introduction to Data Compression. New York: Elsevier, 2006. Schulzrinne, H., and Rosenberg, J.“The IETF Internet Telephony Architecture\nand Protocols.” IEEE Network, May/June 1999."
  },
  {
    "text": "• SIP Working Group: Chartered by IETF to develop standards related to SIP. The\nWeb site includes all relevant RFCs and Internet drafts. • Audio/Video Transport Working Group: Chartered by IETF to develop standards\nrelated to RTP.The Web site includes all relevant RFCs and Internet drafts. • About RTP: Web site devoted to RTP developments, including technical and industry\ndevelopments."
  },
  {
    "text": "What are the five key services provided by SIP? List and briefly define the major components in an SIP network. What is the Session Description Protocol? What are some desirable properties for real-time communications? What is the difference between hard and soft real-time applications? What is the purpose of RTP? What is the difference between RTP and RTCP?"
  },
  {
    "text": "In the MPEG block diagram shown in Figure 24.2, interframe processing involves\ncomparing the current frame to a processed copy of preceding frames\nWhy not do the comparison between input frames? 1DCT1Q1Q-11DCT-11F22222."
  },
  {
    "text": "In RTP, senders periodically transmit a sender report message that provides an\nabsolute timestamp (the NTP Timestamp). The use of this absolute timestamp is\nessential to synchronize multiple streams, such as a video and an audio channel. Why\ncan’t RTP’s Timestamp field be used for that purpose?"
  },
  {
    "text": "Illustrate how the last two fields in an RTCP SR or RR receiver report block can be\nused to calculate round-trip propagation time. This page intentionally left blank \nlation is preferred; it makes for simpler expressions, and is it intuitively more satisfying to have frequency\nexpressed in Hz rather than radians per second."
  },
  {
    "text": "A.2 / FOURIER TRANSFORM REPRESENTATION OF APERIODIC SIGNALS\nThis relates to the earlier representation as follows:\nExamples of the Fourier series for periodic signals are shown in Figure A.1. A.2 FOURIER TRANSFORM REPRESENTATION \nFor a periodic signal, we have seen that its spectrum consists of discrete frequency\ncomponents, at the fundamental frequency and its harmonics."
  },
  {
    "text": "For an aperiodic sig-\nnal, the spectrum consists of a continuum of frequencies. This spectrum can be\ndefined by the Fourier transform. For a signal x(t) with a spectrum X(f), the follow-\ning relationships hold:\nThe presence of an imaginary number in the equations is a\nmatter of convenience."
  },
  {
    "text": "The imaginary component has a physical interpretation\nhaving to do with the phase of a waveform, and a discussion of this topic is\nbeyond the scope of this book. Figure A.2 presents some examples of Fourier transform pairs. Power Spectral Density and Bandwidth\nThe absolute bandwidth of any time-limited signal is infinite."
  },
  {
    "text": "In practical terms,\nhowever, most of the power in a signal is concentrated in some finite band, and the\neffective bandwidth consists of that portion of the spectrum that contains most of\nthe power.To make this concept precise, we need to define the power spectral den-\nsity (PSD)."
  },
  {
    "text": "In essence, the PSD describes the power content of a signal as a func-\ntion of frequency, so that it shows how much power is present over various\nfrequency bands. First, we observe the power in the time domain. A function x(t) usually speci-\nfies a signal in terms of either voltage or current."
  },
  {
    "text": "In either case, the instantaneous\npower in the signal is proportional to \nWe define the average power of a\ntime-limited signal as\nƒ x1t2ƒ 2 dt\n-qx1t2e- j2pft dt\n-qX1f2ej2pft df\nun = tan-1a -Bn"
  }
]